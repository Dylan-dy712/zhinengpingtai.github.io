<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¿ƒæ™ºâ€”GenAIèµ‹èƒ½ç§¯æå¿ƒç†å­¦ï¼Œæ„å»ºé«˜æ ¡å­¦ç”Ÿå¿ƒç†é“¶è¡Œ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary-color: #1a73e8;
            --primary-light: #4285f4;
            --primary-dark: #0d47a1;
            --secondary-color: #64b5f6;
            --accent-color: #bbdefb;
            --text-color: #333;
            --light-text: #fff;
            --bg-color: #f5f9ff;
            --card-bg: #fff;
            --border-radius: 12px;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }

        /* ç²‰è‰²ä¸»é¢˜å˜é‡ - ä¿®æ”¹ï¼šä¸æ”¹å˜èƒŒæ™¯å’Œæ–‡æœ¬é¢œè‰² */
        .theme-pink {
            --primary-color: #e91e63;
            --primary-light: #ec407a;
            --primary-dark: #ad1457;
            --secondary-color: #f48fb1;
            --accent-color: #fce4ec;
            /* ä¿æŒèƒŒæ™¯å’Œæ–‡æœ¬é¢œè‰²ä¸å˜ */
            --bg-color: #f5f9ff;
            --text-color: #333;
        }

        /* ç»¿è‰²ä¸»é¢˜å˜é‡ - ä¿®æ”¹ï¼šä¸æ”¹å˜èƒŒæ™¯å’Œæ–‡æœ¬é¢œè‰² */
        .theme-green {
            --primary-color: #4caf50;
            --primary-light: #66bb6a;
            --primary-dark: #388e3c;
            --secondary-color: #a5d6a7;
            --accent-color: #e8f5e9;
            /* ä¿æŒèƒŒæ™¯å’Œæ–‡æœ¬é¢œè‰²ä¸å˜ */
            --bg-color: #f5f9ff;
            --text-color: #333;
        }

        /* ç´«è‰²ä¸»é¢˜å˜é‡ - ä¿®æ”¹ï¼šä¸æ”¹å˜èƒŒæ™¯å’Œæ–‡æœ¬é¢œè‰² */
        .theme-purple {
            --primary-color: #9c27b0;
            --primary-light: #ba68c8;
            --primary-dark: #7b1fa2;
            --secondary-color: #ce93d8;
            --accent-color: #f3e5f5;
            /* ä¿æŒèƒŒæ™¯å’Œæ–‡æœ¬é¢œè‰²ä¸å˜ */
            --bg-color: #f5f9ff;
            --text-color: #333;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'PingFang SC', 'Helvetica Neue', Arial, sans-serif;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            transition: all 0.3s;
        }

        .container {
            max-width: 480px;
            margin: 0 auto;
            padding: 0 15px;
            position: relative;
            min-height: 100vh;
        }

        header {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-light));
            color: var(--light-text);
            padding: 20px 0;
            text-align: center;
            border-radius: 0 0 20px 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .subtitle {
            font-size: 14px;
            opacity: 0.9;
        }

        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: var(--card-bg);
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
            z-index: 100;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 12px;
            color: var(--text-color);
            text-decoration: none;
            transition: all 0.3s;
            flex: 1;
        }

        .nav-item.active {
            color: var(--primary-color);
        }

        .nav-icon {
            font-size: 20px;
            margin-bottom: 4px;
        }

        .card {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
        }

        .card-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            color: var(--primary-dark);
            display: flex;
            align-items: center;
        }

        .card-title i {
            margin-right: 10px;
            font-size: 20px;
        }

        .btn {
            display: inline-block;
            background-color: var(--primary-color);
            color: var(--light-text);
            border: none;
            padding: 12px 20px;
            border-radius: 30px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            text-decoration: none;
        }

        .btn:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
        }

        .btn-outline {
            background-color: transparent;
            border: 2px solid var(--primary-color);
            color: var(--primary-color);
        }

        .btn-outline:hover {
            background-color: var(--primary-color);
            color: var(--light-text);
        }

        .page {
            display: none;
            padding-bottom: 80px;
        }

        .page.active {
            display: block;
        }

        /* AIä¼™ä¼´ä¸»é¡µé¢æ ·å¼ */
        .ai-feature-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
        }

        .ai-feature-card {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 25px 20px;
            text-align: center;
            box-shadow: var(--shadow);
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            border-left: 4px solid var(--primary-color);
        }

        .ai-feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
        }

        .ai-feature-icon {
            font-size: 40px;
            margin-bottom: 15px;
            color: var(--primary-color);
        }

        .ai-feature-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .ai-feature-desc {
            font-size: 14px;
            color: #666;
            line-height: 1.5;
        }

        /* é‡è¡¨æ ·å¼ */
        .scale-card {
            margin-bottom: 20px;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .scale-card:hover {
            transform: translateY(-5px);
        }

        .scale-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .scale-name {
            font-size: 16px;
            font-weight: bold;
        }

        .scale-status {
            font-size: 12px;
            padding: 4px 8px;
            border-radius: 20px;
        }

        .status-completed {
            background-color: #e8f5e9;
            color: #2e7d32;
        }

        .status-available {
            background-color: #e3f2fd;
            color: var(--primary-color);
        }

        .scale-description {
            font-size: 14px;
            color: #666;
            margin-bottom: 10px;
        }

        /* å•é¢˜æµ‹è¯„æ ·å¼ */
        .question-container {
            text-align: center;
        }

        .progress-bar {
            height: 8px;
            background-color: #e0e0e0;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background-color: var(--primary-color);
            border-radius: 4px;
            transition: width 0.3s;
        }

        .progress-text {
            font-size: 14px;
            color: #666;
            margin-bottom: 10px;
        }

        .question-text {
            font-size: 18px;
            margin: 30px 0;
            line-height: 1.5;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin: 30px 0;
        }

        .option {
            display: flex;
            align-items: center;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .option:hover {
            background-color: #f5f5f5;
        }

        .option.selected {
            border-color: var(--primary-color);
            background-color: var(--accent-color);
        }

        .option-label {
            margin-left: 10px;
            font-size: 16px;
        }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .navigation-buttons .btn {
            width: 48%;
        }

        /* å›¾è¡¨å®¹å™¨ */
        .chart-container {
            width: 100%;
            height: 300px;
            margin: 20px 0;
        }

        /* èŠå¤©ç•Œé¢ */
        .chat-container {
            height: 400px;
            overflow-y: auto;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            padding: 15px;
            margin-bottom: 20px;
            background-color: #f9f9f9;
        }

        .message {
            margin-bottom: 15px;
            display: flex;
        }

        .user-message {
            justify-content: flex-end;
        }

        .ai-message {
            justify-content: flex-start;
        }

        .message-bubble {
            max-width: 80%;
            padding: 12px 15px;
            border-radius: 18px;
        }

        .user-message .message-bubble {
            background-color: var(--primary-color);
            color: white;
            border-bottom-right-radius: 4px;
        }

        .ai-message .message-bubble {
            background-color: white;
            border: 1px solid #ddd;
            border-bottom-left-radius: 4px;
        }

        .chat-input {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .chat-input input {
            flex: 1;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 30px;
            font-size: 16px;
        }

        .chat-input button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        /* è¡¨æƒ…é€‰æ‹©é¢æ¿ */
        .emoji-panel {
            position: absolute;
            bottom: 70px;
            left: 0;
            right: 0;
            background-color: white;
            border-radius: 15px;
            padding: 15px;
            box-shadow: 0 -5px 15px rgba(0,0,0,0.1);
            display: none;
            z-index: 200;
        }

        .emoji-panel.active {
            display: block;
        }

        .emoji-grid {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 10px;
            max-height: 200px;
            overflow-y: auto;
        }

        .emoji-item {
            font-size: 24px;
            text-align: center;
            cursor: pointer;
            padding: 5px;
            border-radius: 8px;
        }

        .emoji-item:hover {
            background-color: #f0f0f0;
        }

        .emoji-btn {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--primary-color);
        }

        /* è§†é¢‘é€šè¯æ ·å¼ */
        .video-call-container {
            position: relative;
            width: 100%;
            height: 300px;
            margin-bottom: 20px;
            border-radius: var(--border-radius);
            overflow: hidden;
            background-color: #000;
        }
        
        .user-video, .ai-video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .ai-video {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 120px;
            height: 90px;
            border: 2px solid var(--primary-color);
            z-index: 10;
        }
        
        .video-controls {
            position: absolute;
            bottom: 10px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            gap: 15px;
        }
        
        .video-btn {
            background-color: rgba(255, 255, 255, 0.8);
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 20px;
        }

        /* æƒ…ç»ªåˆ†æç»“æœ */
        .emotion-result {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 15px;
            margin-top: 15px;
            box-shadow: var(--shadow);
        }

        .emotion-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }

        .emotion-label {
            font-weight: 500;
        }

        .emotion-value {
            font-weight: bold;
            color: var(--primary-color);
        }

        /* åˆ†æé¢æ¿æ ·å¼ */
        .analysis-panel {
            margin-top: 15px;
            padding: 15px;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
        }
        
        .analysis-section {
            margin-bottom: 15px;
        }
        
        .analysis-title {
            font-weight: bold;
            margin-bottom: 8px;
            color: var(--primary-dark);
        }
        
        .analysis-content {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .analysis-tag {
            padding: 5px 10px;
            background-color: var(--accent-color);
            border-radius: 15px;
            font-size: 14px;
        }
        
        .speech-analysis {
            margin-top: 10px;
            padding: 10px;
            background-color: #f5f5f5;
            border-radius: 8px;
        }
        
        .speech-text {
            font-size: 14px;
            margin-bottom: 5px;
        }
        
        .speech-metrics {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #666;
        }
        
        .real-time-indicator {
            position: absolute;
            top: 10px;
            left: 10px;
            display: flex;
            align-items: center;
            background-color: rgba(0,0,0,0.6);
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            z-index: 10;
        }
        
        .recording-indicator {
            width: 10px;
            height: 10px;
            background-color: #ff3b30;
            border-radius: 50%;
            margin-right: 5px;
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        /* å¿ƒç†å’¨è¯¢å¸ˆåˆ—è¡¨æ ·å¼ */
        .counselor-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .counselor-card {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 15px;
            box-shadow: var(--shadow);
            border-left: 3px solid var(--primary-color);
        }
        
        .counselor-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .counselor-name {
            font-weight: bold;
            font-size: 16px;
        }
        
        .counselor-background {
            font-size: 14px;
            color: #666;
            margin-bottom: 8px;
        }
        
        .counselor-expertise {
            font-size: 14px;
            margin-bottom: 8px;
        }
        
        .counselor-experience {
            font-size: 13px;
            color: #888;
        }
        
        /* è¿”å›æŒ‰é’®æ ·å¼ */
        .back-btn {
            background: none;
            border: none;
            font-size: 18px;
            cursor: pointer;
            color: var(--primary-color);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 0;
        }

        /* å……å€¼é¡µé¢æ ·å¼ */
        .recharge-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        .recharge-option {
            border: 2px solid #ddd;
            border-radius: var(--border-radius);
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .recharge-option.selected {
            border-color: var(--primary-color);
            background-color: var(--accent-color);
        }

        .recharge-amount {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .recharge-coins {
            font-size: 14px;
            color: #666;
        }

        .recharge-bonus {
            font-size: 12px;
            color: var(--primary-color);
            margin-top: 5px;
        }

        /* å…‘æ¢å“æ ·å¼ */
        .product-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .product-card {
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            overflow: hidden;
            background-color: white;
        }

        .product-image {
            height: 120px;
            background-color: #f5f5f5;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            color: var(--primary-color);
        }

        .product-info {
            padding: 10px;
        }

        .product-name {
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .product-price {
            font-size: 16px;
            color: var(--primary-color);
            font-weight: bold;
        }

        /* ä¸ªäººé¡µé¢æ ·å¼ */
        .profile-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background-color: var(--primary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 30px;
            margin-right: 15px;
            background-size: cover;
            background-position: center;
        }

        .profile-info {
            flex: 1;
        }

        .user-name {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .user-level {
            font-size: 14px;
            color: #666;
            margin-bottom: 10px;
        }

        .coins-balance {
            font-size: 20px;
            color: var(--primary-color);
            font-weight: bold;
        }

        .quick-actions {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        .action-btn {
            background-color: white;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .action-btn:hover {
            background-color: #f5f5f5;
        }

        .action-icon {
            font-size: 24px;
            margin-bottom: 10px;
            color: var(--primary-color);
        }

        .action-label {
            font-size: 14px;
        }

        /* å“åº”å¼è°ƒæ•´ */
        @media (max-width: 480px) {
            .container {
                padding: 0 10px;
            }
            
            .card {
                padding: 15px;
            }
            
            .recharge-options {
                grid-template-columns: 1fr;
            }
            
            .product-grid {
                grid-template-columns: 1fr;
            }
            
            .ai-feature-grid {
                grid-template-columns: 1fr;
            }
        }

        /* ç­¾åˆ°æ—¥å†æ ·å¼ */
        .calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            margin-top: 15px;
        }

        .calendar-day {
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background-color: #f5f5f5;
        }

        .calendar-day.checked {
            background-color: var(--primary-color);
            color: white;
        }

        /* åŠŸèƒ½é¡µé¢æ ·å¼ */
        .function-page {
            display: none;
        }

        .function-page.active {
            display: block;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
        }

        .form-textarea {
            min-height: 120px;
            resize: vertical;
        }

        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 20px;
            cursor: pointer;
        }

        .checkbox-item.selected {
            background-color: var(--accent-color);
            border-color: var(--primary-color);
        }

        .tag-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }

        .tag {
            padding: 6px 12px;
            background-color: #f0f0f0;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
        }

        .tag.selected {
            background-color: var(--primary-color);
            color: white;
        }

        .activity-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .activity-item {
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            background-color: white;
        }

        .activity-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .activity-title {
            font-weight: bold;
        }

        .activity-date {
            font-size: 14px;
            color: #666;
        }

        .activity-content {
            font-size: 14px;
            color: #555;
        }

        .hotline-card {
            margin-bottom: 15px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            background-color: white;
        }

        .hotline-name {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .hotline-number {
            font-size: 18px;
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .hotline-info {
            font-size: 14px;
            color: #666;
        }

        /* å¸Œæœ›ç›²ç›’æ ·å¼ */
        .hope-box-container {
            text-align: center;
            padding: 20px 0;
        }

        .hope-box {
            width: 200px;
            height: 200px;
            margin: 0 auto 30px;
            background: linear-gradient(135deg, #ffd700, #ffa500);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 60px;
            cursor: pointer;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }

        .hope-box:hover {
            transform: scale(1.05);
        }

        .hope-box.opening {
            animation: shake 0.5s ease-in-out;
        }

        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            50% { transform: translateX(10px); }
            75% { transform: translateX(-10px); }
            100% { transform: translateX(0); }
        }

        .task-card {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 20px;
            margin: 20px 0;
            box-shadow: var(--shadow);
            text-align: left;
        }

        .task-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--primary-dark);
        }

        .task-description {
            font-size: 14px;
            color: #666;
            margin-bottom: 15px;
        }

        .task-tip {
            font-size: 14px;
            color: var(--primary-color);
            background-color: var(--accent-color);
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 15px;
        }

        /* å¿ƒæ™ºä¿¡ç®±æ ·å¼ */
        .mailbox-container {
            text-align: center;
        }

        .mailbox-icon {
            font-size: 80px;
            color: var(--primary-color);
            margin: 20px 0;
        }

        .steps {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin: 30px 0;
        }

        .step {
            display: flex;
            align-items: center;
            text-align: left;
        }

        .step-number {
            width: 30px;
            height: 30px;
            background-color: var(--primary-color);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            flex-shrink: 0;
        }

        .step-content {
            flex: 1;
        }

        .step-title {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .step-description {
            font-size: 14px;
            color: #666;
        }

        /* ç­¾åˆ°è®°å½•é¡µé¢æ ·å¼ */
        .checkin-calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
            margin-top: 15px;
        }
        
        .calendar-day {
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background-color: #f5f5f5;
            font-size: 14px;
            cursor: pointer;
        }
        
        .calendar-day.checked {
            background-color: var(--primary-color);
            color: white;
        }
        
        .calendar-day.today {
            border: 2px solid var(--primary-color);
        }
        
        .calendar-day.checked.today {
            border: 2px solid white;
        }
        
        .calendar-header {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
            margin-bottom: 10px;
            text-align: center;
            font-weight: bold;
            font-size: 14px;
        }
        
        .checkin-stats {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid #eee;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-value {
            font-size: 20px;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .stat-label {
            font-size: 12px;
            color: #666;
        }
        
        /* å†å²è®°å½•é¡µé¢æ ·å¼ */
        .history-tabs {
            display: flex;
            border-bottom: 1px solid #ddd;
            margin-bottom: 15px;
        }
        
        .history-tab {
            padding: 10px 15px;
            cursor: pointer;
            border-bottom: 2px solid transparent;
        }
        
        .history-tab.active {
            border-bottom: 2px solid var(--primary-color);
            color: var(--primary-color);
            font-weight: bold;
        }
        
        .history-list {
            max-height: 400px;
            overflow-y: auto;
        }
        
        .history-item {
            display: flex;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #eee;
        }
        
        .history-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--accent-color);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            font-size: 18px;
        }
        
        .history-content {
            flex: 1;
        }
        
        .history-title {
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .history-time {
            font-size: 12px;
            color: #666;
        }
        
        .history-coins {
            font-size: 14px;
            color: var(--primary-color);
            font-weight: bold;
        }
        
        /* å¸¸ç”¨åŠŸèƒ½é¡µé¢æ ·å¼ */
        .favorites-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }
        
        .favorite-item {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 15px 10px;
            text-align: center;
            box-shadow: var(--shadow);
            cursor: pointer;
            transition: transform 0.3s;
        }
        
        .favorite-item:hover {
            transform: translateY(-5px);
        }
        
        .favorite-icon {
            font-size: 24px;
            margin-bottom: 10px;
            color: var(--primary-color);
        }
        
        .favorite-name {
            font-size: 14px;
            font-weight: bold;
        }
        
        .favorite-desc {
            font-size: 12px;
            color: #666;
            margin-top: 5px;
        }
        
        /* æˆ‘çš„æŠ¥å‘Šé¡µé¢æ ·å¼ */
        .report-cards {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .report-card {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 15px;
            box-shadow: var(--shadow);
        }
        
        .report-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .report-title {
            font-weight: bold;
            font-size: 16px;
        }
        
        .report-date {
            font-size: 12px;
            color: #666;
        }
        
        .report-summary {
            font-size: 14px;
            color: #555;
            margin-bottom: 15px;
        }
        
        .report-chart {
            height: 150px;
            margin: 10px 0;
        }
        
        .report-actions {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }
        
        /* è´¦å·ä¿¡æ¯é¡µé¢æ ·å¼ */
        .account-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .avatar-options {
            display: flex;
            justify-content: space-around;
            margin-top: 10px;
        }
        
        .avatar-option {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: pointer;
            border: 2px solid transparent;
        }
        
        .avatar-option.selected {
            border-color: var(--primary-color);
        }
        
        /* ç•™è¨€ä¸­å¿ƒæ ·å¼ */
        .feedback-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .feedback-type {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }
        
        .feedback-type-btn {
            padding: 8px 15px;
            border: 1px solid #ddd;
            border-radius: 20px;
            background-color: white;
            cursor: pointer;
        }
        
        .feedback-type-btn.selected {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        
        /* è®¤è¯ä¸­å¿ƒæ ·å¼ */
        .verification-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .verification-status {
            text-align: center;
            padding: 20px;
            border-radius: var(--border-radius);
            margin-bottom: 20px;
        }
        
        .status-verified {
            background-color: #e8f5e9;
            color: #2e7d32;
        }
        
        .status-pending {
            background-color: #fff3e0;
            color: #ef6c00;
        }
        
        .status-unverified {
            background-color: #ffebee;
            color: #c62828;
        }
        
        /* åœ¨çº¿å®¢æœæ ·å¼ */
        .faq-section {
            margin-bottom: 20px;
        }
        
        .faq-item {
            margin-bottom: 15px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            overflow: hidden;
        }
        
        .faq-question {
            padding: 15px;
            background-color: #f5f5f5;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .faq-answer {
            padding: 15px;
            display: none;
        }
        
        .faq-item.active .faq-answer {
            display: block;
        }
        
        .customer-service-chat {
            margin-top: 20px;
        }

        /* å…‘æ¢è®°å½•æ ·å¼ */
        .exchange-record-item {
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            margin-bottom: 15px;
            background-color: white;
        }

        .exchange-record-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .exchange-record-title {
            font-weight: bold;
            font-size: 16px;
        }

        .exchange-record-date {
            font-size: 14px;
            color: #666;
        }

        .exchange-record-status {
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
        }

        .status-shipped {
            background-color: #e3f2fd;
            color: #1976d2;
        }

        .status-pending {
            background-color: #fff3e0;
            color: #f57c00;
        }

        .status-delivered {
            background-color: #e8f5e9;
            color: #388e3c;
        }

        .exchange-record-details {
            font-size: 14px;
            color: #555;
        }

        /* æ”¶è´§åœ°å€é¡µé¢æ ·å¼ */
        .shipping-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        /* ä¸»é¢˜è®¾ç½®æ ·å¼ */
        .theme-options {
            display: flex;
            gap: 15px;
            margin-top: 10px;
        }

        .theme-option {
            width: 60px;
            height: 60px;
            border-radius: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            border: 2px solid transparent;
        }

        .theme-option.selected {
            border-color: var(--primary-color);
        }

        .theme-blue {
            background-color: #1a73e8;
            color: white;
        }

        .theme-pink {
            background-color: #e91e63;
            color: white;
        }

        .theme-green {
            background-color: #4caf50;
            color: white;
        }

        .theme-purple {
            background-color: #9c27b0;
            color: white;
        }
        
        /* å¤´åƒä¸Šä¼ æ ·å¼ */
        .avatar-upload-container {
            margin-top: 15px;
            text-align: center;
        }
        
        .avatar-upload-btn {
            display: inline-block;
            padding: 10px 20px;
            background-color: var(--primary-color);
            color: white;
            border-radius: 20px;
            cursor: pointer;
            margin-top: 10px;
        }
        
        .avatar-upload-btn input {
            display: none;
        }
        
        .avatar-preview {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            margin: 15px auto;
            background-size: cover;
            background-position: center;
            border: 2px solid var(--primary-color);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- å¤´éƒ¨ -->
        <header>
            <div class="logo">å¿ƒæ™º</div>
            <div class="subtitle">GenAIèµ‹èƒ½ç§¯æå¿ƒç†å­¦ï¼Œæ„å»ºé«˜æ ¡å­¦ç”Ÿå¿ƒç†é“¶è¡Œ</div>
        </header>

        <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
        <main>
            <!-- å¿ƒçµæ¡£æ¡ˆé¡µé¢ -->
            <section id="page-archive" class="page active">
                <div class="card">
                    <h2 class="card-title">å¿ƒçµæ¡£æ¡ˆ</h2>
                    <p>é€šè¿‡ç§‘å­¦é‡è¡¨è¯„ä¼°æ‚¨çš„å¿ƒç†çŠ¶æ€ï¼Œå»ºç«‹ä¸“å±å¿ƒç†æ¡£æ¡ˆ</p>
                </div>

                <div class="card">
                    <h3 class="card-title">å¿ƒç†é‡è¡¨æµ‹è¯„</h3>
                    <div id="scales-list">
                        <!-- é‡è¡¨åˆ—è¡¨å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>

                <div id="scale-detail" class="card" style="display: none;">
                    <h3 id="scale-detail-title" class="card-title"></h3>
                    <div id="scale-questions" class="question-container">
                        <!-- é‡è¡¨é—®é¢˜å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>

                <div id="scale-result" class="card" style="display: none;">
                    <h3 class="card-title">æµ‹è¯„ç»“æœ</h3>
                    <div id="result-content">
                        <!-- æµ‹è¯„ç»“æœå°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                    <button id="back-to-scales" class="btn">è¿”å›é‡è¡¨åˆ—è¡¨</button>
                </div>
            </section>

            <!-- å¿ƒç†é“¶è¡Œé¡µé¢ -->
            <section id="page-bank" class="page">
                <div class="card">
                    <h2 class="card-title">å¿ƒç†é“¶è¡Œ</h2>
                    <p>é€šè¿‡æ—¥å¸¸ç§¯æå¿ƒç†ç»ƒä¹ ç§¯ç´¯å¿ƒç†è´§å¸ï¼Œæå‡å¿ƒç†å¥åº·æ°´å¹³</p>
                </div>

                <div class="card">
                    <h3 class="card-title">å¿ƒç†ç»ƒä¹ </h3>
                    <div class="quick-actions">
                        <div class="action-btn" id="gratitude-journal">
                            <div class="action-icon">ğŸ“</div>
                            <div class="action-label">æ„Ÿæ©æ—¥è®°</div>
                        </div>
                        <div class="action-btn" id="flow-moment">
                            <div class="action-icon">âœ¨</div>
                            <div class="action-label">å¿ƒæµæ—¶åˆ»</div>
                        </div>
                        <div class="action-btn" id="hope-box">
                            <div class="action-icon">ğŸ</div>
                            <div class="action-label">å¸Œæœ›ç›²ç›’</div>
                        </div>
                        <div class="action-btn" id="mind-mailbox">
                            <div class="action-icon">âœ‰ï¸</div>
                            <div class="action-label">å¿ƒæ™ºä¿¡ç®±</div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">å¿ƒç†æ´åŠ©çƒ­çº¿</h3>
                    <div id="hotline-list">
                        <!-- çƒ­çº¿åˆ—è¡¨å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>
            </section>

            <!-- AIä¼™ä¼´ä¸»é¡µé¢ -->
            <section id="page-ai" class="page">
                <div class="card">
                    <h2 class="card-title">AIæˆé•¿ä¼™ä¼´</h2>
                    <p>24å°æ—¶åœ¨çº¿çš„AIå¿ƒç†ä¼™ä¼´ï¼Œä¸ºæ‚¨æä¾›æƒ…æ„Ÿæ”¯æŒå’Œæˆé•¿æŒ‡å¯¼</p>
                </div>

                <div class="card">
                    <h3 class="card-title">åŠŸèƒ½é€‰æ‹©</h3>
                    <div class="ai-feature-grid">
                        <div class="ai-feature-card" data-page="page-ai-chat">
                            <div class="ai-feature-icon">ğŸ’¬</div>
                            <div class="ai-feature-title">AIå¯¹è¯</div>
                            <div class="ai-feature-desc">ä¸AIå¿ƒç†ä¼™ä¼´è¿›è¡Œæ–‡å­—äº¤æµï¼Œè·å¾—æƒ…æ„Ÿæ”¯æŒå’Œæˆé•¿å»ºè®®</div>
                        </div>
                        <div class="ai-feature-card" data-page="page-ai-video">
                            <div class="ai-feature-icon">ğŸ“¹</div>
                            <div class="ai-feature-title">è§†é¢‘æƒ…ç»ªåˆ†æ</div>
                            <div class="ai-feature-desc">é€šè¿‡è§†é¢‘é€šè¯è¿›è¡Œå®æ—¶æƒ…ç»ªåˆ†æï¼Œè·å–ä¸“ä¸šå¿ƒç†åé¦ˆ</div>
                        </div>
                        <div class="ai-feature-card" data-page="page-ai-counseling">
                            <div class="ai-feature-icon">ğŸ‘¨â€âš•ï¸</div>
                            <div class="ai-feature-title">å¿ƒç†å’¨è¯¢é¢„çº¦</div>
                            <div class="ai-feature-desc">é¢„çº¦ä¸“ä¸šå¿ƒç†å’¨è¯¢å¸ˆï¼Œè·å–ä¸ªæ€§åŒ–å¿ƒç†è¾…å¯¼æœåŠ¡</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- AIå¯¹è¯å­é¡µé¢ -->
            <section id="page-ai-chat" class="page">
                <button class="back-btn" data-back="page-ai">â† è¿”å›AIä¼™ä¼´</button>
                <div class="card">
                    <h2 class="card-title">AIå¯¹è¯</h2>
                    <p>ä¸AIå¿ƒç†ä¼™ä¼´è¿›è¡Œæ–‡å­—äº¤æµï¼Œè·å¾—æƒ…æ„Ÿæ”¯æŒå’Œæˆé•¿å»ºè®®</p>
                </div>

                <div class="card">
                    <h3 class="card-title">AIå¯¹è¯</h3>
                    <div class="chat-container" id="chat-messages">
                        <div class="message ai-message">
                            <div class="message-bubble">
                                æ‚¨å¥½ï¼æˆ‘æ˜¯æ‚¨çš„AIæˆé•¿ä¼™ä¼´ï¼Œéšæ—¶ä¸ºæ‚¨æä¾›å¿ƒç†æ”¯æŒå’Œæˆé•¿æŒ‡å¯¼ã€‚æ‚¨ä»Šå¤©æ„Ÿè§‰æ€ä¹ˆæ ·ï¼Ÿ
                            </div>
                        </div>
                    </div>
                    <div class="chat-input">
                        <input type="text" id="chat-input" placeholder="è¾“å…¥æ‚¨æƒ³è¯´çš„è¯...">
                        <button id="emoji-btn" class="emoji-btn">ğŸ˜Š</button>
                        <button id="send-message">å‘é€</button>
                    </div>
                    <div class="emoji-panel" id="emoji-panel">
                        <div class="emoji-grid" id="emoji-grid">
                            <!-- è¡¨æƒ…åŒ…å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- è§†é¢‘æƒ…ç»ªåˆ†æå­é¡µé¢ -->
            <section id="page-ai-video" class="page">
                <button class="back-btn" data-back="page-ai">â† è¿”å›AIä¼™ä¼´</button>
                <div class="card">
                    <h2 class="card-title">è§†é¢‘æƒ…ç»ªåˆ†æ</h2>
                    <p>é€šè¿‡è§†é¢‘é€šè¯è¿›è¡Œå®æ—¶æƒ…ç»ªåˆ†æï¼Œè·å–ä¸“ä¸šå¿ƒç†åé¦ˆ</p>
                </div>

                <div class="card">
                    <h3 class="card-title">è§†é¢‘æƒ…ç»ªåˆ†æ</h3>
                    <div class="video-call-container">
                        <div class="real-time-indicator">
                            <div class="recording-indicator"></div>
                            å®æ—¶åˆ†æä¸­
                        </div>
                        <video id="user-video" class="user-video" autoplay muted></video>
                        <video id="ai-video" class="ai-video" autoplay muted></video>
                        <div class="video-controls">
                            <button id="start-call" class="video-btn">ğŸ“</button>
                            <button id="end-call" class="video-btn" style="display: none;">ğŸ“µ</button>
                            <button id="toggle-audio" class="video-btn">ğŸ¤</button>
                            <button id="toggle-video" class="video-btn">ğŸ“¹</button>
                        </div>
                    </div>
                    
                    <div class="analysis-panel">
                        <div class="analysis-section">
                            <div class="analysis-title">é¢éƒ¨è¡¨æƒ…åˆ†æ</div>
                            <div class="analysis-content" id="facial-analysis">
                                <!-- é¢éƒ¨è¡¨æƒ…åˆ†æç»“æœ -->
                            </div>
                        </div>
                        
                        <div class="analysis-section">
                            <div class="analysis-title">æƒ…ç»ªçŠ¶æ€</div>
                            <div class="analysis-content" id="emotion-analysis">
                                <!-- æƒ…ç»ªçŠ¶æ€åˆ†æç»“æœ -->
                            </div>
                        </div>
                        
                        <div class="analysis-section">
                            <div class="analysis-title">è¯­éŸ³åˆ†æ</div>
                            <div class="speech-analysis">
                                <div class="speech-text" id="speech-text">ç­‰å¾…è¯­éŸ³è¾“å…¥...</div>
                                <div class="speech-metrics">
                                    <span>è¯­é€Ÿ: <span id="speech-rate">0</span> å­—/åˆ†é’Ÿ</span>
                                    <span>è¯­è°ƒ: <span id="speech-tone">å¹³ç¨³</span></span>
                                    <span>è¯­ä¹‰: <span id="speech-semantic">ä¸­æ€§</span></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- å¿ƒç†å’¨è¯¢é¢„çº¦å­é¡µé¢ -->
            <section id="page-ai-counseling" class="page">
                <button class="back-btn" data-back="page-ai">â† è¿”å›AIä¼™ä¼´</button>
                <div class="card">
                    <h2 class="card-title">å¿ƒç†å’¨è¯¢é¢„çº¦</h2>
                    <p>é€‰æ‹©ä¸“ä¸šå¿ƒç†å’¨è¯¢å¸ˆï¼Œé¢„çº¦çº¿ä¸Šæˆ–çº¿ä¸‹å’¨è¯¢æœåŠ¡</p>
                </div>

                <div class="card">
                    <h3 class="card-title">å¿ƒç†å’¨è¯¢å¸ˆ</h3>
                    <div class="counselor-list" id="counselor-list">
                        <!-- å¿ƒç†å’¨è¯¢å¸ˆåˆ—è¡¨å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>

                <div class="card" id="booking-form" style="display: none;">
                    <h3 class="card-title">é¢„çº¦å’¨è¯¢</h3>
                    <div class="form-group">
                        <label class="form-label">å’¨è¯¢å¸ˆ</label>
                        <input type="text" class="form-input" id="selected-counselor" readonly>
                    </div>
                    <div class="form-group">
                        <label class="form-label">é¢„çº¦æ—¥æœŸ</label>
                        <input type="date" class="form-input" id="booking-date" min="">
                    </div>
                    <div class="form-group">
                        <label class="form-label">å’¨è¯¢æ–¹å¼</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item" data-value="çº¿ä¸Š">çº¿ä¸Šå’¨è¯¢</div>
                            <div class="checkbox-item" data-value="çº¿ä¸‹">çº¿ä¸‹å’¨è¯¢</div>
                        </div>
                    </div>
                    <button class="btn" id="submit-booking">æäº¤é¢„çº¦</button>
                </div>
            </section>

            <!-- å…‘æ¢ä¸šåŠ¡é¡µé¢ -->
            <section id="page-exchange" class="page">
                <div class="card">
                    <h2 class="card-title">å…‘æ¢ä¸šåŠ¡</h2>
                    <p>ä½¿ç”¨å¿ƒç†è´§å¸å…‘æ¢å„ç±»å¥–åŠ±å’ŒæœåŠ¡</p>
                </div>

                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h3 class="card-title">å¿ƒç†è´§å¸å…‘æ¢ç«™</h3>
                        <div id="current-coins" style="font-size: 18px; font-weight: bold; color: var(--primary-color);">æˆ‘çš„è´§å¸: 0æš</div>
                    </div>
                    
                    <div class="product-grid" id="exchange-products">
                        <!-- å…‘æ¢å“å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>

                <!-- æ–°å¢å…‘æ¢è®°å½•åŠŸèƒ½ -->
                <div class="card">
                    <h3 class="card-title">å…‘æ¢è®°å½•</h3>
                    <div id="exchange-records">
                        <!-- å…‘æ¢è®°å½•å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                    <button class="btn" id="view-all-records" style="width: 100%; margin-top: 15px;">æŸ¥çœ‹å…¨éƒ¨è®°å½•</button>
                </div>
            </section>

            <!-- æˆ‘çš„é¡µé¢ -->
            <section id="page-profile" class="page">
                <div class="card">
                    <div class="profile-header">
                        <div class="avatar" id="user-avatar">ç”¨</div>
                        <div class="profile-info">
                            <div class="user-name">ç”¨æˆ·æ˜µç§°</div>
                            <div class="user-level">ç­‰çº§: åˆçº§æ¢ç´¢è€…</div>
                            <div class="coins-balance">å¿ƒç†è´§å¸: <span id="profile-coins">0</span>æš</div>
                        </div>
                    </div>
                    <button class="btn" id="recharge-btn">å……å€¼å¿ƒç†è´§å¸</button>
                </div>

                <div class="card">
                    <h3 class="card-title">å¿«é€Ÿå…¥å£</h3>
                    <div class="quick-actions">
                        <div class="action-btn" id="checkin-history">
                            <div class="action-icon">ğŸ“…</div>
                            <div class="action-label">ç­¾åˆ°è®°å½•</div>
                        </div>
                        <div class="action-btn" id="activity-history">
                            <div class="action-icon">ğŸ“Š</div>
                            <div class="action-label">å†å²è®°å½•</div>
                        </div>
                        <div class="action-btn" id="favorite-functions">
                            <div class="action-icon">â­</div>
                            <div class="action-label">å¸¸ç”¨åŠŸèƒ½</div>
                        </div>
                        <div class="action-btn" id="my-reports">
                            <div class="action-icon">ğŸ“‹</div>
                            <div class="action-label">æˆ‘çš„æŠ¥å‘Š</div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">å…¶ä»–åŠŸèƒ½</h3>
                    <div class="quick-actions">
                        <div class="action-btn" id="account-info">
                            <div class="action-icon">ğŸ‘¤</div>
                            <div class="action-label">è´¦å·ä¿¡æ¯</div>
                        </div>
                        <div class="action-btn" id="message-center">
                            <div class="action-icon">ğŸ’¬</div>
                            <div class="action-label">ç•™è¨€ä¸­å¿ƒ</div>
                        </div>
                        <div class="action-btn" id="certification-center">
                            <div class="action-icon">âœ…</div>
                            <div class="action-label">è®¤è¯ä¸­å¿ƒ</div>
                        </div>
                        <div class="action-btn" id="online-service">
                            <div class="action-icon">ğŸ’</div>
                            <div class="action-label">åœ¨çº¿å®¢æœ</div>
                        </div>
                    </div>
                </div>

                <!-- æ–°å¢è®¾ç½®åŠŸèƒ½ -->
                <div class="card">
                    <h3 class="card-title">è®¾ç½®</h3>
                    <div class="form-group">
                        <label class="form-label">ä¸»é¢˜è®¾ç½®</label>
                        <div class="theme-options">
                            <div class="theme-option theme-blue selected" data-theme="default">
                                <i class="fas fa-palette"></i>
                            </div>
                            <div class="theme-option theme-pink" data-theme="pink">
                                <i class="fas fa-palette"></i>
                            </div>
                            <div class="theme-option theme-green" data-theme="green">
                                <i class="fas fa-palette"></i>
                            </div>
                            <div class="theme-option theme-purple" data-theme="purple">
                                <i class="fas fa-palette"></i>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label" style="display: flex; justify-content: space-between;">
                            <span>å…è®¸å¹³å°æ”¶é›†åŒ¿åæ•°æ®ç”¨äºæ”¹è¿›æœåŠ¡</span>
                            <input type="checkbox" id="data-collection" checked>
                        </label>
                    </div>
                    <div class="form-group">
                        <label class="form-label" style="display: flex; justify-content: space-between;">
                            <span>æ¥æ”¶å¿ƒç†æˆé•¿ç›¸å…³æ¨é€é€šçŸ¥</span>
                            <input type="checkbox" id="push-notifications" checked>
                        </label>
                    </div>
                </div>
            </section>

            <!-- å…¶ä»–é¡µé¢ä¿æŒä¸å˜ -->
            <!-- å……å€¼é¡µé¢ -->
            <section id="page-recharge" class="page">
                <div class="card">
                    <h2 class="card-title">å……å€¼å¿ƒç†è´§å¸</h2>
                    <p>é€‰æ‹©å……å€¼æ¡£ä½ï¼Œè·å–æ›´å¤šå¿ƒç†è´§å¸</p>
                </div>

                <div class="card">
                    <h3 class="card-title">é€‰æ‹©å……å€¼æ¡£ä½</h3>
                    <div class="recharge-options" id="recharge-options">
                        <!-- å……å€¼é€‰é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                    <button class="btn" id="confirm-recharge" style="width: 100%;">ç¡®è®¤å……å€¼</button>
                </div>
            </section>

            <!-- å…‘æ¢è®°å½•é¡µé¢ -->
            <section id="page-exchange-records" class="page">
                <div class="card">
                    <h2 class="card-title">å…‘æ¢è®°å½•</h2>
                    <p>æŸ¥çœ‹æ‚¨çš„æ‰€æœ‰å…‘æ¢è®°å½•å’Œç‰©æµä¿¡æ¯</p>
                </div>

                <div class="card">
                    <h3 class="card-title">å…¨éƒ¨å…‘æ¢è®°å½•</h3>
                    <div id="all-exchange-records">
                        <!-- å…¨éƒ¨å…‘æ¢è®°å½•å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>
            </section>

            <!-- æ”¶è´§åœ°å€é¡µé¢ -->
            <section id="page-shipping-address" class="page">
                <div class="card">
                    <h2 class="card-title">å¡«å†™æ”¶è´§ä¿¡æ¯</h2>
                    <p>è¯·å¡«å†™æ‚¨çš„æ”¶è´§åœ°å€ï¼Œæˆ‘ä»¬å°†å°½å¿«ä¸ºæ‚¨å‘è´§</p>
                </div>

                <div class="card">
                    <h3 class="card-title">æ”¶è´§ä¿¡æ¯</h3>
                    <div class="shipping-form">
                        <div class="form-group">
                            <label class="form-label">æ”¶è´§äººå§“å</label>
                            <input type="text" class="form-input" id="shipping-name" placeholder="è¯·è¾“å…¥æ”¶è´§äººå§“å">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">è”ç³»ç”µè¯</label>
                            <input type="tel" class="form-input" id="shipping-phone" placeholder="è¯·è¾“å…¥è”ç³»ç”µè¯">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">æ‰€åœ¨åœ°åŒº</label>
                            <div style="display: flex; gap: 10px;">
                                <select class="form-select" id="shipping-province">
                                    <option value="">è¯·é€‰æ‹©çœä»½</option>
                                    <option value="åŒ—äº¬">åŒ—äº¬</option>
                                    <option value="ä¸Šæµ·">ä¸Šæµ·</option>
                                    <option value="å¤©æ´¥">å¤©æ´¥</option>
                                    <option value="é‡åº†">é‡åº†</option>
                                    <option value="æ²³åŒ—">æ²³åŒ—</option>
                                    <option value="å±±è¥¿">å±±è¥¿</option>
                                    <option value="å†…è’™å¤">å†…è’™å¤</option>
                                    <option value="è¾½å®">è¾½å®</option>
                                    <option value="å‰æ—">å‰æ—</option>
                                    <option value="é»‘é¾™æ±Ÿ">é»‘é¾™æ±Ÿ</option>
                                    <option value="æ±Ÿè‹">æ±Ÿè‹</option>
                                    <option value="æµ™æ±Ÿ">æµ™æ±Ÿ</option>
                                    <option value="å®‰å¾½">å®‰å¾½</option>
                                    <option value="ç¦å»º">ç¦å»º</option>
                                    <option value="æ±Ÿè¥¿">æ±Ÿè¥¿</option>
                                    <option value="å±±ä¸œ">å±±ä¸œ</option>
                                    <option value="æ²³å—">æ²³å—</option>
                                    <option value="æ¹–åŒ—">æ¹–åŒ—</option>
                                    <option value="æ¹–å—">æ¹–å—</option>
                                    <option value="å¹¿ä¸œ">å¹¿ä¸œ</option>
                                    <option value="å¹¿è¥¿">å¹¿è¥¿</option>
                                    <option value="æµ·å—">æµ·å—</option>
                                    <option value="å››å·">å››å·</option>
                                    <option value="è´µå·">è´µå·</option>
                                    <option value="äº‘å—">äº‘å—</option>
                                    <option value="è¥¿è—">è¥¿è—</option>
                                    <option value="é™•è¥¿">é™•è¥¿</option>
                                    <option value="ç”˜è‚ƒ">ç”˜è‚ƒ</option>
                                    <option value="é’æµ·">é’æµ·</option>
                                    <option value="å®å¤">å®å¤</option>
                                    <option value="æ–°ç–†">æ–°ç–†</option>
                                    <option value="é¦™æ¸¯">é¦™æ¸¯</option>
                                    <option value="æ¾³é—¨">æ¾³é—¨</option>
                                    <option value="å°æ¹¾">å°æ¹¾</option>
                                </select>
                                <select class="form-select" id="shipping-city">
                                    <option value="">è¯·é€‰æ‹©åŸå¸‚</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">è¯¦ç»†åœ°å€</label>
                            <input type="text" class="form-input" id="shipping-address" placeholder="è¯·è¾“å…¥è¯¦ç»†åœ°å€ï¼ˆè¡—é“ã€é—¨ç‰Œå·ç­‰ï¼‰">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">é‚®æ”¿ç¼–ç </label>
                            <input type="text" class="form-input" id="shipping-zip" placeholder="è¯·è¾“å…¥é‚®æ”¿ç¼–ç ">
                        </div>
                        
                        <button class="btn" id="submit-shipping" style="width: 100%;">æäº¤æ”¶è´§ä¿¡æ¯</button>
                    </div>
                </div>
            </section>

            <!-- ç­¾åˆ°è®°å½•é¡µé¢ -->
            <section id="page-checkin-history" class="page">
                <div class="card">
                    <h2 class="card-title">ç­¾åˆ°è®°å½•</h2>
                    <p>æ¯æ—¥ç­¾åˆ°è·å–å¿ƒç†è´§å¸ï¼Œå…»æˆç§¯æå¿ƒç†ä¹ æƒ¯</p>
                </div>

                <div class="card">
                    <h3 class="card-title">æœ¬æœˆç­¾åˆ°æ—¥å†</h3>
                    <div class="calendar-header">
                        <div>æ—¥</div>
                        <div>ä¸€</div>
                        <div>äºŒ</div>
                        <div>ä¸‰</div>
                        <div>å››</div>
                        <div>äº”</div>
                        <div>å…­</div>
                    </div>
                    <div class="checkin-calendar" id="checkin-calendar">
                        <!-- æ—¥å†å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                    
                    <div class="checkin-stats">
                        <div class="stat-item">
                            <div class="stat-value" id="current-streak">0</div>
                            <div class="stat-label">è¿ç»­ç­¾åˆ°</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="month-checkins">0</div>
                            <div class="stat-label">æœ¬æœˆç­¾åˆ°</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="total-checkins">0</div>
                            <div class="stat-label">æ€»ç­¾åˆ°æ•°</div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">ç­¾åˆ°å¥–åŠ±è§„åˆ™</h3>
                    <div id="checkin-rules">
                        <div class="activity-item">
                            <div class="activity-header">
                                <div class="activity-title">è¿ç»­ç­¾åˆ°å¥–åŠ±</div>
                            </div>
                            <div class="activity-content">
                                <p>è¿ç»­ç­¾åˆ°1å¤©ï¼š15å¿ƒç†è´§å¸</p>
                                <p>è¿ç»­ç­¾åˆ°2å¤©ï¼š15å¿ƒç†è´§å¸</p>
                                <p>è¿ç»­ç­¾åˆ°3å¤©ï¼š20å¿ƒç†è´§å¸</p>
                                <p>è¿ç»­ç­¾åˆ°4å¤©ï¼š15å¿ƒç†è´§å¸</p>
                                <p>è¿ç»­ç­¾åˆ°5å¤©ï¼š30å¿ƒç†è´§å¸</p>
                                <p>è¿ç»­ç­¾åˆ°6å¤©ï¼š15å¿ƒç†è´§å¸</p>
                                <p>è¿ç»­ç­¾åˆ°7å¤©ï¼š15å¿ƒç†è´§å¸</p>
                                <p>è¿ç»­ç­¾åˆ°æ»¡7å¤©å¯è·å¾—é¢å¤–å¥–åŠ±ï¼Œå¹¶å¼€å§‹æ–°ä¸€è½®ç­¾åˆ°</p>
                            </div>
                        </div>
                    </div>
                    
                    <button class="btn" id="daily-checkin" style="width: 100%; margin-top: 15px;">ä»Šæ—¥ç­¾åˆ°</button>
                </div>
            </section>

            <!-- å†å²è®°å½•é¡µé¢ -->
            <section id="page-activity-history" class="page">
                <div class="card">
                    <h2 class="card-title">å†å²è®°å½•</h2>
                    <p>æŸ¥çœ‹æ‚¨çš„æ´»åŠ¨è®°å½•å’Œå¿ƒç†æˆé•¿è½¨è¿¹</p>
                </div>

                <div class="card">
                    <div class="history-tabs">
                        <div class="history-tab active" data-tab="all">å…¨éƒ¨è®°å½•</div>
                        <div class="history-tab" data-tab="scales">æµ‹è¯„è®°å½•</div>
                        <div class="history-tab" data-tab="activities">æ´»åŠ¨è®°å½•</div>
                        <div class="history-tab" data-tab="ai">AIå¯¹è¯</div>
                    </div>
                    
                    <div class="history-list" id="history-list">
                        <!-- å†å²è®°å½•å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>
            </section>

            <!-- å¸¸ç”¨åŠŸèƒ½é¡µé¢ -->
            <section id="page-favorite-functions" class="page">
                <div class="card">
                    <h2 class="card-title">å¸¸ç”¨åŠŸèƒ½</h2>
                    <p>å¿«é€Ÿè®¿é—®æ‚¨æœ€å¸¸ä½¿ç”¨çš„åŠŸèƒ½</p>
                </div>

                <div class="card">
                    <h3 class="card-title">æˆ‘çš„å¸¸ç”¨åŠŸèƒ½</h3>
                    <div class="favorites-grid" id="favorites-grid">
                        <!-- å¸¸ç”¨åŠŸèƒ½å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">åŠŸèƒ½æ¨è</h3>
                    <div class="favorites-grid" id="recommendations-grid">
                        <!-- æ¨èåŠŸèƒ½å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>
            </section>

            <!-- æˆ‘çš„æŠ¥å‘Šé¡µé¢ -->
            <section id="page-my-reports" class="page">
                <div class="card">
                    <h2 class="card-title">æˆ‘çš„æŠ¥å‘Š</h2>
                    <p>æŸ¥çœ‹æ‚¨çš„å¿ƒç†æµ‹è¯„æŠ¥å‘Šå’Œæˆé•¿åˆ†æ</p>
                </div>

                <div class="card">
                    <h3 class="card-title">å¿ƒç†æˆé•¿æŠ¥å‘Š</h3>
                    <div class="report-cards">
                        <div class="report-card">
                            <div class="report-header">
                                <div class="report-title">æœˆåº¦å¿ƒç†æˆé•¿æŠ¥å‘Š</div>
                                <div class="report-date">2023å¹´11æœˆ</div>
                            </div>
                            <div class="report-summary">
                                æœ¬æœˆæ‚¨å…±å®Œæˆäº†5æ¬¡å¿ƒç†æµ‹è¯„ï¼Œå‚ä¸äº†12æ¬¡å¿ƒç†é“¶è¡Œæ´»åŠ¨ï¼Œå¿ƒç†èµ„æœ¬æå‡äº†8%ã€‚
                            </div>
                            <div class="report-chart">
                                <canvas id="monthly-growth-chart"></canvas>
                            </div>
                            <div class="report-actions">
                                <button class="btn btn-outline">æŸ¥çœ‹è¯¦æƒ…</button>
                                <button class="btn">åˆ†äº«æŠ¥å‘Š</button>
                            </div>
                        </div>
                        
                        <div class="report-card">
                            <div class="report-header">
                                <div class="report-title">ç§¯ææƒ…ç»ªè¶‹åŠ¿æŠ¥å‘Š</div>
                                <div class="report-date">æœ€è¿‘30å¤©</div>
                            </div>
                            <div class="report-summary">
                                æ‚¨çš„ç§¯ææƒ…ç»ªå‘ˆç°ä¸Šå‡è¶‹åŠ¿ï¼Œç‰¹åˆ«æ˜¯åœ¨å‚ä¸å¸Œæœ›ç›²ç›’å’Œæ„Ÿæ©æ—¥è®°æ´»åŠ¨åã€‚
                            </div>
                            <div class="report-chart">
                                <canvas id="emotion-trend-chart"></canvas>
                            </div>
                            <div class="report-actions">
                                <button class="btn btn-outline">æŸ¥çœ‹è¯¦æƒ…</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">æµ‹è¯„æŠ¥å‘Š</h3>
                    <div id="reports-list">
                        <!-- æµ‹è¯„æŠ¥å‘Šå°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>
            </section>

            <!-- è´¦å·ä¿¡æ¯é¡µé¢ -->
            <section id="page-account-info" class="page">
                <div class="card">
                    <h2 class="card-title">è´¦å·ä¿¡æ¯</h2>
                    <p>ç®¡ç†æ‚¨çš„ä¸ªäººä¿¡æ¯å’Œè´¦æˆ·è®¾ç½®</p>
                </div>

                <div class="card">
                    <h3 class="card-title">åŸºæœ¬ä¿¡æ¯</h3>
                    <div class="account-form">
                        <div class="form-group">
                            <label class="form-label">å¤´åƒ</label>
                            <div class="avatar-options">
                                <div class="avatar-option selected" data-avatar="ç”¨" style="background-color: #1a73e8;">ç”¨</div>
                                <div class="avatar-option" data-avatar="å¿ƒ" style="background-color: #4caf50;">å¿ƒ</div>
                                <div class="avatar-option" data-avatar="æ™º" style="background-color: #ff9800;">æ™º</div>
                                <div class="avatar-option" data-avatar="å¥" style="background-color: #9c27b0;">å¥</div>
                            </div>
                        </div>
                        
                        <!-- æ–°å¢å¤´åƒä¸Šä¼ åŠŸèƒ½ -->
                        <div class="avatar-upload-container">
                            <div class="avatar-preview" id="avatar-preview" style="display: none;"></div>
                            <label class="avatar-upload-btn">
                                ä¸Šä¼ å›¾ç‰‡
                                <input type="file" id="avatar-upload" accept="image/*">
                            </label>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">æ˜µç§°</label>
                            <input type="text" class="form-input" id="account-name" value="ç”¨æˆ·æ˜µç§°">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">å¹´é¾„</label>
                            <input type="number" class="form-input" id="account-age" value="20">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">å­¦æ ¡</label>
                            <input type="text" class="form-input" id="account-school" value="åŒ—äº¬å¤§å­¦">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">å¹´çº§</label>
                            <select class="form-select" id="account-grade">
                                <option value="å¤§ä¸€">å¤§ä¸€</option>
                                <option value="å¤§äºŒ" selected>å¤§äºŒ</option>
                                <option value="å¤§ä¸‰">å¤§ä¸‰</option>
                                <option value="å¤§å››">å¤§å››</option>
                                <option value="ç ”ç©¶ç”Ÿ">ç ”ç©¶ç”Ÿ</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">æ‰‹æœºå·</label>
                            <input type="tel" class="form-input" id="account-phone" value="138****1234">
                        </div>
                        
                        <button class="btn" id="save-account-info" style="width: 100%;">ä¿å­˜ä¿¡æ¯</button>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">éšç§è®¾ç½®</h3>
                    <div class="form-group">
                        <label class="form-label" style="display: flex; justify-content: space-between;">
                            <span>å…è®¸å¹³å°æ”¶é›†åŒ¿åæ•°æ®ç”¨äºæ”¹è¿›æœåŠ¡</span>
                            <input type="checkbox" id="data-collection" checked>
                        </label>
                    </div>
                    <div class="form-group">
                        <label class="form-label" style="display: flex; justify-content: space-between;">
                            <span>æ¥æ”¶å¿ƒç†æˆé•¿ç›¸å…³æ¨é€é€šçŸ¥</span>
                            <input type="checkbox" id="push-notifications" checked>
                        </label>
                    </div>
                </div>
            </section>

            <!-- ç•™è¨€ä¸­å¿ƒé¡µé¢ -->
            <section id="page-message-center" class="page">
                <div class="card">
                    <h2 class="card-title">ç•™è¨€ä¸­å¿ƒ</h2>
                    <p>ä¸ºå¹³å°å»ºè¨€çŒ®ç­–ï¼Œå¸®åŠ©æˆ‘ä»¬åšå¾—æ›´å¥½</p>
                </div>

                <div class="card">
                    <h3 class="card-title">æäº¤åé¦ˆ</h3>
                    <div class="feedback-form">
                        <div class="form-group">
                            <label class="form-label">åé¦ˆç±»å‹</label>
                            <div class="feedback-type">
                                <button class="feedback-type-btn selected" data-type="suggestion">åŠŸèƒ½å»ºè®®</button>
                                <button class="feedback-type-btn" data-type="bug">é—®é¢˜åé¦ˆ</button>
                                <button class="feedback-type-btn" data-type="content">å†…å®¹å»ºè®®</button>
                                <button class="feedback-type-btn" data-type="other">å…¶ä»–</button>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">åé¦ˆå†…å®¹</label>
                            <textarea class="form-textarea" id="feedback-content" placeholder="è¯·è¯¦ç»†æè¿°æ‚¨çš„å»ºè®®æˆ–é‡åˆ°çš„é—®é¢˜..."></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">è”ç³»æ–¹å¼ï¼ˆé€‰å¡«ï¼‰</label>
                            <input type="text" class="form-input" id="feedback-contact" placeholder="é‚®ç®±æˆ–æ‰‹æœºå·">
                        </div>
                        
                        <button class="btn" id="submit-feedback" style="width: 100%;">æäº¤åé¦ˆ</button>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">å†å²åé¦ˆ</h3>
                    <div id="feedback-history">
                        <!-- åé¦ˆå†å²å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>
            </section>

            <!-- è®¤è¯ä¸­å¿ƒé¡µé¢ -->
            <section id="page-certification-center" class="page">
                <div class="card">
                    <h2 class="card-title">è®¤è¯ä¸­å¿ƒ</h2>
                    <p>å®Œæˆæ ¡å›­è®¤è¯ï¼Œè§£é”æ›´å¤šä¸“å±åŠŸèƒ½</p>
                </div>

                <div class="card">
                    <div class="verification-status status-unverified">
                        <h3>æœªè®¤è¯</h3>
                        <p>æ‚¨å°šæœªå®Œæˆæ ¡å›­è®¤è¯</p>
                    </div>
                    
                    <h3 class="card-title">æ ¡å›­è®¤è¯</h3>
                    <div class="verification-form">
                        <div class="form-group">
                            <label class="form-label">çœŸå®å§“å</label>
                            <input type="text" class="form-input" id="real-name" placeholder="è¯·è¾“å…¥æ‚¨çš„çœŸå®å§“å">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">å­¦æ ¡</label>
                            <select class="form-select" id="verification-school">
                                <option value="">è¯·é€‰æ‹©å­¦æ ¡</option>
                                <option value="åŒ—äº¬å¤§å­¦">åŒ—äº¬å¤§å­¦</option>
                                <option value="æ¸…åå¤§å­¦">æ¸…åå¤§å­¦</option>
                                <option value="å¤æ—¦å¤§å­¦">å¤æ—¦å¤§å­¦</option>
                                <option value="ä¸Šæµ·äº¤é€šå¤§å­¦">ä¸Šæµ·äº¤é€šå¤§å­¦</option>
                                <option value="æµ™æ±Ÿå¤§å­¦">æµ™æ±Ÿå¤§å­¦</option>
                                <option value="å—äº¬å¤§å­¦">å—äº¬å¤§å­¦</option>
                                <option value="ä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦">ä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦</option>
                                <option value="åŒæµå¤§å­¦">åŒæµå¤§å­¦</option>
                                <option value="åä¸œç†å·¥å¤§å­¦">åä¸œç†å·¥å¤§å­¦</option>
                                <option value="ä¸Šæµ·ç†å·¥å¤§å­¦">ä¸Šæµ·ç†å·¥å¤§å­¦</option>
                                <option value="ä¸Šæµ·æµ·äº‹å¤§å­¦">ä¸Šæµ·æµ·äº‹å¤§å­¦</option>
                                <option value="ä¸œåå¤§å­¦">ä¸œåå¤§å­¦</option>
                                <option value="ä¸Šæµ·å¤§å­¦">ä¸Šæµ·å¤§å­¦</option>
                                <option value="ä¸Šæµ·ç”µåŠ›å¤§å­¦">ä¸Šæµ·ç”µåŠ›å¤§å­¦</option>
                                <option value="ä¸Šæµ·åº”ç”¨æŠ€æœ¯å¤§å­¦">ä¸Šæµ·åº”ç”¨æŠ€æœ¯å¤§å­¦</option>
                                <option value="ä¸Šæµ·æµ·æ´‹å¤§å­¦">ä¸Šæµ·æµ·æ´‹å¤§å­¦</option>
                                <option value="ä¸Šæµ·ä¸­åŒ»è¯å¤§å­¦">ä¸Šæµ·ä¸­åŒ»è¯å¤§å­¦</option>
                                <option value="åä¸œå¸ˆèŒƒå¤§å­¦">åä¸œå¸ˆèŒƒå¤§å­¦</option>
                                <option value="ä¸Šæµ·å¸ˆèŒƒå¤§å­¦">ä¸Šæµ·å¸ˆèŒƒå¤§å­¦</option>
                                <option value="ä¸Šæµ·å¤–å›½è¯­å¤§å­¦">ä¸Šæµ·å¤–å›½è¯­å¤§å­¦</option>
                                <option value="ä¸Šæµ·è´¢ç»å¤§å­¦">ä¸Šæµ·è´¢ç»å¤§å­¦</option>
                                <option value="ä¸Šæµ·å¯¹å¤–ç»è´¸å¤§å­¦">ä¸Šæµ·å¯¹å¤–ç»è´¸å¤§å­¦</option>
                                <option value="ä¸Šæµ·ç«‹ä¿¡ä¼šè®¡é‡‘èå­¦é™¢">ä¸Šæµ·ç«‹ä¿¡ä¼šè®¡é‡‘èå­¦é™¢</option>
                                <option value="ä¸Šæµ·å·¥ç¨‹æŠ€æœ¯å¤§å­¦">ä¸Šæµ·å·¥ç¨‹æŠ€æœ¯å¤§å­¦</option>
                                <option value="ä¸Šæµ·ç¬¬äºŒå·¥ä¸šå¤§å­¦">ä¸Šæµ·ç¬¬äºŒå·¥ä¸šå¤§å­¦</option>
                                <option value="å…¶ä»–">å…¶ä»–</option>
                            </select>
                        </div>
                        
                        <div class="form-group" id="other-school-container" style="display: none;">
                            <label class="form-label">å…¶ä»–å­¦æ ¡åç§°</label>
                            <input type="text" class="form-input" id="other-school" placeholder="è¯·è¾“å…¥æ‚¨çš„å­¦æ ¡åç§°">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">å­¦å·</label>
                            <input type="text" class="form-input" id="student-id" placeholder="è¯·è¾“å…¥æ‚¨çš„å­¦å·">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">å­¦ç”Ÿè¯ç…§ç‰‡</label>
                            <div style="border: 2px dashed #ddd; padding: 20px; text-align: center; border-radius: 8px; cursor: pointer;" id="upload-student-card">
                                <i class="fas fa-cloud-upload-alt" style="font-size: 40px; color: #ddd; margin-bottom: 10px;"></i>
                                <p>ç‚¹å‡»ä¸Šä¼ å­¦ç”Ÿè¯ç…§ç‰‡</p>
                                <p style="font-size: 12px; color: #999;">æ”¯æŒjpgã€pngæ ¼å¼ï¼Œå¤§å°ä¸è¶…è¿‡5MB</p>
                            </div>
                        </div>
                        
                        <button class="btn" id="submit-verification" style="width: 100%;">æäº¤è®¤è¯</button>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">è®¤è¯è¯´æ˜</h3>
                    <ul style="padding-left: 20px;">
                        <li style="margin-bottom: 10px;">æ ¡å›­è®¤è¯åï¼Œæ‚¨å¯ä»¥è§£é”æ›´å¤šä¸“å±åŠŸèƒ½å’Œå†…å®¹</li>
                        <li style="margin-bottom: 10px;">æ‚¨çš„ä¸ªäººä¿¡æ¯å°†ä¸¥æ ¼ä¿å¯†ï¼Œä»…ç”¨äºèº«ä»½éªŒè¯</li>
                        <li style="margin-bottom: 10px;">è®¤è¯å®¡æ ¸é€šå¸¸éœ€è¦1-3ä¸ªå·¥ä½œæ—¥</li>
                        <li>å¦‚æœ‰é—®é¢˜ï¼Œè¯·è”ç³»åœ¨çº¿å®¢æœ</li>
                    </ul>
                </div>
            </section>

            <!-- åœ¨çº¿å®¢æœé¡µé¢ -->
            <section id="page-online-service" class="page">
                <div class="card">
                    <h2 class="card-title">åœ¨çº¿å®¢æœ</h2>
                    <p>å¸¸è§é—®é¢˜è§£ç­”å’Œå³æ—¶å¸®åŠ©</p>
                </div>

                <div class="card">
                    <h3 class="card-title">å¸¸è§é—®é¢˜</h3>
                    <div class="faq-section">
                        <div class="faq-item">
                            <div class="faq-question">
                                å¦‚ä½•è·å–å¿ƒç†è´§å¸ï¼Ÿ
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è·å–å¿ƒç†è´§å¸ï¼š</p>
                                <ul style="padding-left: 20px; margin-top: 10px;">
                                    <li>æ¯æ—¥ç­¾åˆ°</li>
                                    <li>å®Œæˆæ„Ÿæ©æ—¥è®°ã€å¿ƒæµæ—¶åˆ»ã€å¸Œæœ›ç›²ç›’ç­‰æ´»åŠ¨</li>
                                    <li>å‚ä¸å¿ƒç†æµ‹è¯„</li>
                                    <li>é‚€è¯·å¥½å‹æ³¨å†Œ</li>
                                    <li>ç›´æ¥å……å€¼è´­ä¹°</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="faq-item">
                            <div class="faq-question">
                                å¿ƒç†æµ‹è¯„ç»“æœå‡†ç¡®å—ï¼Ÿ
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>æˆ‘ä»¬ä½¿ç”¨çš„æ‰€æœ‰å¿ƒç†æµ‹è¯„é‡è¡¨éƒ½æ˜¯ç»è¿‡ç§‘å­¦éªŒè¯çš„æ ‡å‡†åŒ–é‡è¡¨ï¼Œå…·æœ‰è¾ƒå¥½çš„ä¿¡åº¦å’Œæ•ˆåº¦ã€‚ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼š</p>
                                <ul style="padding-left: 20px; margin-top: 10px;">
                                    <li>æµ‹è¯„ç»“æœä»…ä¾›å‚è€ƒï¼Œä¸èƒ½æ›¿ä»£ä¸“ä¸šå¿ƒç†å’¨è¯¢</li>
                                    <li>æµ‹è¯„ç»“æœå—æ‚¨å½“å‰æƒ…ç»ªçŠ¶æ€å’Œç¯å¢ƒå½±å“</li>
                                    <li>å»ºè®®å®šæœŸæµ‹è¯„ä»¥è·Ÿè¸ªå¿ƒç†çŠ¶æ€å˜åŒ–</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="faq-item">
                            <div class="faq-question">
                                å¦‚ä½•ä¿®æ”¹ä¸ªäººä¿¡æ¯ï¼Ÿ
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>æ‚¨å¯ä»¥åœ¨"æˆ‘çš„"é¡µé¢ç‚¹å‡»"è´¦å·ä¿¡æ¯"è¿›å…¥ä¸ªäººä¿¡æ¯ç®¡ç†é¡µé¢ï¼Œä¿®æ”¹æ˜µç§°ã€å¤´åƒã€å¹´é¾„ã€å­¦æ ¡ç­‰ä¿¡æ¯ã€‚</p>
                            </div>
                        </div>
                        
                        <div class="faq-item">
                            <div class="faq-question">
                                å¿ƒæ™ºä¿¡ç®±çš„å›å¤å‘¨æœŸæ˜¯å¤šä¹…ï¼Ÿ
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>æˆ‘ä»¬ä¼šåœ¨æ”¶åˆ°é‚®ä»¶å2-3å¤©å†…è¿›è¡Œå›å¤ï¼Œå›å¤å°†ç›´æ¥å‘é€è‡³æ‚¨æŠ•ç¨¿æ—¶ä½¿ç”¨çš„é‚®ç®±ã€‚</p>
                            </div>
                        </div>
                        
                        <div class="faq-item">
                            <div class="faq-question">
                                å¦‚ä½•è”ç³»äººå·¥å®¢æœï¼Ÿ
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»äººå·¥å®¢æœï¼š</p>
                                <ul style="padding-left: 20px; margin-top: 10px;">
                                    <li>åœ¨æœ¬é¡µé¢ä¸‹æ–¹çš„å®¢æœèŠå¤©çª—å£ç•™è¨€</li>
                                    <li>å‘é€é‚®ä»¶è‡³ï¼šservice@xinzhiapp.com</li>
                                    <li>æ‹¨æ‰“å®¢æœçƒ­çº¿ï¼š400-123-4567</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card customer-service-chat">
                    <h3 class="card-title">å®¢æœèŠå¤©</h3>
                    <div class="chat-container" id="service-chat-messages">
                        <div class="message ai-message">
                            <div class="message-bubble">
                                æ‚¨å¥½ï¼æˆ‘æ˜¯å¿ƒæ™ºå¹³å°å®¢æœï¼Œæœ‰ä»€ä¹ˆå¯ä»¥å¸®æ‚¨çš„å—ï¼Ÿ
                            </div>
                        </div>
                    </div>
                    <div class="chat-input">
                        <input type="text" id="service-chat-input" placeholder="è¾“å…¥æ‚¨çš„é—®é¢˜...">
                        <button id="send-service-message">å‘é€</button>
                    </div>
                </div>
            </section>

            <!-- åŠŸèƒ½é¡µé¢ -->
            <!-- æ„Ÿæ©æ—¥è®°é¡µé¢ -->
            <div id="function-gratitude-journal" class="function-page">
                <button class="back-btn" data-back="page-bank">â† è¿”å›</button>
                <div class="card">
                    <h2 class="card-title">æ„Ÿæ©æ—¥è®°</h2>
                    <p>è®°å½•æ¯å¤©å€¼å¾—æ„Ÿæ©çš„äº‹ç‰©ï¼ŒåŸ¹å…»ç§¯æå¿ƒæ€</p>
                </div>

                <div class="card">
                    <h3 class="card-title">è®°å½•æ„Ÿæ©</h3>
                    <div class="form-group">
                        <label class="form-label">ä»Šå¤©ï¼Œæˆ‘æ„Ÿè°¢çš„äººæ˜¯ï¼Ÿ</label>
                        <input type="text" class="form-input" id="grateful-person" placeholder="ä¾‹å¦‚ï¼šæˆ‘çš„æœ‹å‹å°æ˜">
                    </div>
                    <div class="form-group">
                        <label class="form-label">å› ä¸ºï¼Ÿ</label>
                        <input type="text" class="form-input" id="grateful-reason" placeholder="ä¾‹å¦‚ï¼šä»–ä»Šå¤©å¸®æˆ‘è§£å†³äº†å­¦ä¹ é—®é¢˜">
                    </div>
                    <div class="form-group">
                        <label class="form-label">ä»Šå¤©ï¼Œæˆ‘æ„Ÿæ©çš„ä¸€ä»¶äº‹æ˜¯ï¼Ÿ</label>
                        <input type="text" class="form-input" id="grateful-thing" placeholder="ä¾‹å¦‚ï¼šé¡ºåˆ©å®Œæˆäº†è¯¾å ‚å±•ç¤º">
                    </div>
                    <div class="form-group">
                        <label class="form-label">å®ƒè®©æˆ‘æ„Ÿåˆ°ï¼Ÿ</label>
                        <input type="text" class="form-input" id="grateful-feeling" placeholder="ä¾‹å¦‚ï¼šæˆå°±æ„Ÿæ»¡æ»¡">
                    </div>
                    <div class="form-group">
                        <label class="form-label">ä»Šå¤©ï¼Œä¸€ä¸ªè®©æˆ‘æ„Ÿåˆ°æ¸©æš–/å¹¸è¿çš„ç¬é—´æ˜¯ï¼Ÿ</label>
                        <textarea class="form-textarea" id="grateful-moment" placeholder="ä¾‹å¦‚ï¼šåœ¨å›¾ä¹¦é¦†é‡åˆ°ä¸€ä½çƒ­å¿ƒçš„å­¦é•¿ï¼Œå¸®æˆ‘æ‰¾åˆ°äº†éœ€è¦çš„å‚è€ƒä¹¦"></textarea>
                    </div>
                    <button class="btn" id="save-gratitude" style="width: 100%;">ä¿å­˜æ„Ÿæ©æ—¥è®°</button>
                </div>

                <div class="card">
                    <h3 class="card-title">æ„Ÿæ©è®°å½•</h3>
                    <div id="gratitude-list">
                        <!-- æ„Ÿæ©è®°å½•å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>
            </div>

            <!-- å¿ƒæµæ—¶åˆ»é¡µé¢ -->
            <div id="function-flow-moment" class="function-page">
                <button class="back-btn" data-back="page-bank">â† è¿”å›</button>
                <div class="card">
                    <h2 class="card-title">å¿ƒæµæ—¶åˆ»</h2>
                    <p>è®°å½•ä¸“æ³¨æŠ•å…¥çš„å¿«ä¹æ—¶å…‰ï¼Œå‘ç°ä½ çš„å¿ƒæµæ¨¡å¼</p>
                </div>

                <div class="card">
                    <h3 class="card-title">è®°å½•å¿ƒæµæ—¶åˆ»</h3>
                    <div class="form-group">
                        <label class="form-label">æ´»åŠ¨ç±»å‹</label>
                        <select class="form-select" id="flow-activity">
                            <option value="">è¯·é€‰æ‹©æ´»åŠ¨ç±»å‹</option>
                            <option value="ç”»ç”»">ç”»ç”»</option>
                            <option value="å†™ä¸œè¥¿">å†™ä¸œè¥¿</option>
                            <option value="åšæ‰‹å·¥">åšæ‰‹å·¥</option>
                            <option value="å‰ªè¾‘è§†é¢‘">å‰ªè¾‘è§†é¢‘</option>
                            <option value="å†™æ–¹æ¡ˆ">å†™æ–¹æ¡ˆ</option>
                            <option value="åšæŠ¥è¡¨">åšæŠ¥è¡¨</option>
                            <option value="è¯»ä¸“ä¸šä¹¦">è¯»ä¸“ä¸šä¹¦</option>
                            <option value="èƒŒå•è¯">èƒŒå•è¯</option>
                            <option value="è·‘æ­¥">è·‘æ­¥</option>
                            <option value="ç‘œä¼½">ç‘œä¼½</option>
                            <option value="éª‘è¡Œ">éª‘è¡Œ</option>
                            <option value="æ‰“çƒ">æ‰“çƒ</option>
                            <option value="åšé¥­">åšé¥­</option>
                            <option value="æ‹¼ä¹é«˜">æ‹¼ä¹é«˜</option>
                            <option value="çœ‹å‰§">çœ‹å‰§</option>
                            <option value="å¬éŸ³ä¹">å¬éŸ³ä¹</option>
                            <option value="custom">è‡ªå®šä¹‰</option>
                        </select>
                        <input type="text" class="form-input" id="flow-custom-activity" placeholder="è¯·è¾“å…¥å…¶ä»–æ´»åŠ¨" style="display: none; margin-top: 10px;">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">æŠ•å…¥æ—¶é•¿</label>
                        <select class="form-select" id="flow-duration">
                            <option value="">è¯·é€‰æ‹©æŠ•å…¥æ—¶é•¿</option>
                            <option value="15-30åˆ†é’Ÿ">15-30åˆ†é’Ÿ</option>
                            <option value="30åˆ†-1å°æ—¶">30åˆ†-1å°æ—¶</option>
                            <option value="1-2å°æ—¶">1-2å°æ—¶</option>
                            <option value="2å°æ—¶ä»¥ä¸Š">2å°æ—¶ä»¥ä¸Š</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">ç»“æŸæ—¶é—´</label>
                        <input type="datetime-local" class="form-input" id="flow-end-time">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">å½“ä¸‹æ„Ÿå—</label>
                        <div class="checkbox-group" id="flow-feelings">
                            <div class="checkbox-item" data-value="å¿˜è®°æ—¶é—´">âœ… å¿˜è®°æ—¶é—´</div>
                            <div class="checkbox-item" data-value="å¾ˆæœ‰æˆå°±æ„Ÿ">âœ… å¾ˆæœ‰æˆå°±æ„Ÿ</div>
                            <div class="checkbox-item" data-value="å†…å¿ƒå¹³é™">âœ… å†…å¿ƒå¹³é™</div>
                            <div class="checkbox-item" data-value="æƒ³ä¸€ç›´åšä¸‹å»">âœ… æƒ³ä¸€ç›´åšä¸‹å»</div>
                            <div class="checkbox-item" data-value="åšå®Œå¾ˆæ”¾æ¾">âœ… åšå®Œå¾ˆæ”¾æ¾</div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">è§¦å‘æ¡ä»¶</label>
                        <div class="checkbox-group" id="flow-triggers">
                            <div class="checkbox-item" data-value="æ— äººæ‰“æ‰°ï¼ˆå®‰é™ç¯å¢ƒï¼‰">âœ… æ— äººæ‰“æ‰°ï¼ˆå®‰é™ç¯å¢ƒï¼‰</div>
                            <div class="checkbox-item" data-value="ç›®æ ‡æ˜ç¡®ï¼ˆçŸ¥é“è¦åšä»€ä¹ˆï¼‰">âœ… ç›®æ ‡æ˜ç¡®ï¼ˆçŸ¥é“è¦åšä»€ä¹ˆï¼‰</div>
                            <div class="checkbox-item" data-value="éš¾åº¦åˆšå¥½ï¼ˆä¸å¤ªéš¾ä¹Ÿä¸å¤ªç®€å•ï¼‰">âœ… éš¾åº¦åˆšå¥½ï¼ˆä¸å¤ªéš¾ä¹Ÿä¸å¤ªç®€å•ï¼‰</div>
                            <div class="checkbox-item" data-value="è‡ªå·±æƒ³åšï¼ˆéè¢«è¿«ï¼‰">âœ… è‡ªå·±æƒ³åšï¼ˆéè¢«è¿«ï¼‰</div>
                            <div class="checkbox-item" data-value="æœ‰å³æ—¶åé¦ˆï¼ˆå¦‚åšé¥­é—»é¦™å‘³ã€ç”»ç”»çœ‹æˆæœï¼‰">âœ… æœ‰å³æ—¶åé¦ˆ</div>
                        </div>
                    </div>
                    
                    <button class="btn" id="save-flow" style="width: 100%;">è®°å½•å¿ƒæµæ—¶åˆ»</button>
                </div>

                <div class="card">
                    <h3 class="card-title">å¿ƒæµè®°å½•</h3>
                    <div id="flow-list">
                        <!-- å¿ƒæµè®°å½•å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>
            </div>

            <!-- å¸Œæœ›ç›²ç›’é¡µé¢ -->
            <div id="function-hope-box" class="function-page">
                <button class="back-btn" data-back="page-bank">â† è¿”å›</button>
                <div class="card">
                    <h2 class="card-title">å¸Œæœ›ç›²ç›’</h2>
                    <p>æ¯å¤©æŠ½å–ä¸€ä¸ªå°ä»»åŠ¡ï¼Œä¸ºç”Ÿæ´»å¢æ·»å¸Œæœ›å’ŒæœŸå¾…</p>
                </div>

                <div class="hope-box-container">
                    <div class="hope-box" id="hope-box-open">
                        ğŸ
                    </div>
                    <p>ç‚¹å‡»ä¸Šæ–¹ç›²ç›’ï¼ŒæŠ½å–ä»Šæ—¥å¸Œæœ›ä»»åŠ¡</p>
                </div>

                <div id="hope-task" style="display: none;">
                    <div class="task-card">
                        <div class="task-title" id="task-title">ä»»åŠ¡æ ‡é¢˜</div>
                        <div class="task-description" id="task-description">ä»»åŠ¡æè¿°</div>
                        <div class="task-tip" id="task-tip">ä»»åŠ¡å°è´´å£«</div>
                        <button class="btn" id="complete-task" style="width: 100%;">å®Œæˆä»»åŠ¡</button>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">å¸Œæœ›è¿›åº¦</h3>
                    <div class="progress-bar">
                        <div class="progress" id="hope-progress" style="width: 0%;"></div>
                    </div>
                    <p class="progress-text">æœ¬æœˆå·²å®Œæˆ <span id="completed-tasks">0</span>/30 ä¸ªä»»åŠ¡</p>
                </div>

                <div class="card">
                    <h3 class="card-title">ç›²ç›’å›å¿†å½•</h3>
                    <div id="hope-history">
                        <!-- å¸Œæœ›ç›²ç›’å†å²è®°å½•å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>
            </div>

            <!-- å¿ƒæ™ºä¿¡ç®±é¡µé¢ -->
            <div id="function-mind-mailbox" class="function-page">
                <button class="back-btn" data-back="page-bank">â† è¿”å›</button>
                <div class="card">
                    <h2 class="card-title">å¿ƒæ™ºä¿¡ç®±</h2>
                    <p>æŠŠä½ çš„å¿ƒæƒ…å†™æˆé‚®ä»¶ï¼Œæˆ‘ä»¬è®¤çœŸå€¾å¬æ¯ä¸€å¥</p>
                </div>

                <div class="mailbox-container">
                    <div class="mailbox-icon">âœ‰ï¸</div>
                    
                    <div class="steps">
                        <div class="step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <div class="step-title">è·å–æŠ•ç¨¿é‚®ç®±</div>
                                <div class="step-description">æˆ‘ä»¬çš„ä¸“å±æŠ•ç¨¿é‚®ç®±ï¼š<strong>xinzhixinxiang525@126.com</strong></div>
                                <button class="btn" id="copy-email" style="margin-top: 10px;">å¤åˆ¶é‚®ç®±åœ°å€</button>
                            </div>
                        </div>
                        
                        <div class="step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <div class="step-title">æ’°å†™æŠ•ç¨¿é‚®ä»¶</div>
                                <div class="step-description">
                                    <p>é‚®ä»¶ä¸»é¢˜æ ¼å¼ï¼šã€æƒ…ç»ªæ ‡ç­¾ã€‘+æ˜µç§°ï¼ˆå¯é€‰ï¼‰</p>
                                    <p>ä¾‹å¦‚ï¼šã€ç„¦è™‘ã€‘å°æ©™å­ æˆ– ã€å¼€å¿ƒã€‘åŒ¿å</p>
                                    <p>é‚®ä»¶å†…å®¹ï¼šè‡ªç”±ä¹¦å†™ä½ çš„æƒ…ç»ªçŠ¶æ€ã€è¿‘æœŸå›°æ‰°æˆ–å¼€å¿ƒå°äº‹</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <div class="step-title">å‘é€é‚®ä»¶</div>
                                <div class="step-description">ç¡®è®¤é‚®ä»¶å†…å®¹åå‘é€è‡³æŠ•ç¨¿é‚®ç®±ï¼Œæˆ‘ä»¬å°†åœ¨2-3å¤©å†…å›å¤</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3 class="card-title">æ¸©é¦¨æç¤º</h3>
                        <ul style="text-align: left; padding-left: 20px;">
                            <li style="margin-bottom: 10px;">æŠ•ç¨¿é‚®ä»¶å†…å®¹ä»…ç”¨äºå¹³å°å›å¤ï¼Œä¸¥æ ¼ä¿å¯†ä¸ªäººä¿¡æ¯</li>
                            <li style="margin-bottom: 10px;">å¹³å°å°†åœ¨æ”¶åˆ°é‚®ä»¶å2-3å¤©å†…å°½å¿«å›å¤</li>
                            <li style="margin-bottom: 10px;">æœ¬é‚®ç®±èšç„¦æƒ…ç»ªåˆ†äº«ä¸æ”¯æŒï¼Œè‹¥éœ€ä¸“ä¸šå¿ƒç†å¸®åŠ©ï¼Œå¯åœ¨é‚®ä»¶ä¸­è¯´æ˜</li>
                        </ul>
                    </div>
                </div>
            </div>

        </main>

        <!-- åº•éƒ¨å¯¼èˆª -->
        <div class="bottom-nav">
            <a href="#" class="nav-item active" data-page="page-archive">
                <div class="nav-icon">ğŸ“Š</div>
                <div>å¿ƒçµæ¡£æ¡ˆ</div>
            </a>
            <a href="#" class="nav-item" data-page="page-bank">
                <div class="nav-icon">ğŸ¦</div>
                <div>å¿ƒç†é“¶è¡Œ</div>
            </a>
            <a href="#" class="nav-item" data-page="page-ai">
                <div class="nav-icon">ğŸ¤–</div>
                <div>AIä¼™ä¼´</div>
            </a>
            <a href="#" class="nav-item" data-page="page-exchange">
                <div class="nav-icon">ğŸ”„</div>
                <div>å…‘æ¢ä¸šåŠ¡</div>
            </a>
            <a href="#" class="nav-item" data-page="page-profile">
                <div class="nav-icon">ğŸ‘¤</div>
                <div>æˆ‘çš„</div>
            </a>
        </div>
    </div>

    <script>
        // å…¨å±€æ•°æ®
        let userData = {
            coins: 150,
            completedScales: [],
            scaleResults: {},
            chatHistory: [],
            rechargeHistory: [],
            checkinHistory: [],
            activities: [],
            gratitudeEntries: [],
            flowMoments: [],
            hopeBoxTasks: [],
            userInfo: {
                name: "ç”¨æˆ·æ˜µç§°",
                level: "åˆçº§æ¢ç´¢è€…",
                avatar: "ç”¨",
                avatarImage: null, // æ–°å¢ï¼šå­˜å‚¨å¤´åƒå›¾ç‰‡çš„base64æ•°æ®
                age: 20,
                school: "åŒ—äº¬å¤§å­¦",
                grade: "å¤§äºŒ",
                phone: "138****1234"
            },
            currentScale: null,
            currentQuestionIndex: 0,
            scaleAnswers: [],
            // æ–°å¢æ•°æ®
            favoriteFunctions: ['gratitude-journal', 'hope-box', 'mind-mailbox'],
            activityHistory: [],
            feedbackHistory: [],
            isVerified: false,
            // æ–°å¢å…‘æ¢è®°å½•å’Œä¸»é¢˜è®¾ç½®
            exchangeRecords: [],
            theme: 'default', // 'default', 'pink', 'green', 'purple'
            // æ–°å¢ç”¨æˆ·å·²å…‘æ¢å•†å“
            ownedProducts: [],
            shippingAddress: null,
            // æ–°å¢å¿ƒç†å’¨è¯¢é¢„çº¦æ•°æ®
            counselingBookings: []
        };

        // å¿ƒç†å’¨è¯¢å¸ˆæ•°æ®
        const counselors = [
            {
                id: 1,
                name: 'ç‹ä¸€ä¸¹',
                background: 'ä¸­å›½å¿ƒç†å­¦ä¼šæ³¨å†Œå¿ƒç†å¸ˆï¼ŒåŒ—äº¬å¤§å­¦å¿ƒç†å­¦æœ¬ç§‘ï¼Œä¸´åºŠå¿ƒç†æ–¹å‘ç¡•å£«ï¼›æ€§å°‘æ•°å‹å–„å’¨è¯¢å¸ˆ',
                expertise: 'äººé™…/äº²å¯†å…³ç³»ã€æƒ…ç»ª/å¿ƒèº«é—®é¢˜ã€å­¦ä¸šä¸èŒä¸šå‘å±•é—®é¢˜ã€æ€§ä¸æ€§åˆ«ç›¸å…³è®®é¢˜ã€è‡ªæˆ‘æ¢ç´¢ä¸ä¸ªäººæˆé•¿',
                experience: 'ä»ä¸š7å¹´ï¼Œç´¯ç§¯äº†2500+å°æ—¶çš„å’¨è¯¢ç»éªŒã€‚æŒç»­æ¥å—ç²¾ç¥åˆ†æå–å‘ä¸ªä½“ç£å¯¼ä¸å›¢ä½“ç£å¯¼'
            },
            {
                id: 2,
                name: 'åˆ˜æ™“æ˜',
                background: 'æ›¾ä»»ä¸Šæµ·æµ·æ´‹å¤§å­¦ä¸“èŒå¿ƒç†å’¨è¯¢å¸ˆï¼Œç°ä»»ä¸Šæµ·å·¥ç¨‹æŠ€æœ¯å¤§å­¦å›¢å§”å‰¯ä¹¦è®°ã€‚å¿ƒç†å’¨è¯¢ç¡•å£«ï¼Œå›½å®¶äºŒçº§å¿ƒç†å’¨è¯¢å¸ˆï¼Œä¸Šæµ·é«˜æ ¡å¿ƒç†å’¨è¯¢åä¼šç†äº‹',
                expertise: 'äººæ ¼å‘å±•ä¸å¿ƒç†å¥åº·æ•™è‚²ã€å›¢ä½“å¿ƒç†å’¨è¯¢ä¸è®­ç»ƒã€å¿ƒç†é—®é¢˜æ—©æœŸå‘ç°ä¸å±æœºå¹²é¢„è‡ªæ€é¢„é˜²ã€ç§¯æå¿ƒç†å­¦åº”ç”¨ç­‰',
                experience: 'ä¸ªæ¡ˆæ—¶é•¿2000+ï¼Œç£å¯¼æ—¶é•¿180+'
            },
            {
                id: 3,
                name: 'ç†Šæ˜ è¹',
                background: 'ä¸Šæµ·è´¢ç»å¤§å­¦ä¸“èŒå¿ƒç†å’¨è¯¢å¸ˆï¼Œåä¸œå¸ˆèŒƒå¤§å­¦æ•™è‚²å¿ƒç†å­¦ç¡•å£«ï¼Œå›½å®¶ä¸‰çº§å¿ƒç†å’¨è¯¢å¸ˆï¼Œä¸Šæµ·å¸‚å­¦æ ¡ä¸­çº§å¿ƒç†å’¨è¯¢å¸ˆï¼Œä¸Šæµ·é«˜æ ¡å¿ƒç†å’¨è¯¢åä¼šä¼šå‘˜',
                expertise: 'æƒ…æ„Ÿæƒ…ç»ªé—®é¢˜ã€å­¦ä¸šé—®é¢˜ç­‰',
                experience: 'ä»ä¸š5å¹´ï¼Œä¸ªæ¡ˆæ—¶é•¿1000+ï¼Œç£å¯¼æ—¶é•¿100+'
            },
            {
                id: 4,
                name: 'ä¾¯ç®å©·',
                background: 'åä¸œå¸ˆèŒƒå¤§å­¦åº”ç”¨å¿ƒç†å­¦ä¸“ä¸šï¼Œå“ˆå°”æ»¨å•†ä¸šå¤§å­¦å¿ƒç†å’¨è¯¢å¸ˆã€‚å›½å®¶äºŒçº§å¿ƒç†å’¨è¯¢å¸ˆã€ä¸Šæµ·å¸‚å­¦æ ¡å¿ƒç†å’¨è¯¢å¸ˆ',
                expertise: 'å­¦æ ¡å¿ƒç†å¥åº·æ•™è‚²ã€å­¦ç”Ÿå‘å±•ä¸æ•™è‚²ã€å¿ƒç†å±æœºå¹²é¢„',
                experience: 'å¹´å’¨è¯¢å·¥ä½œé‡è¾¾åˆ°1000å°æ—¶ä»¥ä¸Šï¼Œå¹´å›¢ä½“å¿ƒç†è¾…å¯¼æ¬¡æ•°è¾¾100æ¬¡ä»¥ä¸Š'
            },
            {
                id: 5,
                name: 'å´ç¾éœ–',
                background: 'ç°ä»»ä¸Šæµ·éŸ³ä¹å­¦é™¢ä¸“èŒå¿ƒç†å’¨è¯¢å¸ˆï¼Œåä¸œå¸ˆèŒƒå¤§å­¦å¿ƒç†å’¨è¯¢ç¡•å£«ï¼Œä¸Šæµ·å¸‚å­¦æ ¡å¿ƒç†å’¨è¯¢å¸ˆï¼ˆä¸­çº§ï¼‰ï¼Œå¿ƒç†å­¦ä¼šä¼šå‘˜',
                expertise: 'ä¸´åºŠå’¨è¯¢å¿ƒç†ã€é’å°‘å¹´åŠå¤§å­¦ç”Ÿå¿ƒç†å›¢ä½“è¾…å¯¼ç­‰',
                experience: 'ä¸ªæ¡ˆæ—¶é•¿300+ï¼Œç£å¯¼æ—¶é•¿100+'
            }
        ];

        // AIå›å¤åº“
        const aiResponses = {
            negative: [
                "å¬èµ·æ¥ä½ å› ä¸ºæœŸæœ«å¤‡è€ƒ/ç¤¾å›¢ä»»åŠ¡åè°ƒ/å®¿èˆç›¸å¤„å°äº‹å¿ƒé‡Œç‰¹åˆ«å µï¼Œè¿™ç§è¢«å‹åŠ›è£¹ç€ã€æ²¡äººæ‡‚çš„æ„Ÿè§‰ï¼ŒçœŸçš„å¤ªä¸å¥½å—äº†å§ï¼Ÿ",
                "èƒ½æ„Ÿå—åˆ°ä½ ç°åœ¨æƒ…ç»ªç‰¹åˆ«æ²‰ï¼Œå¯èƒ½æ˜¯èµ¶è®ºæ–‡ã€å¿™ç«èµ›è¿è½´è½¬ï¼Œä¹Ÿå¯èƒ½æ˜¯å’ŒåŒå­¦é—¹äº†è¯¯ä¼šï¼Œæ²¡å…³ç³»ï¼Œä¸ç”¨é€¼è‡ªå·±'å¿«ç‚¹è°ƒæ•´å¥½'ï¼Œå…ˆå¥½å¥½æ¥ä½è¿™ä»½éš¾å—å°±å¥½ã€‚",
                "ä½ æ„¿æ„æŠŠè¿™äº›è¯´å‡ºæ¥ï¼Œå·²ç»æ¯”è‡ªå·±ç¡¬æ‰›å¼ºå¤ªå¤šäº†ï¼Œæˆ‘åœ¨è¿™é‡Œå®‰å®‰é™é™å¬ä½ è¯´ï¼Œä¸ç®¡æ˜¯åæ§½è¿˜æ˜¯å‘æ³„ï¼Œéƒ½ä¸æ‰“æ–­ã€ä¸è¯„åˆ¤ã€‚",
                "è¿™ç§å› ä¸ºè€ƒè¯•æŒ‚ç§‘/ç¤¾å›¢åˆ†å·¥ä¸å‡/å®¿èˆä½œæ¯å†²çªå¸¦æ¥çš„å§”å±ˆå’Œæ„¤æ€’ï¼ŒçœŸçš„ä¸æ˜¯ä½ çš„é”™ï¼Œæ¢è°é‡åˆ°è¿™ç§æƒ…å†µï¼Œå¤§æ¦‚ç‡éƒ½ä¼šæœ‰ä¸€æ ·çš„æƒ…ç»ªã€‚",
                "æˆ‘èƒ½å¬å‡ºä½ å¿ƒé‡Œçš„çƒ¦èºå’Œçº ç»“ï¼Œè¦ä¸è¦æ…¢æ…¢è¯´è¯´ï¼Œæ˜¯å¤‡è€ƒå‹åŠ›å¤ªå¤§ã€å’Œå®¤å‹æœ‰æ‘©æ“¦ï¼Œè¿˜æ˜¯å…¶ä»–äº‹æƒ…è®©ä½ è¿™ä¹ˆéš¾å—å‘€ï¼Ÿ"
            ],
            selfDoubt: [
                "ä½ å¯¹è‡ªå·±çš„è¦æ±‚å¥½åƒæŒºé«˜çš„ï¼Œä½†å…¶å®ä½ ä¸ºè®ºæ–‡/è€ƒç ”/ç¤¾å›¢æ´»åŠ¨å·²ç»æ‹¼äº†ä¸å°‘åŠ²ï¼Œè¿™ä»½åšæŒçœŸçš„å¾ˆä¸å®¹æ˜“ï¼Œåˆ«å¿½ç•¥è‡ªå·±çš„åŠªåŠ›å‘€ã€‚",
                "åˆ«å› ä¸ºä¸€æ¬¡æœŸæœ«è€ƒå¤±åˆ©/ç¤¾å›¢é¢è¯•æ²¡é€šè¿‡/å®ä¹ åšé”™å°äº‹å°±è‹›è´£è‡ªå·±ï¼Œè¿™äº›åªæ˜¯å¤§å­¦ç”Ÿæ´»é‡Œçš„å°è¯•é”™ï¼Œä¸æ˜¯'ä½ ä¸è¡Œ'ï¼Œåªæ˜¯è¿˜æ²¡æ‰¾åˆ°é€‚é…çš„èŠ‚å¥è€Œå·²ã€‚",
                "ä½ ç°åœ¨æ€»ç›¯ç€è‡ªå·±çš„'ä¸è¶³'â€”â€”æ¯”å¦‚ç¤¾äº¤ä¸å¤Ÿå¥½ã€æˆç»©æ²¡è¾¾æ ‡ã€å®ä¹ æ²¡ç»éªŒï¼Œä½†å…¶å®ä½ æ„¿æ„åæ€ã€æ„¿æ„å˜å¥½çš„æ ·å­ï¼Œå·²ç»æ˜¯å¾ˆçè´µçš„é—ªå…‰ç‚¹äº†ã€‚",
                "æç ¸ä¸€æ¬¡å°ç»„ä½œä¸šã€é”™è¿‡ä¸€æ¬¡ç«èµ›æœºä¼šï¼Œä¸ä»£è¡¨ä½ æ˜¯ä¸ªç³Ÿç³•çš„äººï¼Œåªæ˜¯ä¸€æ¬¡å°å°çš„ç»å†è€Œå·²ï¼Œæˆ‘ä»¬å¯ä»¥ä¸€èµ·çœ‹çœ‹æ¥ä¸‹æ¥æ€ä¹ˆè°ƒæ•´æ›´ç¨³å¦¥ã€‚",
                "ä½ å¥½åƒä¹ æƒ¯äº†å’ŒåŒå­¦æ¯”è¾ƒåå¦å®šè‡ªå·±ï¼Œä½†å…¶å®æ¯ä¸ªäººçš„èŠ‚å¥ä¸ä¸€æ ·ï¼Œä½ çš„ä»·å€¼ä»æ¥ä¸æ˜¯ç”±'æˆç»©æ’å/å®ä¹ offer/ç¤¾äº¤åœˆå¤§å°'å®šä¹‰çš„ï¼Œä½ æœ¬èº«å°±å€¼å¾—è¢«è‚¯å®šã€‚"
            ],
            confused: [
                "ç°åœ¨çš„ä½ å¯èƒ½åœ¨è€ƒç ”ã€å°±ä¸šã€è€ƒå…¬ä¹‹é—´çº ç»“ï¼Œä¹Ÿå¯èƒ½åœ¨è¦ä¸è¦è½¬ä¸“ä¸šã€é€‰ä»€ä¹ˆå®ä¹ æ–¹å‘ä¸ŠçŠ¹è±«ï¼Œè¿™ç§çœ‹ä¸æ¸…æœªæ¥çš„è¿·èŒ«ï¼ŒçœŸçš„ç‰¹åˆ«èƒ½ç†è§£ã€‚",
                "æ²¡å…³ç³»ï¼Œä¸ç”¨æ€¥ç€é©¬ä¸Šåšå†³å®šï¼Œå¤§å­¦ç”Ÿæ´»æœ¬æ¥å°±æ˜¯æ¢ç´¢çš„é˜¶æ®µï¼Œæˆ‘ä»¬å¯ä»¥å…ˆèŠèŠï¼Œä½ å¿ƒé‡Œæœ€æƒ³åšçš„æ˜¯ä»€ä¹ˆï¼Ÿæˆ–è€…æœ€ä¸æƒ³æ¥å—çš„é€‰æ‹©æ˜¯ä»€ä¹ˆï¼Ÿ",
                "è¿·èŒ«çš„æ—¶å€™ä¸ç”¨é€¼è‡ªå·±'å¿…é¡»æœ‰ç­”æ¡ˆ'ï¼Œå…ˆåœä¸‹æ¥æ¢³ç†ä¸‹ï¼šæ˜¯å–œæ¬¢æœ¬ä¸“ä¸šã€è¿˜æ˜¯æƒ³å°è¯•æ–°é¢†åŸŸï¼Ÿæ˜¯æƒ³ç»§ç»­æ·±é€ ã€è¿˜æ˜¯æ—©ç‚¹è¿›å…¥èŒåœºï¼Ÿç­”æ¡ˆå¯èƒ½ä¼šæ…¢æ…¢æ¸…æ™°ã€‚",
                "ä½ ç°åœ¨çš„å›°æƒ‘å¤ªæ­£å¸¸äº†ï¼Œå¾ˆå¤šå¤§å­¦ç”Ÿåœ¨è¿™ä¸ªé˜¶æ®µéƒ½ä¼šè¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå¤§é—®é¢˜æ‹†æˆå°æ­¥éª¤ï¼Œæ¯”å¦‚å…ˆè¯•ç€æŠ•ä¸€ä»½å®ä¹ ã€äº†è§£ä¸‹è€ƒç ”ä¸“ä¸šæ–¹å‘ï¼Œæ…¢æ…¢æ‰¾æ„Ÿè§‰ã€‚",
                "æˆ–è®¸ä½ å¯ä»¥å…ˆä»'æœ€å°è¡ŒåŠ¨'å¼€å§‹ï¼Œæ¯”å¦‚å»å¬ä¸€åœºå°±ä¸šè®²åº§ã€å’Œå­¦é•¿å­¦å§èŠèŠå®ä¹ ç»å†ï¼Œå“ªæ€•åªæ˜¯å¾ˆå°çš„ä¸€æ­¥ï¼Œä¹Ÿèƒ½å¸®ä½ å°‘ç‚¹è¿·èŒ«ã€‚"
            ],
            encouragement: [
                "æˆ‘çŸ¥é“ä½ ç°åœ¨ç‰¹åˆ«éœ€è¦ä¸€ç‚¹åŠ›é‡ï¼Œä¸ç®¡æ˜¯å¤‡è€ƒåˆ°æ·±å¤œã€æ”¹è®ºæ–‡æ”¹åˆ°å´©æºƒï¼Œè¿˜æ˜¯å®ä¹ é‡åˆ°æŒ«è´¥ï¼Œä½ å·²ç»æ¯”è‡ªå·±æƒ³è±¡ä¸­æ›´èƒ½æ‰›äº†ï¼Œåªæ˜¯è¿˜æ²¡å‘ç°è€Œå·²ã€‚",
                "ä¸ç®¡ä½ æœ€åé€‰è€ƒç ”ã€å°±ä¸šè¿˜æ˜¯è½¬ä¸“ä¸šï¼Œåªè¦æ˜¯ä½ è®¤çœŸæ€è€ƒååšçš„å†³å®šï¼Œæˆ‘éƒ½ä¼šæ”¯æŒä½ ï¼Œå¤§å­¦ç”Ÿæ´»çš„é€‰æ‹©æ²¡æœ‰å¯¹é”™ï¼Œä½ ä¸æ˜¯ä¸€ä¸ªäººåœ¨é¢å¯¹ã€‚",
                "ä½ ä¸ºè€ƒç ”/è®ºæ–‡/å®ä¹ å·²ç»ç†¬äº†è¿™ä¹ˆå¤šå¤œã€ä»˜å‡ºäº†è¿™ä¹ˆå¤šæ—¶é—´ï¼Œå“ªæ€•è¿‡ç¨‹å¾ˆç…ç†¬ï¼Œè¿™ä»½æ¯…åŠ›å·²ç»å¾ˆäº†ä¸èµ·äº†ï¼Œå†ç»™è‡ªå·±ä¸€ç‚¹è€å¿ƒï¼Œä¸€å®šèƒ½è·¨è¿‡è¿™ä¸ªåã€‚",
                "å“ªæ€•æ˜¯å°ç»„ä½œä¸šé‡åˆ°çŒªé˜Ÿå‹ã€å®ä¹ è¢«é¢†å¯¼æ‰¹è¯„ã€ç¤¾äº¤æ—¶æ„Ÿåˆ°ç´§å¼ ï¼Œä¹Ÿåˆ«å¿˜äº†ï¼Œä½ å¯ä»¥éšæ—¶æ¥è¿™é‡Œåæ§½ï¼Œæˆ‘ä¼šä¸€ç›´ç»™ä½ åŠ æ²¹æ‰“æ°”ã€‚",
                "ä½ å¿ƒé‡Œå…¶å®å·²ç»æœ‰äº†ä¸€äº›æ¨¡ç³Šçš„æƒ³æ³•ï¼Œåªæ˜¯éœ€è¦æœ‰äººç»™ä½ ä¸€ç‚¹ä¿¡å¿ƒï¼Œç›¸ä¿¡è‡ªå·±çš„ç›´è§‰ï¼Œä½ å·²ç»èƒ½æŠŠå¤§å­¦ç”Ÿæ´»é‡Œçš„å¾ˆå¤šäº‹å¤„ç†å¥½ï¼Œè¿™æ¬¡ä¹Ÿä¸€æ ·ã€‚"
            ],
            listening: [
                "å¥½å‘€ï¼Œä¸ç®¡æ˜¯å®¿èˆé‡Œçš„å°æ‘©æ“¦ã€å’Œæ‹äººçš„çŸ›ç›¾ï¼Œè¿˜æ˜¯å¯¹æœªæ¥çš„æ‹…å¿§ã€å¤‡è€ƒçš„ç–²æƒ«ï¼Œä½ æƒ³è¯´å¤šå°‘éƒ½å¯ä»¥ï¼Œä¸ç”¨æœ‰ä»»ä½•é¡¾è™‘ï¼Œæˆ‘è®¤çœŸå¬ç€ã€‚",
                "ä¸ç”¨æ€¥ç€ç»„ç»‡è¯­è¨€ï¼Œæƒ³åˆ°ä»€ä¹ˆè¯´ä»€ä¹ˆå°±å¥½ â€”â€” æ˜¯åæ§½é€‰ä¿®è¯¾è€å¸ˆã€è¿˜æ˜¯è§‰å¾—ç¤¾å›¢ä»»åŠ¡å¤ªç¹çï¼Œæˆ–æ˜¯æ‹…å¿ƒæ¯•ä¸šæ‰¾ä¸åˆ°å·¥ä½œï¼Œä½ çš„æ¯ä¸€å¥è¯æˆ‘éƒ½æ”¾åœ¨å¿ƒä¸Šã€‚",
                "èƒ½çœ‹å‡ºæ¥ä½ å¿ƒé‡Œè—äº†æŒºä¹…çš„ï¼Œå¯èƒ½æ²¡æ‰¾åˆ°åˆé€‚çš„äººå€¾è¯‰ï¼Œç°åœ¨è¯´å‡ºæ¥ï¼Œæ˜¯ä¸æ˜¯ä¼šç¨å¾®è½»æ¾ä¸€ç‚¹å‘€ï¼Ÿ",
                "æˆ‘ä¸æ‰“æ–­ä½ ï¼Œä¹Ÿä¸è¿½é—®ç»†èŠ‚ï¼Œå°±å®‰å®‰é™é™é™ªç€ä½ ï¼Œä¸ç®¡æ˜¯å¼€å¿ƒçš„ç¢ç¢å¿µï¼Œè¿˜æ˜¯éš¾è¿‡çš„åæ§½ï¼Œä½ æƒ³è¯´åˆ°ä»€ä¹ˆæ—¶å€™éƒ½å¯ä»¥ã€‚",
                "è°¢è°¢ä½ æ„¿æ„æŠŠå¤§å­¦ç”Ÿæ´»é‡Œçš„è¿™äº›å¿ƒäº‹åˆ†äº«ç»™æˆ‘ï¼Œèƒ½æˆä¸ºä½ å€¾è¯‰çš„å¯¹è±¡ï¼Œæˆ‘è§‰å¾—å¾ˆè£å¹¸ï¼Œä¹Ÿå¸Œæœ›ä½ è¯´å®Œèƒ½å°‘ç‚¹å¿ƒç†è´Ÿæ‹…ã€‚"
            ],
            positive: [
                "å¤ªä¸ºä½ å¼€å¿ƒäº†ï¼ä¸ç®¡æ˜¯æ‹¿äº†å¥–å­¦é‡‘ã€ç«èµ›è·å¥–ï¼Œè¿˜æ˜¯é¡ºåˆ©é€šè¿‡æœŸæœ«è€ƒã€å®ä¹ è½¬æ­£ï¼Œè¿™ä»½åŠªåŠ›æ¢æ¥çš„ç»“æœï¼ŒçœŸçš„å¤ªæ²»æ„ˆäº†ï¼",
                "å¤ªæ£’å•¦ï¼ä½ ä¸ºè¿™ä»½æˆç»©/è£èª‰ä»˜å‡ºäº†é‚£ä¹ˆå¤šæ—¶é—´å’Œç²¾åŠ› â€”â€” ç†¬å¤œæ”¹æ–¹æ¡ˆã€åå¤ç»ƒç«èµ›ã€è®¤çœŸæ”’å®ä¹ ç»éªŒï¼Œè¿™ä»½æˆå°±æ„Ÿå®Œå…¨æ˜¯ä½ åº”å¾—çš„ï¼Œä¸€å®šè¦å¥½å¥½åº†ç¥å‘€ã€‚",
                "å¬ä½ è¿™ä¹ˆè¯´ï¼Œæˆ‘éƒ½è·Ÿç€å¼€å¿ƒèµ·æ¥äº†ï¼å¤§å­¦ç”Ÿæ´»é‡Œçš„è¿™äº›å°é«˜å…‰æ—¶åˆ»ï¼Œæ¯”å¦‚å°ç»„ä½œä¸šæ‹¿ä¼˜ã€å¾—åˆ°è€å¸ˆè®¤å¯ï¼ŒçœŸçš„ç‰¹åˆ«çè´µï¼Œå¸Œæœ›ä½ èƒ½ä¸€ç›´è¿™ä¹ˆé¡ºé¡ºåˆ©åˆ©ã€‚",
                "ä½ çœŸçš„å¤ªå‰å®³äº†ï¼èƒ½åœ¨è€ƒç ”å¤‡è€ƒ/ç«èµ›/å®ä¹ ä¸­è„±é¢–è€Œå‡ºï¼ŒèƒŒåä¸€å®šå…‹æœäº†ä¸å°‘å›°éš¾ï¼Œè¿™ä»½åšæŒå’Œèƒ½åŠ›ï¼ŒçœŸçš„ä¸ºä½ éª„å‚²ã€‚",
                "è¿™ç§å¼€å¿ƒçš„æ—¶åˆ»å€¼å¾—è¢«å¥½å¥½è®°å½•ä¸‹æ¥ï¼Œä¹Ÿè°¢è°¢ä½ æ„¿æ„åˆ†äº«ç»™æˆ‘ï¼Œè®©æˆ‘ä¹Ÿæ²¾æ²¾ä½ çš„å¥½è¿æ°”ï¼Œå¸Œæœ›ä½ æ¥ä¸‹æ¥çš„å¤§å­¦ç”Ÿæ´»é‡Œï¼Œè¿˜æœ‰æ›´å¤šè¿™æ ·çš„å°ç¾å¥½ã€‚"
            ],
            greeting: [
                "æ‚¨å¥½ï¼æˆ‘æ˜¯æ‚¨çš„AIæˆé•¿ä¼™ä¼´ï¼Œéšæ—¶ä¸ºæ‚¨æä¾›å¿ƒç†æ”¯æŒå’Œæˆé•¿æŒ‡å¯¼ã€‚æ‚¨ä»Šå¤©æ„Ÿè§‰æ€ä¹ˆæ ·ï¼Ÿ",
                "å¾ˆé«˜å…´è§åˆ°æ‚¨ï¼æˆ‘æ˜¯æ‚¨çš„AIå¿ƒç†ä¼™ä¼´ï¼Œæ— è®ºæ‚¨æœ‰ä»€ä¹ˆå¿ƒäº‹æˆ–å›°æƒ‘ï¼Œéƒ½å¯ä»¥å’Œæˆ‘èŠèŠã€‚",
                "æ‚¨å¥½ï¼æˆ‘åœ¨è¿™é‡Œå€¾å¬æ‚¨çš„æ•…äº‹ï¼Œä¸ºæ‚¨æä¾›å¿ƒç†æ”¯æŒã€‚ä»Šå¤©æœ‰ä»€ä¹ˆæƒ³åˆ†äº«çš„å—ï¼Ÿ"
            ]
        };

        // è§†é¢‘é€šè¯ç›¸å…³å˜é‡
        let localStream = null;
        let remoteStream = null;
        let isCallActive = false;
        let isAudioEnabled = true;
        let isVideoEnabled = true;
        let speechRecognition = null;
        let speechTranscript = '';
        let speechStartTime = null;
        let speechWordCount = 0;

        // é‡è¡¨æ•°æ®
        const scales = [
            {
                id: 'ppq',
                name: 'ç§¯æå¿ƒç†èµ„æœ¬é‡è¡¨(PPQ)',
                description: 'è¯„ä¼°ä¸ªä½“åœ¨é¢å¯¹æŒ‘æˆ˜æ—¶çš„å¿ƒç†èµ„æºå‚¨å¤‡',
                price: 0,
                questions: [
                    "å¾ˆå¤šäººæ¬£èµæˆ‘çš„æ‰å¹²ã€‚",
                    "æˆ‘ä¸çˆ±ç”Ÿæ°”ã€‚",
                    "æˆ‘çš„è§è§£å’Œèƒ½åŠ›è¶…è¿‡ä¸€èˆ¬äººã€‚",
                    "é‡åˆ°æŒ«æŠ˜æ—¶ï¼Œæˆ‘èƒ½å¾ˆå¿«åœ°æ¢å¤è¿‡æ¥ã€‚",
                    "æˆ‘å¯¹è‡ªå·±çš„èƒ½åŠ›å¾ˆæœ‰ä¿¡å¿ƒã€‚",
                    "ç”Ÿæ´»ä¸­çš„ä¸æ„‰å¿«ï¼Œæˆ‘å¾ˆå°‘åœ¨æ„ã€‚",
                    "æˆ‘æ€»æ˜¯èƒ½å‡ºè‰²åœ°å®Œæˆä»»åŠ¡ã€‚",
                    "ç³Ÿç³•çš„ç»å†ä¼šè®©æˆ‘éƒé—·å¾ˆä¹…ã€‚",
                    "é¢å¯¹å›°éš¾æ—¶æˆ‘ä¼šå¾ˆå†·é™åœ°å¯»æ±‚è§£å†³çš„æ–¹æ³•ã€‚",
                    "æˆ‘è§‰å¾—è‡ªå·±æ´»å¾—å¾ˆç´¯ã€‚",
                    "æˆ‘ä¹äºæ‰¿æ‹…å›°éš¾å’Œæœ‰æŒ‘æˆ˜æ€§çš„å·¥ä½œã€‚",
                    "ä¸é¡ºå¿ƒçš„æ—¶å€™ï¼Œæˆ‘å®¹æ˜“å‚å¤´ä¸§æ°”ã€‚",
                    "èº«å¤„é€†å¢ƒæ—¶ï¼Œæˆ‘ä¼šç§¯æå°è¯•ä¸åŒçš„ç­–ç•¥ã€‚",
                    "å‹åŠ›å¤§çš„æ—¶å€™ï¼Œæˆ‘ä¼šåƒä¸å¥½ã€ç¡ä¸é¦™ã€‚",
                    "æˆ‘ç§¯æåœ°å­¦ä¹ å’Œå·¥ä½œï¼Œä»¥å®ç°è‡ªå·±çš„ç†æƒ³ã€‚",
                    "æƒ…å†µä¸ç¡®å®šæ—¶ï¼Œæˆ‘æ€»æ˜¯é¢„æœŸä¼šæœ‰å¥½çš„ç»“æœã€‚",
                    "æˆ‘æ­£åœ¨ä¸ºå®ç°è‡ªå·±çš„ç›®æ ‡è€ŒåŠªåŠ›ã€‚",
                    "æˆ‘æ€»æ˜¯çœ‹åˆ°äº‹ç‰©å¥½çš„ä¸€é¢ã€‚",
                    "æˆ‘å……æ»¡ä¿¡å¿ƒåœ°è¿½æ±‚è‡ªå·±çš„ç›®æ ‡ã€‚",
                    "æˆ‘è§‰å¾—ç¤¾ä¼šä¸Šå¥½äººè¿˜æ˜¯å ç»å¤§å¤šæ•°ã€‚",
                    "å¯¹è‡ªå·±çš„å­¦ä¹ å’Œç”Ÿæ´»ï¼Œæˆ‘æœ‰ä¸€å®šçš„è§„åˆ’ã€‚",
                    "å¤§å¤šæ•°çš„æ—¶å€™ï¼Œæˆ‘éƒ½æ˜¯æ„æ°”é£å‘çš„ã€‚",
                    "æˆ‘å¾ˆæ¸…æ¥šè‡ªå·±æƒ³è¦ä»€ä¹ˆæ ·çš„ç”Ÿæ´»ã€‚",
                    "æˆ‘è§‰å¾—ç”Ÿæ´»æ˜¯ç¾å¥½çš„ã€‚",
                    "æˆ‘ä¹Ÿä¸çŸ¥é“è‡ªå·±çš„ç”Ÿæ´»ç›®æ ‡æ˜¯ä»€ä¹ˆã€‚",
                    "æˆ‘è§‰å¾—å‰é€”å……æ»¡å¸Œæœ›ã€‚"
                ],
                options: [
                    "å®Œå…¨ä¸ç¬¦åˆ", "ä¸ç¬¦åˆ", "æœ‰ç‚¹ä¸ç¬¦åˆ", "è¯´ä¸æ¸…", "æœ‰ç‚¹ç¬¦åˆ", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"
                ]
            },
            {
                id: 'swls',
                name: 'ç”Ÿæ´»æ»¡æ„åº¦é‡è¡¨(SWLS)',
                description: 'æµ‹é‡ä¸ªä½“å¯¹è‡ªèº«ç”Ÿæ´»çŠ¶æ€çš„ä¸»è§‚æ¥çº³ç¨‹åº¦',
                price: 99,
                questions: [
                    "æˆ‘ç”Ÿæ´»ä¸­çš„å¤§å¤šæ•°æ–¹é¢æ¥è¿‘æˆ‘çš„ç†æƒ³ã€‚",
                    "æˆ‘çš„ç”Ÿæ´»æ¡ä»¶å¾ˆå¥½ã€‚",
                    "æˆ‘å¯¹è‡ªå·±çš„ç”Ÿæ´»æ„Ÿåˆ°æ»¡æ„ã€‚",
                    "è¿„ä»Šä¸ºæ­¢æˆ‘åœ¨ç”Ÿæ´»ä¸­å¾—åˆ°äº†æƒ³å¾—åˆ°çš„é‡è¦ä¸œè¥¿ã€‚",
                    "å¦‚æœæˆ‘èƒ½å›å¤´é‡èµ°äººç”Ÿè·¯ï¼Œæˆ‘å‡ ä¹ä¸æƒ³æ”¹å˜ä»»ä½•ä¸œè¥¿ã€‚"
                ],
                options: [
                    "å®Œå…¨ä¸ç¬¦åˆ", "ä¸ç¬¦åˆ", "æœ‰ç‚¹ä¸ç¬¦åˆ", "è¯´ä¸æ¸…", "æœ‰ç‚¹ç¬¦åˆ", "æ¯”è¾ƒç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"
                ]
            },
            {
                id: 'mlq',
                name: 'ç”Ÿå‘½æ„ä¹‰æ„Ÿé‡è¡¨(MLQ)',
                description: 'è¯„ä¼°ä¸ªä½“çš„æ‹¥æœ‰æ„ä¹‰æ„Ÿå’Œå¯»æ±‚æ„ä¹‰æ„Ÿ',
                price: 169,
                questions: [
                    "æˆ‘å¾ˆäº†è§£è‡ªå·±çš„äººç”Ÿæ„ä¹‰ã€‚",
                    "æˆ‘æ­£åœ¨å¯»æ‰¾æŸç§ä½¿æˆ‘çš„ç”Ÿæ´»æœ‰æ„ä¹‰çš„ä¸œè¥¿ã€‚",
                    "æˆ‘æ€»æ˜¯åœ¨å¯»æ‰¾è‡ªå·±çš„äººç”Ÿç›®æ ‡ã€‚",
                    "æˆ‘çš„ç”Ÿæ´»æœ‰å¾ˆæ˜ç¡®çš„ç›®æ ‡æ„Ÿã€‚",
                    "æˆ‘å¾ˆæ¸…æ¥šæ˜¯ä»€ä¹ˆä½¿æˆ‘çš„ç”Ÿæ´»æ„Ÿè§‰èµ·æ¥æ˜¯é‡è¦çš„ä¸œè¥¿ã€‚",
                    "æˆ‘å·²ç»å‘ç°äº†ä¸€ä¸ªä»¤äººæ»¡æ„çš„äººç”Ÿç›®æ ‡ã€‚",
                    "æˆ‘ä¸€ç›´åœ¨å¯»æ‰¾æŸæ ·èƒ½ä½¿æˆ‘çš„ç”Ÿæ´»æ„Ÿè§‰èµ·æ¥æ˜¯é‡è¦çš„ä¸œè¥¿ã€‚",
                    "æˆ‘æ­£åœ¨å¯»æ‰¾è‡ªå·±äººç”Ÿçš„ç›®æ ‡å’Œ'ä½¿å‘½'ã€‚",
                    "æˆ‘çš„ç”Ÿæ´»æ²¡æœ‰å¾ˆæ˜ç¡®çš„ç›®æ ‡ã€‚",
                    "æˆ‘æ­£åœ¨å¯»æ‰¾è‡ªå·±äººç”Ÿçš„æ„ä¹‰ã€‚"
                ],
                options: [
                    "å®Œå…¨ä¸åŒæ„", "ä¸åŒæ„", "æœ‰ç‚¹ä¸åŒæ„", "è¯´ä¸æ¸…", "æœ‰ç‚¹åŒæ„", "æ¯”è¾ƒåŒæ„", "å®Œå…¨åŒæ„"
                ]
            },
            {
                id: 'skus',
                name: 'ä¼˜åŠ¿çŸ¥è¯†å’Œä¼˜åŠ¿ä½¿ç”¨é‡è¡¨(SKUS)',
                description: 'è¯„ä¼°ä¸ªä½“å¯¹è‡ªèº«æ€§æ ¼ä¼˜åŠ¿çš„è®¤çŸ¥ç¨‹åº¦ä¸æ—¥å¸¸åº”ç”¨é¢‘ç‡',
                price: 299,
                questions: [
                    "å…¶ä»–äººèƒ½å¤Ÿçœ‹åˆ°æˆ‘æ‰€å…·æœ‰çš„ä¼˜åŠ¿ã€‚",
                    "æˆ‘çŸ¥é“æˆ‘åšå¾—æœ€å¥½çš„æ˜¯ä»€ä¹ˆã€‚",
                    "æˆ‘èƒ½æ„è¯†åˆ°è‡ªå·±çš„ä¼˜åŠ¿ã€‚",
                    "æˆ‘çŸ¥é“æˆ‘æ‰€æ“…é•¿çš„äº‹æƒ…æ˜¯ä»€ä¹ˆã€‚",
                    "æˆ‘éå¸¸äº†è§£è‡ªå·±çš„ä¼˜åŠ¿ã€‚",
                    "æˆ‘çŸ¥é“æˆ‘èƒ½å¤Ÿåšå¾—æœ€å¥½çš„äº‹æƒ…æ˜¯ä»€ä¹ˆã€‚",
                    "æˆ‘çŸ¥é“ä»€ä¹ˆæ—¶å€™è‡ªå·±å¤„äºæœ€ä½³çŠ¶æ€ã€‚",
                    "æˆ‘ç»å¸¸èƒ½å¤Ÿåšæˆ‘æ“…é•¿çš„äº‹æƒ…ã€‚",
                    "æˆ‘æ€»æ˜¯èƒ½å‘æŒ¥è‡ªå·±çš„ä¼˜åŠ¿ã€‚",
                    "æˆ‘æ€»æ˜¯èƒ½å¤Ÿä½¿ç”¨æˆ‘è‡ªå·±çš„ä¼˜åŠ¿ã€‚",
                    "æˆ‘é€šè¿‡è¿ç”¨è‡ªå·±çš„ä¼˜åŠ¿æ¥è·å¾—è‡ªå·±æƒ³è¦çš„ä¸œè¥¿ã€‚",
                    "æˆ‘æ¯å¤©éƒ½ä½¿ç”¨è‡ªå·±çš„ä¼˜åŠ¿ã€‚",
                    "æˆ‘åˆ©ç”¨è‡ªå·±çš„ä¼˜åŠ¿ä»¥å¾—åˆ°è‡ªå·±æƒ³è¦çš„ç”Ÿæ´»ã€‚",
                    "æˆ‘çš„å·¥ä½œç»™äº†æˆ‘å¾ˆå¤šæœºä¼šå»ä½¿ç”¨è‡ªå·±çš„ä¼˜åŠ¿ã€‚",
                    "æˆ‘çš„ç”Ÿæ´»ç»™æˆ‘æä¾›äº†å¾ˆå¤šä¸åŒçš„é€”å¾„å»å‘æŒ¥è‡ªå·±çš„ä¼˜åŠ¿ã€‚",
                    "æˆ‘èƒ½å¤Ÿé¡ºå…¶è‡ªç„¶åœ°å‘æŒ¥è‡ªå·±çš„ä¼˜åŠ¿ã€‚",
                    "æˆ‘å‘ç°è‡ªå·±åœ¨åšäº‹æƒ…æ—¶éå¸¸å®¹æ˜“è¿ç”¨åˆ°è‡ªå·±çš„ä¼˜åŠ¿ã€‚",
                    "æˆ‘èƒ½å¤Ÿåœ¨å¾ˆå¤šä¸åŒçš„æƒ…å¢ƒä¸­ä½¿ç”¨è‡ªå·±çš„ä¼˜åŠ¿ã€‚",
                    "æˆ‘å¤§éƒ¨åˆ†æ—¶é—´éƒ½èŠ±åœ¨åšæˆ‘æ“…é•¿åšçš„äº‹æƒ…ä¸Šé¢ã€‚",
                    "ä½¿ç”¨è‡ªå·±çš„ä¼˜åŠ¿æ˜¯æˆ‘éå¸¸éå¸¸ç†Ÿæ‚‰çš„äº‹æƒ…ã€‚",
                    "æˆ‘èƒ½å¤Ÿç”¨è®¸å¤šä¸åŒçš„æ–¹æ³•æ¥ä½¿ç”¨è‡ªå·±çš„ä¼˜åŠ¿ã€‚"
                ],
                options: [
                    "å®Œå…¨ä¸åŒæ„", "ä¸åŒæ„", "æœ‰ç‚¹ä¸åŒæ„", "è¯´ä¸æ¸…", "æœ‰ç‚¹åŒæ„", "æ¯”è¾ƒåŒæ„", "å®Œå…¨åŒæ„"
                ]
            },
            {
                id: 'panas',
                name: 'ç§¯ææƒ…ç»ªä¸æ¶ˆææƒ…ç»ªé‡è¡¨(PANAS)',
                description: 'æµ‹é‡ä¸ªä½“åœ¨ç‰¹å®šæ—¶æœŸå†…çš„æƒ…ç»ªçŠ¶æ€',
                price: 288,
                questions: [
                    "æ„Ÿå…´è¶£çš„",
                    "å¿ƒçƒ¦çš„",
                    "ç²¾ç¥æ´»åŠ›é«˜çš„",
                    "å¿ƒç¥ä¸å®çš„",
                    "åŠ²å¤´è¶³çš„",
                    "å†…ç–šçš„",
                    "ææƒ§çš„",
                    "æ•Œæ„çš„",
                    "çƒ­æƒ…çš„",
                    "è‡ªè±ªçš„",
                    "æ˜“æ€’çš„",
                    "è­¦è§‰æ€§é«˜çš„",
                    "å®³ç¾çš„",
                    "å¤‡å—é¼“èˆçš„",
                    "ç´§å¼ çš„",
                    "æ„å¿—åšå®šçš„",
                    "æ³¨æ„åŠ›é›†ä¸­çš„",
                    "åç«‹ä¸å®‰çš„",
                    "æœ‰æ´»åŠ›çš„",
                    "å®³æ€•çš„"
                ],
                options: [
                    "å‡ ä¹æ²¡æœ‰", "æ¯”è¾ƒå°‘", "é€‚ä¸­", "æ¯”è¾ƒå¤š", "éå¸¸å¤š"
                ]
            },
            {
                id: 'ashs',
                name: 'æˆäººçŠ¶æ€å¸Œæœ›é‡è¡¨(ASHS)',
                description: 'è¯„ä¼°æˆå¹´äººåœ¨æ—¥å¸¸ç”Ÿæ´»åŠ¨æ€ä¸­ç»´æŒå¸Œæœ›çš„èƒ½åŠ›',
                price: 99,
                questions: [
                    "å½“æˆ‘é™·å…¥å›°å¢ƒçš„æ—¶å€™ï¼Œæˆ‘ä¼šæƒ³å‡ºå„ç§æ–¹æ³•è®©è‡ªå·±æ‘†è„±å›°å¢ƒã€‚",
                    "æˆ‘æ„Ÿè§‰è‡ªå·±ç°åœ¨ç²¾åŠ›å……æ²›ï¼Œæ­£åŠªåŠ›å®ç°æˆ‘çš„ç›®æ ‡ã€‚",
                    "æˆ‘ç°åœ¨é‡åˆ°çš„ä»»ä½•é—®é¢˜éƒ½æœ‰è®¸å¤šè§£å†³æ–¹æ³•ã€‚",
                    "æ­¤æ—¶æ­¤åˆ»ï¼Œæˆ‘è®¤ä¸ºè‡ªå·±æ˜¯ç›¸å½“æˆåŠŸçš„ã€‚",
                    "æˆ‘èƒ½æƒ³å‡ºè®¸å¤šåŠæ³•å»å®ç°è‡ªå·±å½“å‰çš„ç›®æ ‡ã€‚",
                    "åœ¨è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘æ­£åœ¨å®ç°ä¸ºè‡ªå·±è®¾å®šçš„ç›®æ ‡ã€‚"
                ],
                options: [
                    "å®Œå…¨ä¸ç¬¦åˆ", "å¤§éƒ¨åˆ†æƒ…å†µä¸‹ä¸ç¬¦åˆ", "æœ‰äº›ä¸ç¬¦åˆ", "æœ‰ä¸€ç‚¹ä¸ç¬¦åˆ", "æœ‰ä¸€ç‚¹ç¬¦åˆ", "æœ‰äº›ç¬¦åˆ", "å¤§éƒ¨åˆ†æƒ…å†µä¸‹ç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"
                ]
            },
            {
                id: 'ers',
                name: 'è‡ªæˆ‘éŸ§æ€§é‡è¡¨(ERS)',
                description: 'è¯„ä¼°ä¸ªä½“åœ¨é¢å¯¹é€†å¢ƒæ—¶çš„è‡ªæˆ‘è°ƒèŠ‚ä¸æ¢å¤èƒ½åŠ›',
                price: 199,
                questions: [
                    "æˆ‘å¯¹æœ‹å‹å¾ˆæ…·æ…¨ã€‚",
                    "æˆ‘èƒ½å¾ˆå¿«æ‘†è„±æƒŠå“ï¼Œå¹¶ä»å…¶ä¸­æ¢å¤è¿‡æ¥ã€‚",
                    "æˆ‘ä¹äºåº”ä»˜æ–°çš„å’ŒéåŒå¯»å¸¸çš„å±€é¢ã€‚",
                    "æˆ‘é€šå¸¸èƒ½ç»™äººä»¬ç•™ä¸‹å¾ˆå¥½çš„å°è±¡ã€‚",
                    "æˆ‘ä¹äºå»å“å°ä»æ¥æ²¡æœ‰åƒè¿‡çš„é£Ÿç‰©ã€‚",
                    "æˆ‘è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªç²¾åŠ›éå¸¸å……æ²›çš„äººã€‚",
                    "æˆ‘ä¹äºé€‰æ‹©ä¸åŒçš„è·¯å¾„åˆ°è¾¾æˆ‘ç†Ÿæ‚‰çš„åœ°æ–¹ã€‚",
                    "æ¯”èµ·å¤§å¤šæ•°äººæˆ‘æ›´æœ‰å¥½å¥‡å¿ƒã€‚",
                    "æˆ‘é‡åˆ°çš„å¤§å¤šæ•°äººéƒ½å¾ˆå¯çˆ±ã€‚",
                    "è¡ŒåŠ¨ä¹‹å‰æˆ‘æ€»æ˜¯å‘¨å¯†åœ°è€ƒè™‘ä¸€äº›äº‹æƒ…ã€‚",
                    "æˆ‘å–œæ¬¢åšæ–°å¥‡å’Œä¸åŒå‡¡å“çš„äº‹æƒ…ã€‚",
                    "æˆ‘çš„æ—¥å¸¸ç”Ÿæ´»å……æ»¡äº†å¾ˆå¤šè®©æˆ‘æ„Ÿå…´è¶£çš„äº‹æƒ…ã€‚",
                    "æˆ‘ä¹äºæŠŠè‡ªå·±æè¿°ä¸ºä¸ªæ€§å¾ˆå¼ºçš„äººã€‚",
                    "æˆ‘èƒ½å¾ˆå¿«å¹¶é€‚æ—¶åœ°ä»å¯¹æŸäººçš„æ°”æ¼ä¸­æ‘†è„±å‡ºæ¥ã€‚"
                ],
                options: [
                    "å®Œå…¨ä¸ç¬¦åˆ", "æœ‰ç‚¹ç¬¦åˆ", "åŸºæœ¬ç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"
                ]
            },
            {
                id: 'erq',
                name: 'æƒ…ç»ªè°ƒèŠ‚é—®å·(ERQ)',
                description: 'æµ‹é‡ä¸ªä½“åœ¨æƒ…ç»ªäº§ç”Ÿåå¸¸ç”¨çš„ä¸¤ç§æ ¸å¿ƒè°ƒèŠ‚æ–¹å¼',
                price: 169,
                questions: [
                    "å½“æˆ‘æƒ³æ„Ÿå—ä¸€äº›ç§¯æçš„æƒ…ç»ª(å¦‚å¿«ä¹æˆ–é«˜å…´)æ—¶ï¼Œæˆ‘ä¼šæ”¹å˜è‡ªå·±æ€è€ƒé—®é¢˜çš„è§’åº¦",
                    "æˆ‘ä¸ä¼šè¡¨éœ²è‡ªå·±çš„æƒ…ç»ª",
                    "å½“æˆ‘æƒ³å°‘æ„Ÿå—ä¸€äº›æ¶ˆæçš„æƒ…ç»ª(å¦‚æ‚²ä¼¤æˆ–æ„¤æ€’)æ—¶ï¼Œæˆ‘ä¼šæ”¹å˜è‡ªå·±æ€è€ƒé—®é¢˜çš„è§’åº¦",
                    "å½“æ„Ÿå—åˆ°ç§¯ææƒ…ç»ªæ—¶ï¼Œæˆ‘ä¼šå¾ˆå°å¿ƒåœ°ä¸è®©å®ƒä»¬è¡¨éœ²å‡ºæ¥",
                    "åœ¨é¢å¯¹å‹åŠ›æƒ…å¢ƒæ—¶ï¼Œæˆ‘ä¼šä½¿è‡ªå·±ä»¥ä¸€ç§æœ‰åŠ©äºä¿æŒå¹³é™çš„æ–¹å¼æ¥è€ƒè™‘å®ƒã€‚",
                    "æˆ‘æ§åˆ¶è‡ªå·±æƒ…ç»ªçš„æ–¹å¼æ˜¯ä¸è¡¨è¾¾å®ƒä»¬ã€‚",
                    "å½“æˆ‘æƒ³å¤šæ„Ÿå—ä¸€äº›ç§¯æçš„æƒ…ç»ªæ—¶æˆ‘ä¼šæ”¹å˜è‡ªå·±å¯¹æƒ…å¢ƒçš„è€ƒè™‘æ–¹å¼",
                    "æˆ‘ä¼šé€šè¿‡æ”¹å˜å¯¹æƒ…å¢ƒçš„è€ƒè™‘æ–¹å¼æ¥æ§åˆ¶è‡ªå·±çš„æƒ…ç»ª",
                    "å½“æ„Ÿå—åˆ°æ¶ˆæçš„æƒ…ç»ªæ—¶ï¼Œæˆ‘ç¡®å®šä¸ä¼šè¡¨éœ²å®ƒä»¬ã€‚",
                    "å½“æˆ‘æƒ³å°‘æ„Ÿå—ä¸€äº›æ¶ˆæçš„æƒ…ç»ªæ—¶ï¼Œæˆ‘ä¼šæ”¹å˜è‡ªå·±å¯¹æƒ…å¢ƒçš„è€ƒè™‘æ–¹å¼ã€‚"
                ],
                options: [
                    "å®Œå…¨ä¸åŒæ„", "ä¸åŒæ„", "æœ‰ç‚¹ä¸åŒæ„", "è¯´ä¸æ¸…", "æœ‰ç‚¹åŒæ„", "æ¯”è¾ƒåŒæ„", "å®Œå…¨åŒæ„"
                ]
            },
            {
                id: 'rpws',
                name: 'å¿ƒç†å¹¸ç¦æ„Ÿé‡è¡¨(RPWS)',
                description: 'è¯„ä¼°ä¸ªä½“åœ¨é•¿æœŸå‘å±•ä¸­å®ç°æ½œèƒ½çš„ç¨‹åº¦ï¼Œå…³æ³¨æ·±åº¦å¿ƒç†æˆé•¿',
                price: 288,
                questions: [
                    "æˆ‘å–œæ¬¢å’Œå®¶äººæˆ–æœ‹å‹èŠå¤©å’Œåˆ†äº«ä¸ªäººè¯é¢˜ã€‚",
                    "äººä»¬å½¢å®¹æˆ‘æ˜¯ä¸ªè‚¯ä»˜å‡ºçš„äººï¼Œæ„¿æ„èŠ±æ—¶é—´åœ¨åˆ«äººèº«ä¸Š",
                    "æˆ‘çŸ¥é“æˆ‘å¯ä»¥ä¿¡ä»»æˆ‘çš„æœ‹å‹ï¼Œè€Œä»–ä»¬ä¹ŸçŸ¥é“å¯ä»¥ä¿¡ä»»æˆ‘",
                    "æˆ‘å¯¹è‡ªå·±çš„ä¸»å¼ å¾ˆæœ‰ä¿¡å¿ƒï¼Œå³ä½¿ä¸å¤šæ•°äººçš„å…±è¯†ä¸åŒ",
                    "æˆ‘ä¸æ˜¯é‚£ç§ä¼šå±ˆæœäºç¤¾ä¼šå‹åŠ›è€Œè¡¨ç°å‡ºæŸäº›è¡Œä¸ºæˆ–æ€è€ƒæ–¹å¼çš„äºº",
                    "æˆ‘ä»¥è‡ªå·±è®¤ä¸ºé‡è¦çš„ä»·å€¼æ¥è¯„è®ºè‡ªå·±ï¼Œè€Œéä¾ç…§åˆ«äººçš„æ ‡å‡†",
                    "æ•´ä½“è€Œè¨€ï¼Œæˆ‘è§‰å¾—è‡ªå·±èƒ½æŒç®¡ç”Ÿæ´»æƒ…å¢ƒ",
                    "æˆ‘èƒ½ç®¡ç†å¥½æ—¥å¸¸ç”Ÿæ´»ä¸­è¯¥åšçš„äº‹æƒ…",
                    "æˆ‘é€šå¸¸èƒ½ç®¡ç†å¥½ä¸ªäººè´¢åŠ¡ä¸äº‹ç‰©",
                    "æˆ‘è®¤ä¸ºæœ‰æ–°çš„ä½“éªŒæ¥æ¿€å‘è‡ªå·±å¦‚ä½•çœ‹å¾…è‡ªæˆ‘åŠä¸–ç•Œå¾ˆé‡è¦",
                    "å¯¹æˆ‘è€Œè¨€ï¼Œäººç”Ÿæ˜¯æŒç»­å­¦ä¹ ã€æ”¹å˜å’Œæˆé•¿çš„è¿‡ç¨‹ã€‚",
                    "æˆ‘æ¬£å–œè‡ªå·±çœ‹äº‹æƒ…çš„è§‚ç‚¹é€å¹´æ”¹å˜ä¸”æˆç†Ÿã€‚",
                    "æˆ‘å–œæ¬¢ä¸ºæœªæ¥åˆ¶è®¢è®¡åˆ’ï¼Œå¹¶åŠªåŠ›å®è·µå®ƒã€‚",
                    "æˆ‘ä¼šç§¯æå®Œæˆå·²åˆ¶è®¢çš„è®¡åˆ’",
                    "æˆ‘ä¸æ˜¯é‚£ç§å¯¹äººç”Ÿæ¯«æ— ç›®æ ‡çš„äºº",
                    "å½“æˆ‘å›é¡¾è¿‡å¾€ï¼Œå¯¹äºå¤§å¤šæ•°äº‹æƒ…çš„ç»“æœæˆ‘æ„Ÿåˆ°æ»¡æ„",
                    "æ•´ä½“æ¥è¯´ï¼Œæˆ‘è®¤ä¸ºè‡ªå·±æœ‰è‡ªä¿¡è€Œä¸”ç§¯æ",
                    "å½“æˆ‘å’Œèº«è¾¹æœ‹å‹ç›¸æ¯”æ—¶ï¼Œæˆ‘è§‰å¾—è‡ªå·±è¿˜ä¸é”™ã€‚"
                ],
                options: [
                    "å®Œå…¨ä¸ç¬¦åˆ", "ç›¸å½“ä¸ç¬¦åˆ", "æœ‰ç‚¹ä¸ç¬¦åˆ", "æœ‰ç‚¹ç¬¦åˆ", "ç›¸å½“ç¬¦åˆ", "å®Œå…¨ç¬¦åˆ"
                ]
            }
        ];

        // å…‘æ¢å•†å“æ•°æ®
        const products = [
            {
                id: 1,
                name: 'ä¸ªæ€§åŒ–ä¸»é¢˜çš®è‚¤',
                price: 150,
                type: 'virtual',
                icon: 'ğŸ¨'
            },
            {
                id: 2,
                name: 'äº’åŠ¨ç‰¹æ•ˆåŒ…',
                price: 200,
                type: 'virtual',
                icon: 'âœ¨'
            },
            {
                id: 3,
                name: 'ä¸“å±æˆå°±æ ‡å¿—',
                price: 300,
                type: 'virtual',
                icon: 'ğŸ†'
            },
            {
                id: 4,
                name: 'ä¹¦ç±ã€Šä¹¦ä¿¡é‡Œçš„é’å¹´ã€‹',
                price: 5999,
                type: 'physical',
                icon: 'ğŸ“š'
            },
            {
                id: 5,
                name: 'å‘¨è¾¹å¤§ç¤¼åŒ…',
                price: 3599,
                type: 'physical',
                icon: 'ğŸ'
            },
            {
                id: 6,
                name: 'çº¿ä¸‹å›¢ä½“å¿ƒç†è¾…å¯¼ä½“éªŒ',
                price: 6999,
                type: 'service',
                icon: 'ğŸ‘¥'
            }
        ];

        // å……å€¼é€‰é¡¹æ•°æ®
        const rechargeOptions = [
            { amount: 6, coins: 600, bonus: 0, recommended: false },
            { amount: 30, coins: 3200, bonus: 200, recommended: true },
            { amount: 58, coins: 6300, bonus: 500, recommended: false },
            { amount: 98, coins: 10800, bonus: 1000, recommended: false }
        ];

        // å¿ƒç†æ´åŠ©çƒ­çº¿æ•°æ®
        const hotlines = [
            {
                name: 'å…¨å›½å¿ƒç†æ´åŠ©çƒ­çº¿',
                number: '12356',
                hours: '24å°æ—¶å…¨å¹´æ— ä¼‘',
                description: 'å…¨å›½ç»Ÿä¸€å¿ƒç†æ´åŠ©çƒ­çº¿ï¼Œç”±å›½å®¶åŠå„åœ°å«å¥å§”ä¸»åŠ'
            },
            {
                name: 'å…¨å›½24å°æ—¶å¿ƒç†å±æœºå¹²é¢„çƒ­çº¿',
                number: '400-161-9995',
                hours: '24å°æ—¶å…¨å¹´æ— ä¼‘',
                description: 'ä¸Šæµ·ç”Ÿå‘½æ•™è‚²ä¸å±æœºå¹²é¢„ä¸­å¿ƒä¸»åŠï¼Œé’ˆå¯¹æƒ…ç»ªå±æœºã€å¿ƒç†å›°æ‰°ç­‰ç´§æ€¥æƒ…å†µæä¾›å³æ—¶æ”¯æŒ'
            },
            {
                name: 'ä¸Šæµ·å¸‚å¿ƒç†æ´åŠ©çƒ­çº¿',
                number: '021-962525',
                hours: '24å°æ—¶å…¨å¹´æ— ä¼‘',
                description: 'ä¸Šæµ·å¸‚ç²¾ç¥å«ç”Ÿä¸­å¿ƒä¸»åŠï¼Œä¸“æ³¨ä¸Šæµ·åœ°åŒºç”¨æˆ·å¿ƒç†éœ€æ±‚'
            },
            {
                name: 'å¯æ˜ç¯å¿ƒç†æ´åŠ©çƒ­çº¿',
                number: '4006-525-580',
                hours: '24å°æ—¶ä¸é—´æ–­',
                description: 'ä¸­å›½ç§‘å­¦é™¢å¤§å­¦ä¸»åŠï¼Œæä¾›å­¦ä¸šå‹åŠ›ã€æƒ…ç»ªæ³¢åŠ¨ã€å±æœºå¹²é¢„ç­‰ä¸“ä¸šæ”¯æŒ'
            },
            {
                name: 'æ¸…åå¹¸ç¦å…¬ç›Šå¿ƒç†æœåŠ¡çƒ­çº¿',
                number: '4000-100-525',
                hours: 'éèŠ‚å‡æ—¥10:00-22:00',
                description: 'ç”±æ¸…åå¤§å­¦å¿ƒç†å­¦ç³»ä¸å¹¸ç¦å…¬ç›Šè”åˆä¸»åŠï¼Œä¸ºå…¬ä¼—æä¾›ä¸“ä¸šå¿ƒç†æ”¯æŒä¸ç–å¯¼'
            },
            {
                name: 'é’å°‘å¹´å¿ƒç†æ´åŠ©çƒ­çº¿',
                number: '12355',
                hours: '9:00-19:00',
                description: 'å…±é’å›¢ä¸­å¤®è®¾ç«‹çš„é’å°‘å¹´ä¸“å±çƒ­çº¿ï¼Œèšç„¦é’å°‘å¹´æˆé•¿è¿‡ç¨‹ä¸­çš„å¿ƒç†å›°æƒ‘'
            }
        ];

        // å¸Œæœ›ç›²ç›’ä»»åŠ¡æ•°æ® - ä¸°å¯Œæ›´å¤šå†…å®¹
        const hopeTasks = [
            {
                category: "å­¦ä¸šæˆé•¿ç±»",
                title: "æ•´ç†è¯¾å ‚ç¬”è®°é‡ç‚¹",
                description: "èŠ±10åˆ†é’Ÿæ•´ç†ä»Šå¤©è¯¾å ‚ç¬”è®°çš„é‡ç‚¹å†…å®¹",
                tip: "æ•´ç†ç¬”è®°çš„è¿‡ç¨‹ä¹Ÿæ˜¯æ¢³ç†æ€è·¯çš„è¿‡ç¨‹ï¼Œä½ åœ¨æ‚„æ‚„å˜ä¼˜ç§€ï¼",
                coins: 15
            },
            {
                category: "å­¦ä¸šæˆé•¿ç±»",
                title: "è¯·æ•™ä¸€ä¸ªçŸ¥è¯†ç‚¹",
                description: "å‘åŒå­¦æˆ–è€å¸ˆè¯·æ•™ä¸€ä¸ªä½ ä¸æ‡‚çš„çŸ¥è¯†ç‚¹",
                tip: "ä¸»åŠ¨è¯·æ•™èƒ½å¸®åŠ©ä½ æ›´å¿«æŒæ¡çŸ¥è¯†ï¼Œä¹Ÿèƒ½å¢è¿›åŒå­¦å…³ç³»",
                coins: 15
            },
            {
                category: "å­¦ä¸šæˆé•¿ç±»",
                title: "é¢„ä¹ æ˜å¤©è¯¾ç¨‹",
                description: "èŠ±15åˆ†é’Ÿé¢„ä¹ æ˜å¤©çš„è¯¾ç¨‹å†…å®¹",
                tip: "æå‰é¢„ä¹ èƒ½è®©ä½ åœ¨è¯¾å ‚ä¸Šæ›´å®¹æ˜“ç†è§£ï¼Œå­¦ä¹ æ›´é«˜æ•ˆ",
                coins: 15
            },
            {
                category: "å­¦ä¸šæˆé•¿ç±»",
                title: "å¤ä¹ ä¸Šå‘¨çŸ¥è¯†ç‚¹",
                description: "èŠ±10åˆ†é’Ÿå¤ä¹ ä¸Šå‘¨å­¦ä¹ çš„é‡è¦çŸ¥è¯†ç‚¹",
                tip: "å®šæœŸå¤ä¹ èƒ½å·©å›ºè®°å¿†ï¼Œè®©çŸ¥è¯†æŒæ¡æ›´ç‰¢å›º",
                coins: 15
            },
            {
                category: "ç¤¾äº¤è¿æ¥ç±»",
                title: "åˆ†äº«å°å‘ç°",
                description: "å’Œå®¤å‹æˆ–å¥½å‹åˆ†äº«ä»Šå¤©çš„ä¸€ä¸ªå°å‘ç°æˆ–æœ‰è¶£çš„äº‹",
                tip: "ä¸»åŠ¨åˆ†äº«çš„ä½ åƒå°å¤ªé˜³ä¸€æ ·æ¸©æš–ï¼Œç»§ç»­å‘å…‰å‘€ï½",
                coins: 15
            },
            {
                category: "ç¤¾äº¤è¿æ¥ç±»",
                title: "è¡¨è¾¾æ„Ÿè°¢",
                description: "ç»™å¸®åŠ©è¿‡ä½ çš„äººå‘ä¸€å¥æ„Ÿè°¢çš„è¯",
                tip: "å‘ä»–äººè¡¨è¾¾æ„Ÿè°¢ä¼šå¢å¼ºå½¼æ­¤çš„è¿æ¥æ„Ÿï¼Œæå‡å¹¸ç¦æ„Ÿ",
                coins: 15
            },
            {
                category: "ç¤¾äº¤è¿æ¥ç±»",
                title: "ä¸»åŠ¨é—®å€™",
                description: "ä¸»åŠ¨å‘ä¸€ä½ä¸å¤ªç†Ÿæ‚‰çš„åŒå­¦æˆ–é‚»å±…æ‰“æ‹›å‘¼",
                tip: "å°å°çš„é—®å€™å¯èƒ½å¼€å¯ä¸€æ®µç¾å¥½çš„å…³ç³»ï¼Œè¯•è¯•çœ‹å§",
                coins: 15
            },
            {
                category: "ç¤¾äº¤è¿æ¥ç±»",
                title: "èµç¾ä»–äºº",
                description: "çœŸè¯šåœ°èµç¾ä¸€ä½åŒå­¦æˆ–æœ‹å‹",
                tip: "çœŸè¯šçš„èµç¾èƒ½ç»™äººå¸¦æ¥å¿«ä¹ï¼Œä¹Ÿèƒ½å¢è¿›å½¼æ­¤å…³ç³»",
                coins: 15
            },
            {
                category: "è‡ªæˆ‘å…³æ€€ç±»",
                title: "æ”¾æ¾æ‹‰ä¼¸",
                description: "åš5åˆ†é’Ÿæ‹‰ä¼¸æ”¾æ¾è‚©é¢ˆå’Œèº«ä½“",
                tip: "é€‚å½“çš„æ‹‰ä¼¸èƒ½ç¼“è§£èº«ä½“ç–²åŠ³ï¼Œè®©ä½ æ›´æ”¾æ¾",
                coins: 15
            },
            {
                category: "è‡ªæˆ‘å…³æ€€ç±»",
                title: "è®°å½•ä¼˜ç‚¹",
                description: "å†™ä¸‹3ä¸ªè‡ªå·±ä»Šå¤©åšå¾—å¥½çš„åœ°æ–¹",
                tip: "å…³æ³¨è‡ªå·±çš„ä¼˜ç‚¹èƒ½å¢å¼ºè‡ªä¿¡å¿ƒï¼ŒåŸ¹å…»ç§¯æå¿ƒæ€",
                coins: 15
            },
            {
                category: "è‡ªæˆ‘å…³æ€€ç±»",
                title: "äº«å—ç‹¬å¤„æ—¶å…‰",
                description: "ç»™è‡ªå·±å®‰æ’15åˆ†é’Ÿå®Œå…¨å±äºè‡ªå·±çš„å®‰é™æ—¶é—´",
                tip: "ç‹¬å¤„æ—¶å…‰èƒ½å¸®åŠ©ä½ æ¢å¤ç²¾åŠ›ï¼Œä¸è‡ªå·±å¯¹è¯",
                coins: 15
            },
            {
                category: "è‡ªæˆ‘å…³æ€€ç±»",
                title: "ç»™è‡ªå·±ä¸€ä¸ªå°å¥–åŠ±",
                description: "ä¸ºè‡ªå·±å®Œæˆçš„ä¸€é¡¹ä»»åŠ¡å‡†å¤‡ä¸€ä¸ªå°å¥–åŠ±",
                tip: "é€‚å½“çš„å¥–åŠ±èƒ½å¢å¼ºåŠ¨åŠ›ï¼Œè®©ç”Ÿæ´»æ›´æœ‰æœŸå¾…",
                coins: 15
            },
            {
                category: "å…´è¶£æ¢ç´¢ç±»",
                title: "æ ¡å›­æ¢ç´¢",
                description: "å»æ ¡å›­é‡Œæ²¡å»è¿‡çš„è§’è½æ‹ä¸€å¼ ç…§ç‰‡",
                tip: "æ¢ç´¢æ–°ç¯å¢ƒèƒ½æ¿€æ´»å¤§è„‘çš„æ–°é²œæ„Ÿç¥ç»ï¼Œè®©ä½ å¯¹æ ¡å›­ç”Ÿæ´»æ›´æœ‰çƒ­æƒ…",
                coins: 15
            },
            {
                category: "å…´è¶£æ¢ç´¢ç±»",
                title: "å°è¯•æ–°äº‹ç‰©",
                description: "å°è¯•ä¸€ç§æ–°çš„å­¦ä¹ æˆ–ä¼‘é—²æ–¹å¼",
                tip: "å°è¯•æ–°äº‹ç‰©èƒ½æ¿€å‘åˆ›é€ åŠ›ï¼Œä¸°å¯Œä½ çš„å¤§å­¦ç”Ÿæ´»",
                coins: 15
            },
            {
                category: "å…´è¶£æ¢ç´¢ç±»",
                title: "é˜…è¯»è¯¾å¤–ä¹¦ç±",
                description: "é˜…è¯»15åˆ†é’Ÿä¸ä¸“ä¸šæ— å…³çš„è¯¾å¤–ä¹¦ç±",
                tip: "å¹¿æ³›é˜…è¯»èƒ½å¼€é˜”è§†é‡ï¼ŒåŸ¹å…»å¤šå…ƒåŒ–æ€ç»´",
                coins: 15
            },
            {
                category: "å…´è¶£æ¢ç´¢ç±»",
                title: "å­¦ä¹ æ–°æŠ€èƒ½",
                description: "èŠ±15åˆ†é’Ÿå­¦ä¹ ä¸€é¡¹æ–°æŠ€èƒ½ï¼Œå¦‚ç®€å•ç¼–ç¨‹ã€ç»˜ç”»ç­‰",
                tip: "æŒç»­å­¦ä¹ æ–°æŠ€èƒ½èƒ½å¢å¼ºè‡ªä¿¡ï¼Œä¸°å¯Œä¸ªäººèƒ½åŠ›",
                coins: 15
            },
            {
                category: "å¥åº·ç”Ÿæ´»ç±»",
                title: "å–è¶³8æ¯æ°´",
                description: "ä»Šå¤©ç¡®ä¿å–è¶³8æ¯æ°´",
                tip: "å……è¶³çš„æ°´åˆ†å¯¹èº«ä½“å¥åº·å’Œå¤§è„‘åŠŸèƒ½éƒ½å¾ˆé‡è¦",
                coins: 15
            },
            {
                category: "å¥åº·ç”Ÿæ´»ç±»",
                title: "å¥åº·é›¶é£Ÿé€‰æ‹©",
                description: "é€‰æ‹©ä¸€ç§å¥åº·é›¶é£Ÿæ›¿ä»£é«˜ç³–é«˜è„‚é›¶é£Ÿ",
                tip: "å¥åº·é¥®é£Ÿé€‰æ‹©èƒ½ä¸ºèº«ä½“æä¾›æ›´å¥½çš„èƒ½é‡",
                coins: 15
            },
            {
                category: "å¥åº·ç”Ÿæ´»ç±»",
                title: "æˆ·å¤–æ´»åŠ¨",
                description: "åˆ°æˆ·å¤–æ´»åŠ¨15åˆ†é’Ÿï¼Œå‘¼å¸æ–°é²œç©ºæ°”",
                tip: "æˆ·å¤–æ´»åŠ¨èƒ½ç¼“è§£å‹åŠ›ï¼Œæå‡æƒ…ç»ªçŠ¶æ€",
                coins: 15
            },
            {
                category: "å¥åº·ç”Ÿæ´»ç±»",
                title: "æ—©ç¡15åˆ†é’Ÿ",
                description: "æ¯”å¹³æ—¶æ—©15åˆ†é’Ÿä¸ŠåºŠç¡è§‰",
                tip: "å……è¶³çš„ç¡çœ å¯¹èº«å¿ƒå¥åº·å’Œå­¦ä¹ æ•ˆç‡éƒ½å¾ˆé‡è¦",
                coins: 15
            },
            {
                category: "åˆ›æ„è¡¨è¾¾ç±»",
                title: "è‡ªç”±ä¹¦å†™",
                description: "èŠ±10åˆ†é’Ÿè‡ªç”±ä¹¦å†™ï¼Œä¸è®¾ä¸»é¢˜",
                tip: "è‡ªç”±ä¹¦å†™èƒ½å¸®åŠ©ä½ é‡Šæ”¾æƒ…ç»ªï¼Œæ¢³ç†æ€è·¯",
                coins: 15
            },
            {
                category: "åˆ›æ„è¡¨è¾¾ç±»",
                title: "éšæ‰‹æ¶‚é¸¦",
                description: "éšæ‰‹æ¶‚é¸¦æˆ–ç”»ä¸€å¹…ç®€å•ç”»ä½œ",
                tip: "æ¶‚é¸¦æ˜¯æ”¾æ¾å¤§è„‘ã€æ¿€å‘åˆ›æ„çš„å¥½æ–¹æ³•",
                coins: 15
            },
            {
                category: "åˆ›æ„è¡¨è¾¾ç±»",
                title: "æ‹ç…§è®°å½•",
                description: "æ‹ä¸€å¼ ä»Šå¤©è®©ä½ æ„Ÿåˆ°ç¾å¥½çš„äº‹ç‰©",
                tip: "ç”¨ç…§ç‰‡è®°å½•ç¾å¥½ç¬é—´ï¼ŒåŸ¹å…»å‘ç°ç¾çš„çœ¼ç›",
                coins: 15
            },
            {
                category: "åˆ›æ„è¡¨è¾¾ç±»",
                title: "åˆ›ä½œå°è¯—",
                description: "åˆ›ä½œä¸€é¦–ç®€çŸ­çš„å°è¯—æˆ–æ­Œè¯",
                tip: "è¯—æ­Œåˆ›ä½œèƒ½å¸®åŠ©ä½ è¡¨è¾¾æƒ…æ„Ÿï¼ŒåŸ¹å…»æ–‡å­¦ç´ å…»",
                coins: 15
            },
            {
                category: "å¿ƒçµæˆé•¿ç±»",
                title: "æ­£å¿µå‘¼å¸",
                description: "åš3åˆ†é’Ÿæ­£å¿µå‘¼å¸ç»ƒä¹ ",
                tip: "æ­£å¿µå‘¼å¸èƒ½å¸®åŠ©ä½ å¹³é™å¿ƒæƒ…ï¼Œæé«˜ä¸“æ³¨åŠ›",
                coins: 15
            },
            {
                category: "å¿ƒçµæˆé•¿ç±»",
                title: "åæ€ä¸€å¤©",
                description: "èŠ±5åˆ†é’Ÿåæ€ä»Šå¤©çš„å­¦ä¹ å’Œç”Ÿæ´»",
                tip: "æ¯æ—¥åæ€èƒ½å¸®åŠ©ä½ æˆé•¿è¿›æ­¥ï¼Œé¿å…é‡å¤é”™è¯¯",
                coins: 15
            },
            {
                category: "å¿ƒçµæˆé•¿ç±»",
                title: "è®¾å®šå°ç›®æ ‡",
                description: "ä¸ºæ˜å¤©è®¾å®šä¸€ä¸ªå…·ä½“å¯è¡Œçš„å°ç›®æ ‡",
                tip: "æ˜ç¡®çš„ç›®æ ‡èƒ½æé«˜æ•ˆç‡ï¼Œå¢å¼ºæˆå°±æ„Ÿ",
                coins: 15
            },
            {
                category: "å¿ƒçµæˆé•¿ç±»",
                title: "æ„Ÿæ©ä¸‰ä»¶äº‹",
                description: "å†™ä¸‹ä»Šå¤©è®©ä½ æ„Ÿæ©çš„ä¸‰ä»¶äº‹",
                tip: "æ„Ÿæ©ç»ƒä¹ èƒ½æå‡å¹¸ç¦æ„Ÿï¼ŒåŸ¹å…»ç§¯æå¿ƒæ€",
                coins: 15
            }
        ];

        // å®¢æœå¸¸è§é—®é¢˜
        const faqItems = [
            {
                question: "å¦‚ä½•è·å–å¿ƒç†è´§å¸ï¼Ÿ",
                answer: "æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è·å–å¿ƒç†è´§å¸ï¼šæ¯æ—¥ç­¾åˆ°ã€å®Œæˆæ„Ÿæ©æ—¥è®°ã€å¿ƒæµæ—¶åˆ»ã€å¸Œæœ›ç›²ç›’ç­‰æ´»åŠ¨ã€å‚ä¸å¿ƒç†æµ‹è¯„ã€é‚€è¯·å¥½å‹æ³¨å†Œã€ç›´æ¥å……å€¼è´­ä¹°ã€‚"
            },
            {
                question: "å¿ƒç†æµ‹è¯„ç»“æœå‡†ç¡®å—ï¼Ÿ",
                answer: "æˆ‘ä»¬ä½¿ç”¨çš„æ‰€æœ‰å¿ƒç†æµ‹è¯„é‡è¡¨éƒ½æ˜¯ç»è¿‡ç§‘å­¦éªŒè¯çš„æ ‡å‡†åŒ–é‡è¡¨ï¼Œå…·æœ‰è¾ƒå¥½çš„ä¿¡åº¦å’Œæ•ˆåº¦ã€‚ä½†æµ‹è¯„ç»“æœä»…ä¾›å‚è€ƒï¼Œä¸èƒ½æ›¿ä»£ä¸“ä¸šå¿ƒç†å’¨è¯¢ã€‚"
            },
            {
                question: "å¦‚ä½•ä¿®æ”¹ä¸ªäººä¿¡æ¯ï¼Ÿ",
                answer: "æ‚¨å¯ä»¥åœ¨'æˆ‘çš„'é¡µé¢ç‚¹å‡»'è´¦å·ä¿¡æ¯'è¿›å…¥ä¸ªäººä¿¡æ¯ç®¡ç†é¡µé¢ï¼Œä¿®æ”¹æ˜µç§°ã€å¤´åƒã€å¹´é¾„ã€å­¦æ ¡ç­‰ä¿¡æ¯ã€‚"
            },
            {
                question: "å¿ƒæ™ºä¿¡ç®±çš„å›å¤å‘¨æœŸæ˜¯å¤šä¹…ï¼Ÿ",
                answer: "æˆ‘ä»¬ä¼šåœ¨æ”¶åˆ°é‚®ä»¶å2-3å¤©å†…è¿›è¡Œå›å¤ï¼Œå›å¤å°†ç›´æ¥å‘é€è‡³æ‚¨æŠ•ç¨¿æ—¶ä½¿ç”¨çš„é‚®ç®±ã€‚"
            },
            {
                question: "å¦‚ä½•è”ç³»äººå·¥å®¢æœï¼Ÿ",
                answer: "æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»äººå·¥å®¢æœï¼šåœ¨æœ¬é¡µé¢ä¸‹æ–¹çš„å®¢æœèŠå¤©çª—å£ç•™è¨€ã€å‘é€é‚®ä»¶è‡³ï¼šservice@xinzhiapp.comã€æ‹¨æ‰“å®¢æœçƒ­çº¿ï¼š400-123-4567ã€‚"
            }
        ];

        // å®¢æœå›å¤åº“
        const serviceResponses = {
            greeting: "æ‚¨å¥½ï¼æˆ‘æ˜¯å¿ƒæ™ºå¹³å°å®¢æœï¼Œæœ‰ä»€ä¹ˆå¯ä»¥å¸®æ‚¨çš„å—ï¼Ÿ",
            account: "å…³äºè´¦å·é—®é¢˜ï¼Œæ‚¨å¯ä»¥åœ¨'æˆ‘çš„'é¡µé¢çš„'è´¦å·ä¿¡æ¯'ä¸­ä¿®æ”¹ä¸ªäººä¿¡æ¯ã€‚å¦‚æœé‡åˆ°æ— æ³•è§£å†³çš„é—®é¢˜ï¼Œè¯·æä¾›æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œæˆ‘ä¼šå°½åŠ›å¸®åŠ©æ‚¨ã€‚",
            payment: "å…³äºå……å€¼é—®é¢˜ï¼Œæ‚¨å¯ä»¥åœ¨'æˆ‘çš„'é¡µé¢ç‚¹å‡»'å……å€¼å¿ƒç†è´§å¸'è¿›è¡Œå……å€¼ã€‚å¦‚æœé‡åˆ°æ”¯ä»˜é—®é¢˜ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥æˆ–å°è¯•æ›´æ¢æ”¯ä»˜æ–¹å¼ã€‚",
            function: "å…³äºåŠŸèƒ½ä½¿ç”¨é—®é¢˜ï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹ç›¸åº”é¡µé¢çš„ä½¿ç”¨è¯´æ˜æˆ–å¸¸è§é—®é¢˜è§£ç­”ã€‚å¦‚æœä»æœ‰ç–‘é—®ï¼Œè¯·å…·ä½“æè¿°æ‚¨é‡åˆ°çš„é—®é¢˜ã€‚",
            technical: "å…³äºæŠ€æœ¯é—®é¢˜ï¼Œè¯·æ‚¨å°è¯•åˆ·æ–°é¡µé¢æˆ–é‡æ–°ç™»å½•ã€‚å¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨ï¼Œè¯·æä¾›å…·ä½“é”™è¯¯ä¿¡æ¯ï¼Œæˆ‘ä»¬ä¼šå°½å¿«ä¿®å¤ã€‚",
            other: "æ„Ÿè°¢æ‚¨çš„åé¦ˆï¼æˆ‘ä¼šè®°å½•æ‚¨çš„é—®é¢˜å¹¶è½¬äº¤ç›¸å…³éƒ¨é—¨ã€‚æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡é‚®ä»¶service@xinzhiapp.comè”ç³»æˆ‘ä»¬ã€‚"
        };

        // é¡µé¢åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // åŠ è½½ç”¨æˆ·æ•°æ®
            loadUserData();
            
            // åˆå§‹åŒ–å„ç§åŠŸèƒ½æ¨¡å—
            initScalesList();
            initExchangeProducts();
            initRechargeOptions();
            initHotlines();
            initGratitudeList();
            initFlowList();
            initHopeHistory();
            initCheckinCalendar();
            initActivityHistory();
            initFavoriteFunctions();
            initReports();
            initAccountInfo();
            initMessageCenter();
            initCertificationCenter();
            initOnlineService();
            initExchangeRecords();
            initEmojis();
            initCounselorList(); // æ–°å¢ï¼šåˆå§‹åŒ–å¿ƒç†å’¨è¯¢å¸ˆåˆ—è¡¨
            
            // è®¾ç½®äº‹ä»¶ç›‘å¬
            setupNavigation();
            setupButtonEvents();
            setupChat();
            setupVideoCall();
            setupThemeSwitcher();
            setupAvatarUpload(); // æ–°å¢å¤´åƒä¸Šä¼ äº‹ä»¶ç›‘å¬
            setupCityOptions(); // è®¾ç½®åŸå¸‚é€‰é¡¹
            
            // åº”ç”¨ä¸»é¢˜
            applyTheme(userData.theme);
            
            // æ›´æ–°UIæ˜¾ç¤º
            updateUI();
        });

        // åˆå§‹åŒ–å¿ƒç†å’¨è¯¢å¸ˆåˆ—è¡¨
        function initCounselorList() {
            const counselorList = document.getElementById('counselor-list');
            counselorList.innerHTML = '';
            
            counselors.forEach(counselor => {
                const counselorCard = document.createElement('div');
                counselorCard.className = 'counselor-card';
                counselorCard.innerHTML = `
                    <div class="counselor-header">
                        <div class="counselor-name">${counselor.name}</div>
                        <button class="btn btn-outline select-counselor" data-counselor-id="${counselor.id}">é€‰æ‹©</button>
                    </div>
                    <div class="counselor-background">${counselor.background}</div>
                    <div class="counselor-expertise"><strong>æ“…é•¿é¢†åŸŸï¼š</strong>${counselor.expertise}</div>
                    <div class="counselor-experience"><strong>å·¥ä½œç»éªŒï¼š</strong>${counselor.experience}</div>
                `;
                
                counselorList.appendChild(counselorCard);
            });
            
            // æ·»åŠ é€‰æ‹©å’¨è¯¢å¸ˆäº‹ä»¶
            document.querySelectorAll('.select-counselor').forEach(button => {
                button.addEventListener('click', function() {
                    const counselorId = parseInt(this.getAttribute('data-counselor-id'));
                    selectCounselor(counselorId);
                });
            });
        }

        // é€‰æ‹©å¿ƒç†å’¨è¯¢å¸ˆ
        function selectCounselor(counselorId) {
            const counselor = counselors.find(c => c.id === counselorId);
            if (!counselor) return;
            
            // æ˜¾ç¤ºé¢„çº¦è¡¨å•
            document.getElementById('booking-form').style.display = 'block';
            
            // è®¾ç½®é€‰ä¸­çš„å’¨è¯¢å¸ˆ
            document.getElementById('selected-counselor').value = counselor.name;
            
            // è®¾ç½®æœ€å°æ—¥æœŸä¸ºä»Šå¤©
            const today = new Date();
            const tomorrow = new Date(today);
            tomorrow.setDate(tomorrow.getDate() + 1);
            const minDate = tomorrow.toISOString().split('T')[0];
            document.getElementById('booking-date').min = minDate;
            
            // è®¾ç½®å’¨è¯¢æ–¹å¼é€‰æ‹©
            document.querySelectorAll('.checkbox-item').forEach(item => {
                item.addEventListener('click', function() {
                    // ç§»é™¤å…¶ä»–é€‰é¡¹çš„é€‰ä¸­çŠ¶æ€
                    document.querySelectorAll('.checkbox-item').forEach(i => {
                        i.classList.remove('selected');
                    });
                    
                    // è®¾ç½®å½“å‰é€‰é¡¹ä¸ºé€‰ä¸­çŠ¶æ€
                    this.classList.add('selected');
                });
            });
            
            // è®¾ç½®æäº¤é¢„çº¦äº‹ä»¶
            document.getElementById('submit-booking').onclick = function() {
                submitBooking(counselorId);
            };
            
            // æ»šåŠ¨åˆ°é¢„çº¦è¡¨å•
            document.getElementById('booking-form').scrollIntoView({ behavior: 'smooth' });
        }

        // æäº¤é¢„çº¦
        function submitBooking(counselorId) {
            const counselor = counselors.find(c => c.id === counselorId);
            const date = document.getElementById('booking-date').value;
            const selectedMethod = document.querySelector('.checkbox-item.selected');
            
            if (!date) {
                alert('è¯·é€‰æ‹©é¢„çº¦æ—¥æœŸ');
                return;
            }
            
            if (!selectedMethod) {
                alert('è¯·é€‰æ‹©å’¨è¯¢æ–¹å¼');
                return;
            }
            
            const method = selectedMethod.getAttribute('data-value');
            
            // ä¿å­˜é¢„çº¦ä¿¡æ¯
            if (!userData.counselingBookings) {
                userData.counselingBookings = [];
            }
            
            userData.counselingBookings.push({
                counselorId: counselorId,
                counselorName: counselor.name,
                date: date,
                method: method,
                status: 'pending',
                bookingTime: new Date().toISOString()
            });
            
            saveUserData();
            
            alert(`é¢„çº¦æˆåŠŸï¼æ‚¨å·²é¢„çº¦${counselor.name}çš„${method}å’¨è¯¢ï¼Œé¢„çº¦æ—¥æœŸä¸º${new Date(date).toLocaleDateString()}ã€‚`);
            
            // é‡ç½®è¡¨å•
            document.getElementById('booking-form').style.display = 'none';
            document.getElementById('booking-date').value = '';
            document.querySelectorAll('.checkbox-item').forEach(item => {
                item.classList.remove('selected');
            });
        }

        // è®¾ç½®åŸå¸‚é€‰é¡¹
        function setupCityOptions() {
            const provinceSelect = document.getElementById('shipping-province');
            const citySelect = document.getElementById('shipping-city');
            
            // çœä»½é€‰æ‹©å˜åŒ–æ—¶æ›´æ–°åŸå¸‚é€‰é¡¹
            provinceSelect.addEventListener('change', function() {
                updateCityOptions(this.value);
            });
        }

        // æ›´æ–°åŸå¸‚é€‰é¡¹
        function updateCityOptions(province) {
            const citySelect = document.getElementById('shipping-city');
            citySelect.innerHTML = '<option value="">è¯·é€‰æ‹©åŸå¸‚</option>';
            
            if (!province) return;
            
            // æ ¹æ®çœä»½è·å–åŸå¸‚åˆ—è¡¨
            const cities = getCitiesByProvince(province);
            
            cities.forEach(city => {
                const option = document.createElement('option');
                option.value = city;
                option.textContent = city;
                citySelect.appendChild(option);
            });
        }

        // æ ¹æ®çœä»½è·å–åŸå¸‚åˆ—è¡¨
        function getCitiesByProvince(province) {
            const cityMap = {
                'åŒ—äº¬': [
                    'ä¸œåŸåŒº', 'è¥¿åŸåŒº', 'æœé˜³åŒº', 'ä¸°å°åŒº', 'çŸ³æ™¯å±±åŒº', 'æµ·æ·€åŒº', 'é—¨å¤´æ²ŸåŒº',
                    'æˆ¿å±±åŒº', 'é€šå·åŒº', 'é¡ºä¹‰åŒº', 'æ˜Œå¹³åŒº', 'å¤§å…´åŒº', 'æ€€æŸ”åŒº', 'å¹³è°·åŒº',
                    'å¯†äº‘åŒº', 'å»¶åº†åŒº'
                ],
                'ä¸Šæµ·': [
                    'é»„æµ¦åŒº', 'å¾æ±‡åŒº', 'é•¿å®åŒº', 'é™å®‰åŒº', 'æ™®é™€åŒº', 'è™¹å£åŒº', 'æ¨æµ¦åŒº',
                    'é—µè¡ŒåŒº', 'å®å±±åŒº', 'å˜‰å®šåŒº', 'æµ¦ä¸œæ–°åŒº', 'é‡‘å±±åŒº', 'æ¾æ±ŸåŒº', 'é’æµ¦åŒº',
                    'å¥‰è´¤åŒº', 'å´‡æ˜åŒº'
                ],
                'å¤©æ´¥': [
                    'å’Œå¹³åŒº', 'æ²³ä¸œåŒº', 'æ²³è¥¿åŒº', 'å—å¼€åŒº', 'æ²³åŒ—åŒº', 'çº¢æ¡¥åŒº', 'ä¸œä¸½åŒº',
                    'è¥¿é’åŒº', 'æ´¥å—åŒº', 'åŒ—è¾°åŒº', 'æ­¦æ¸…åŒº', 'å®å»åŒº', 'æ»¨æµ·æ–°åŒº', 'å®æ²³åŒº',
                    'é™æµ·åŒº', 'è“Ÿå·åŒº'
                ],
                'é‡åº†': [
                    'ä¸‡å·åŒº', 'æ¶ªé™µåŒº', 'æ¸ä¸­åŒº', 'å¤§æ¸¡å£åŒº', 'æ±ŸåŒ—åŒº', 'æ²™åªååŒº', 'ä¹é¾™å¡åŒº',
                    'å—å²¸åŒº', 'åŒ—ç¢šåŒº', 'ç¶¦æ±ŸåŒº', 'å¤§è¶³åŒº', 'æ¸åŒ—åŒº', 'å·´å—åŒº', 'é»”æ±ŸåŒº',
                    'é•¿å¯¿åŒº', 'æ±Ÿæ´¥åŒº', 'åˆå·åŒº', 'æ°¸å·åŒº', 'å—å·åŒº', 'ç’§å±±åŒº', 'é“œæ¢åŒº',
                    'æ½¼å—åŒº', 'è£æ˜ŒåŒº', 'å¼€å·åŒº', 'æ¢å¹³åŒº', 'æ­¦éš†åŒº', 'åŸå£å¿', 'ä¸°éƒ½å¿',
                    'å«æ±Ÿå¿', 'å¿ å¿', 'äº‘é˜³å¿', 'å¥‰èŠ‚å¿', 'å·«å±±å¿', 'å·«æºªå¿', 'çŸ³æŸ±åœŸå®¶æ—è‡ªæ²»å¿',
                    'ç§€å±±åœŸå®¶æ—è‹—æ—è‡ªæ²»å¿', 'é…‰é˜³åœŸå®¶æ—è‹—æ—è‡ªæ²»å¿', 'å½­æ°´è‹—æ—åœŸå®¶æ—è‡ªæ²»å¿'
                ],
                'æ²³åŒ—': [
                    'çŸ³å®¶åº„å¸‚', 'å”å±±å¸‚', 'ç§¦çš‡å²›å¸‚', 'é‚¯éƒ¸å¸‚', 'é‚¢å°å¸‚', 'ä¿å®šå¸‚', 'å¼ å®¶å£å¸‚',
                    'æ‰¿å¾·å¸‚', 'æ²§å·å¸‚', 'å»ŠåŠå¸‚', 'è¡¡æ°´å¸‚'
                ],
                'å±±è¥¿': [
                    'å¤ªåŸå¸‚', 'å¤§åŒå¸‚', 'é˜³æ³‰å¸‚', 'é•¿æ²»å¸‚', 'æ™‹åŸå¸‚', 'æœ”å·å¸‚', 'æ™‹ä¸­å¸‚',
                    'è¿åŸå¸‚', 'å¿»å·å¸‚', 'ä¸´æ±¾å¸‚', 'å•æ¢å¸‚'
                ],
                'å†…è’™å¤': [
                    'å‘¼å’Œæµ©ç‰¹å¸‚', 'åŒ…å¤´å¸‚', 'ä¹Œæµ·å¸‚', 'èµ¤å³°å¸‚', 'é€šè¾½å¸‚', 'é„‚å°”å¤šæ–¯å¸‚',
                    'å‘¼ä¼¦è´å°”å¸‚', 'å·´å½¦æ·–å°”å¸‚', 'ä¹Œå…°å¯Ÿå¸ƒå¸‚', 'å…´å®‰ç›Ÿ', 'é”¡æ—éƒ­å‹’ç›Ÿ', 'é˜¿æ‹‰å–„ç›Ÿ'
                ],
                'è¾½å®': [
                    'æ²ˆé˜³å¸‚', 'å¤§è¿å¸‚', 'éå±±å¸‚', 'æŠšé¡ºå¸‚', 'æœ¬æºªå¸‚', 'ä¸¹ä¸œå¸‚', 'é”¦å·å¸‚',
                    'è¥å£å¸‚', 'é˜œæ–°å¸‚', 'è¾½é˜³å¸‚', 'ç›˜é”¦å¸‚', 'é“å²­å¸‚', 'æœé˜³å¸‚', 'è‘«èŠ¦å²›å¸‚'
                ],
                'å‰æ—': [
                    'é•¿æ˜¥å¸‚', 'å‰æ—å¸‚', 'å››å¹³å¸‚', 'è¾½æºå¸‚', 'é€šåŒ–å¸‚', 'ç™½å±±å¸‚', 'æ¾åŸå¸‚',
                    'ç™½åŸå¸‚', 'å»¶è¾¹æœé²œæ—è‡ªæ²»å·'
                ],
                'é»‘é¾™æ±Ÿ': [
                    'å“ˆå°”æ»¨å¸‚', 'é½é½å“ˆå°”å¸‚', 'é¸¡è¥¿å¸‚', 'é¹¤å²—å¸‚', 'åŒé¸­å±±å¸‚', 'å¤§åº†å¸‚',
                    'ä¼Šæ˜¥å¸‚', 'ä½³æœ¨æ–¯å¸‚', 'ä¸ƒå°æ²³å¸‚', 'ç‰¡ä¸¹æ±Ÿå¸‚', 'é»‘æ²³å¸‚', 'ç»¥åŒ–å¸‚',
                    'å¤§å…´å®‰å²­åœ°åŒº'
                ],
                'æ±Ÿè‹': [
                    'å—äº¬å¸‚', 'æ— é”¡å¸‚', 'å¾å·å¸‚', 'å¸¸å·å¸‚', 'è‹å·å¸‚', 'å—é€šå¸‚', 'è¿äº‘æ¸¯å¸‚',
                    'æ·®å®‰å¸‚', 'ç›åŸå¸‚', 'æ‰¬å·å¸‚', 'é•‡æ±Ÿå¸‚', 'æ³°å·å¸‚', 'å®¿è¿å¸‚'
                ],
                'æµ™æ±Ÿ': [
                    'æ­å·å¸‚', 'å®æ³¢å¸‚', 'æ¸©å·å¸‚', 'å˜‰å…´å¸‚', 'æ¹–å·å¸‚', 'ç»å…´å¸‚', 'é‡‘åå¸‚',
                    'è¡¢å·å¸‚', 'èˆŸå±±å¸‚', 'å°å·å¸‚', 'ä¸½æ°´å¸‚'
                ],
                'å®‰å¾½': [
                    'åˆè‚¥å¸‚', 'èŠœæ¹–å¸‚', 'èšŒåŸ å¸‚', 'æ·®å—å¸‚', 'é©¬éå±±å¸‚', 'æ·®åŒ—å¸‚', 'é“œé™µå¸‚',
                    'å®‰åº†å¸‚', 'é»„å±±å¸‚', 'æ»å·å¸‚', 'é˜œé˜³å¸‚', 'å®¿å·å¸‚', 'å…­å®‰å¸‚', 'äº³å·å¸‚',
                    'æ± å·å¸‚', 'å®£åŸå¸‚'
                ],
                'ç¦å»º': [
                    'ç¦å·å¸‚', 'å¦é—¨å¸‚', 'è†ç”°å¸‚', 'ä¸‰æ˜å¸‚', 'æ³‰å·å¸‚', 'æ¼³å·å¸‚', 'å—å¹³å¸‚',
                    'é¾™å²©å¸‚', 'å®å¾·å¸‚'
                ],
                'æ±Ÿè¥¿': [
                    'å—æ˜Œå¸‚', 'æ™¯å¾·é•‡å¸‚', 'èä¹¡å¸‚', 'ä¹æ±Ÿå¸‚', 'æ–°ä½™å¸‚', 'é¹°æ½­å¸‚', 'èµ£å·å¸‚',
                    'å‰å®‰å¸‚', 'å®œæ˜¥å¸‚', 'æŠšå·å¸‚', 'ä¸Šé¥¶å¸‚'
                ],
                'å±±ä¸œ': [
                    'æµå—å¸‚', 'é’å²›å¸‚', 'æ·„åšå¸‚', 'æ£åº„å¸‚', 'ä¸œè¥å¸‚', 'çƒŸå°å¸‚', 'æ½åŠå¸‚',
                    'æµå®å¸‚', 'æ³°å®‰å¸‚', 'å¨æµ·å¸‚', 'æ—¥ç…§å¸‚', 'ä¸´æ²‚å¸‚', 'å¾·å·å¸‚', 'èŠåŸå¸‚',
                    'æ»¨å·å¸‚', 'èæ³½å¸‚'
                ],
                'æ²³å—': [
                    'éƒ‘å·å¸‚', 'å¼€å°å¸‚', 'æ´›é˜³å¸‚', 'å¹³é¡¶å±±å¸‚', 'å®‰é˜³å¸‚', 'é¹¤å£å¸‚', 'æ–°ä¹¡å¸‚',
                    'ç„¦ä½œå¸‚', 'æ¿®é˜³å¸‚', 'è®¸æ˜Œå¸‚', 'æ¼¯æ²³å¸‚', 'ä¸‰é—¨å³¡å¸‚', 'å—é˜³å¸‚', 'å•†ä¸˜å¸‚',
                    'ä¿¡é˜³å¸‚', 'å‘¨å£å¸‚', 'é©»é©¬åº—å¸‚'
                ],
                'æ¹–åŒ—': [
                    'æ­¦æ±‰å¸‚', 'é»„çŸ³å¸‚', 'åå °å¸‚', 'å®œæ˜Œå¸‚', 'è¥„é˜³å¸‚', 'é„‚å·å¸‚', 'è†é—¨å¸‚',
                    'å­æ„Ÿå¸‚', 'è†å·å¸‚', 'é»„å†ˆå¸‚', 'å’¸å®å¸‚', 'éšå·å¸‚', 'æ©æ–½åœŸå®¶æ—è‹—æ—è‡ªæ²»å·'
                ],
                'æ¹–å—': [
                    'é•¿æ²™å¸‚', 'æ ªæ´²å¸‚', 'æ¹˜æ½­å¸‚', 'è¡¡é˜³å¸‚', 'é‚µé˜³å¸‚', 'å²³é˜³å¸‚', 'å¸¸å¾·å¸‚',
                    'å¼ å®¶ç•Œå¸‚', 'ç›Šé˜³å¸‚', 'éƒ´å·å¸‚', 'æ°¸å·å¸‚', 'æ€€åŒ–å¸‚', 'å¨„åº•å¸‚',
                    'æ¹˜è¥¿åœŸå®¶æ—è‹—æ—è‡ªæ²»å·'
                ],
                'å¹¿ä¸œ': [
                    'å¹¿å·å¸‚', 'éŸ¶å…³å¸‚', 'æ·±åœ³å¸‚', 'ç æµ·å¸‚', 'æ±•å¤´å¸‚', 'ä½›å±±å¸‚', 'æ±Ÿé—¨å¸‚',
                    'æ¹›æ±Ÿå¸‚', 'èŒ‚åå¸‚', 'è‚‡åº†å¸‚', 'æƒ å·å¸‚', 'æ¢…å·å¸‚', 'æ±•å°¾å¸‚', 'æ²³æºå¸‚',
                    'é˜³æ±Ÿå¸‚', 'æ¸…è¿œå¸‚', 'ä¸œèå¸‚', 'ä¸­å±±å¸‚', 'æ½®å·å¸‚', 'æ­é˜³å¸‚', 'äº‘æµ®å¸‚'
                ],
                'å¹¿è¥¿': [
                    'å—å®å¸‚', 'æŸ³å·å¸‚', 'æ¡‚æ—å¸‚', 'æ¢§å·å¸‚', 'åŒ—æµ·å¸‚', 'é˜²åŸæ¸¯å¸‚', 'é’¦å·å¸‚',
                    'è´µæ¸¯å¸‚', 'ç‰æ—å¸‚', 'ç™¾è‰²å¸‚', 'è´ºå·å¸‚', 'æ²³æ± å¸‚', 'æ¥å®¾å¸‚', 'å´‡å·¦å¸‚'
                ],
                'æµ·å—': [
                    'æµ·å£å¸‚', 'ä¸‰äºšå¸‚', 'ä¸‰æ²™å¸‚', 'å„‹å·å¸‚', 'äº”æŒ‡å±±å¸‚', 'ç¼æµ·å¸‚', 'æ–‡æ˜Œå¸‚',
                    'ä¸‡å®å¸‚', 'ä¸œæ–¹å¸‚', 'å®šå®‰å¿', 'å±¯æ˜Œå¿', 'æ¾„è¿ˆå¿', 'ä¸´é«˜å¿', 'ç™½æ²™é»æ—è‡ªæ²»å¿',
                    'æ˜Œæ±Ÿé»æ—è‡ªæ²»å¿', 'ä¹ä¸œé»æ—è‡ªæ²»å¿', 'é™µæ°´é»æ—è‡ªæ²»å¿', 'ä¿äº­é»æ—è‹—æ—è‡ªæ²»å¿',
                    'ç¼ä¸­é»æ—è‹—æ—è‡ªæ²»å¿'
                ],
                'å››å·': [
                    'æˆéƒ½å¸‚', 'è‡ªè´¡å¸‚', 'æ”€æèŠ±å¸‚', 'æ³¸å·å¸‚', 'å¾·é˜³å¸‚', 'ç»µé˜³å¸‚', 'å¹¿å…ƒå¸‚',
                    'é‚å®å¸‚', 'å†…æ±Ÿå¸‚', 'ä¹å±±å¸‚', 'å—å……å¸‚', 'çœ‰å±±å¸‚', 'å®œå®¾å¸‚', 'å¹¿å®‰å¸‚',
                    'è¾¾å·å¸‚', 'é›…å®‰å¸‚', 'å·´ä¸­å¸‚', 'èµ„é˜³å¸‚', 'é˜¿åè—æ—ç¾Œæ—è‡ªæ²»å·', 'ç”˜å­œè—æ—è‡ªæ²»å·',
                    'å‡‰å±±å½æ—è‡ªæ²»å·'
                ],
                'è´µå·': [
                    'è´µé˜³å¸‚', 'å…­ç›˜æ°´å¸‚', 'éµä¹‰å¸‚', 'å®‰é¡ºå¸‚', 'æ¯•èŠ‚å¸‚', 'é“œä»å¸‚',
                    'é»”è¥¿å—å¸ƒä¾æ—è‹—æ—è‡ªæ²»å·', 'é»”ä¸œå—è‹—æ—ä¾—æ—è‡ªæ²»å·', 'é»”å—å¸ƒä¾æ—è‹—æ—è‡ªæ²»å·'
                ],
                'äº‘å—': [
                    'æ˜†æ˜å¸‚', 'æ›²é–å¸‚', 'ç‰æºªå¸‚', 'ä¿å±±å¸‚', 'æ˜­é€šå¸‚', 'ä¸½æ±Ÿå¸‚', 'æ™®æ´±å¸‚',
                    'ä¸´æ²§å¸‚', 'æ¥šé›„å½æ—è‡ªæ²»å·', 'çº¢æ²³å“ˆå°¼æ—å½æ—è‡ªæ²»å·', 'æ–‡å±±å£®æ—è‹—æ—è‡ªæ²»å·',
                    'è¥¿åŒç‰ˆçº³å‚£æ—è‡ªæ²»å·', 'å¤§ç†ç™½æ—è‡ªæ²»å·', 'å¾·å®å‚£æ—æ™¯é¢‡æ—è‡ªæ²»å·',
                    'æ€’æ±Ÿå‚ˆåƒ³æ—è‡ªæ²»å·', 'è¿ªåº†è—æ—è‡ªæ²»å·'
                ],
                'è¥¿è—': [
                    'æ‹‰è¨å¸‚', 'æ—¥å–€åˆ™å¸‚', 'æ˜Œéƒ½å¸‚', 'æ—èŠå¸‚', 'å±±å—å¸‚', 'é‚£æ›²å¸‚', 'é˜¿é‡Œåœ°åŒº'
                ],
                'é™•è¥¿': [
                    'è¥¿å®‰å¸‚', 'é“œå·å¸‚', 'å®é¸¡å¸‚', 'å’¸é˜³å¸‚', 'æ¸­å—å¸‚', 'å»¶å®‰å¸‚', 'æ±‰ä¸­å¸‚',
                    'æ¦†æ—å¸‚', 'å®‰åº·å¸‚', 'å•†æ´›å¸‚'
                ],
                'ç”˜è‚ƒ': [
                    'å…°å·å¸‚', 'å˜‰å³ªå…³å¸‚', 'é‡‘æ˜Œå¸‚', 'ç™½é“¶å¸‚', 'å¤©æ°´å¸‚', 'æ­¦å¨å¸‚', 'å¼ æ–å¸‚',
                    'å¹³å‡‰å¸‚', 'é…’æ³‰å¸‚', 'åº†é˜³å¸‚', 'å®šè¥¿å¸‚', 'é™‡å—å¸‚', 'ä¸´å¤å›æ—è‡ªæ²»å·',
                    'ç”˜å—è—æ—è‡ªæ²»å·'
                ],
                'é’æµ·': [
                    'è¥¿å®å¸‚', 'æµ·ä¸œå¸‚', 'æµ·åŒ—è—æ—è‡ªæ²»å·', 'é»„å—è—æ—è‡ªæ²»å·', 'æµ·å—è—æ—è‡ªæ²»å·',
                    'æœæ´›è—æ—è‡ªæ²»å·', 'ç‰æ ‘è—æ—è‡ªæ²»å·', 'æµ·è¥¿è’™å¤æ—è—æ—è‡ªæ²»å·'
                ],
                'å®å¤': [
                    'é“¶å·å¸‚', 'çŸ³å˜´å±±å¸‚', 'å´å¿ å¸‚', 'å›ºåŸå¸‚', 'ä¸­å«å¸‚'
                ],
                'æ–°ç–†': [
                    'ä¹Œé²æœ¨é½å¸‚', 'å…‹æ‹‰ç›ä¾å¸‚', 'åé²ç•ªå¸‚', 'å“ˆå¯†å¸‚', 'æ˜Œå‰å›æ—è‡ªæ²»å·',
                    'åšå°”å¡”æ‹‰è’™å¤è‡ªæ²»å·', 'å·´éŸ³éƒ­æ¥è’™å¤è‡ªæ²»å·', 'é˜¿å…‹è‹åœ°åŒº', 'å…‹å­œå‹’è‹æŸ¯å°”å…‹å­œè‡ªæ²»å·',
                    'å–€ä»€åœ°åŒº', 'å’Œç”°åœ°åŒº', 'ä¼ŠçŠå“ˆè¨å…‹è‡ªæ²»å·', 'å¡”åŸåœ°åŒº', 'é˜¿å‹’æ³°åœ°åŒº'
                ],
                'é¦™æ¸¯': [
                    'é¦™æ¸¯å²›', 'ä¹é¾™', 'æ–°ç•Œ'
                ],
                'æ¾³é—¨': [
                    'æ¾³é—¨åŠå²›', 'æ°¹ä»”å²›', 'è·¯ç¯å²›', 'è·¯æ°¹åŸ'
                ],
                'å°æ¹¾': [
                    'å°åŒ—å¸‚', 'æ–°åŒ—å¸‚', 'æ¡ƒå›­å¸‚', 'å°ä¸­å¸‚', 'å°å—å¸‚', 'é«˜é›„å¸‚', 'åŸºéš†å¸‚',
                    'æ–°ç«¹å¸‚', 'å˜‰ä¹‰å¸‚', 'æ–°ç«¹å¿', 'è‹—æ —å¿', 'å½°åŒ–å¿', 'å—æŠ•å¿', 'äº‘æ—å¿',
                    'å˜‰ä¹‰å¿', 'å±ä¸œå¿', 'å®œå…°å¿', 'èŠ±è²å¿', 'å°ä¸œå¿', 'æ¾æ¹–å¿', 'é‡‘é—¨å¿',
                    'è¿æ±Ÿå¿'
                ]
            };
            
            return cityMap[province] || [];
        }

        // è®¾ç½®å¤´åƒä¸Šä¼ åŠŸèƒ½
        function setupAvatarUpload() {
            const avatarUpload = document.getElementById('avatar-upload');
            const avatarPreview = document.getElementById('avatar-preview');
            
            avatarUpload.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (!file) return;
                
                // æ£€æŸ¥æ–‡ä»¶ç±»å‹
                if (!file.type.match('image.*')) {
                    alert('è¯·é€‰æ‹©å›¾ç‰‡æ–‡ä»¶ï¼');
                    return;
                }
                
                // æ£€æŸ¥æ–‡ä»¶å¤§å°ï¼ˆé™åˆ¶ä¸º5MBï¼‰
                if (file.size > 5 * 1024 * 1024) {
                    alert('å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡5MBï¼');
                    return;
                }
                
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    // æ˜¾ç¤ºé¢„è§ˆ
                    avatarPreview.style.backgroundImage = `url(${e.target.result})`;
                    avatarPreview.style.display = 'block';
                    
                    // ä¿å­˜åˆ°ç”¨æˆ·æ•°æ®
                    userData.userInfo.avatarImage = e.target.result;
                    userData.userInfo.avatar = null; // æ¸…é™¤é¢„è®¾å¤´åƒ
                    
                    // ä¿å­˜æ•°æ®
                    saveUserData();
                    
                    // æ›´æ–°å¤´åƒæ˜¾ç¤º
                    updateAvatarDisplay();
                };
                
                reader.readAsDataURL(file);
            });
        }

        // æ›´æ–°å¤´åƒæ˜¾ç¤º
        function updateAvatarDisplay() {
            const userAvatar = document.getElementById('user-avatar');
            
            if (userData.userInfo.avatarImage) {
                // ä½¿ç”¨ä¸Šä¼ çš„å›¾ç‰‡
                userAvatar.style.backgroundImage = `url(${userData.userInfo.avatarImage})`;
                userAvatar.textContent = '';
            } else {
                // ä½¿ç”¨é¢„è®¾å¤´åƒ
                userAvatar.style.backgroundImage = '';
                userAvatar.textContent = userData.userInfo.avatar;
            }
        }

        // è®¾ç½®ä¸»é¢˜åˆ‡æ¢äº‹ä»¶
        function setupThemeSwitcher() {
            document.querySelectorAll('.theme-option').forEach(option => {
                option.addEventListener('click', function() {
                    const theme = this.getAttribute('data-theme');
                    applyTheme(theme);
                });
            });
        }

        // åº”ç”¨ä¸»é¢˜
        function applyTheme(theme) {
            // ç§»é™¤æ‰€æœ‰ä¸»é¢˜ç±»
            document.body.classList.remove('theme-pink', 'theme-green', 'theme-purple');
            
            // æ·»åŠ æ–°ä¸»é¢˜ç±»
            if (theme !== 'default') {
                document.body.classList.add(`theme-${theme}`);
            }
            
            // æ›´æ–°ç”¨æˆ·æ•°æ®
            userData.theme = theme;
            saveUserData();
            
            // æ›´æ–°ä¸»é¢˜é€‰é¡¹çš„é€‰ä¸­çŠ¶æ€
            document.querySelectorAll('.theme-option').forEach(option => {
                option.classList.remove('selected');
                if (option.getAttribute('data-theme') === theme) {
                    option.classList.add('selected');
                }
            });
        }

        // åˆå§‹åŒ–è¡¨æƒ…åŒ…
        function initEmojis() {
            const emojiGrid = document.getElementById('emoji-grid');
            emojiGrid.innerHTML = '';
            
            // è¡¨æƒ…åŒ…æ•°æ®
            const emojis = [
                "ğŸ˜€", "ğŸ˜ƒ", "ğŸ˜„", "ğŸ˜", "ğŸ˜†", "ğŸ˜…", "ğŸ˜‚", "ğŸ¤£", "ğŸ˜Š", "ğŸ˜‡",
                "ğŸ™‚", "ğŸ™ƒ", "ğŸ˜‰", "ğŸ˜Œ", "ğŸ˜", "ğŸ¥°", "ğŸ˜˜", "ğŸ˜—", "ğŸ˜™", "ğŸ˜š",
                "ğŸ˜‹", "ğŸ˜›", "ğŸ˜", "ğŸ˜œ", "ğŸ¤ª", "ğŸ¤¨", "ğŸ§", "ğŸ¤“", "ğŸ˜", "ğŸ¤©",
                "ğŸ¥³", "ğŸ˜", "ğŸ˜’", "ğŸ˜", "ğŸ˜”", "ğŸ˜Ÿ", "ğŸ˜•", "ğŸ™", "â˜¹ï¸", "ğŸ˜£",
                "ğŸ˜–", "ğŸ˜«", "ğŸ˜©", "ğŸ¥º", "ğŸ˜¢", "ğŸ˜­", "ğŸ˜¤", "ğŸ˜ ", "ğŸ˜¡", "ğŸ¤¬",
                "ğŸ¤¯", "ğŸ˜³", "ğŸ¥µ", "ğŸ¥¶", "ğŸ˜±", "ğŸ˜¨", "ğŸ˜°", "ğŸ˜¥", "ğŸ˜“", "ğŸ¤—",
                "ğŸ¤”", "ğŸ¤­", "ğŸ¤«", "ğŸ¤¥", "ğŸ˜¶", "ğŸ˜", "ğŸ˜‘", "ğŸ˜¬", "ğŸ™„", "ğŸ˜¯",
                "ğŸ˜¦", "ğŸ˜§", "ğŸ˜®", "ğŸ˜²", "ğŸ¥±", "ğŸ˜´", "ğŸ¤¤", "ğŸ˜ª", "ğŸ˜µ", "ğŸ¤",
                "ğŸ¥´", "ğŸ¤¢", "ğŸ¤®", "ğŸ¤§", "ğŸ˜·", "ğŸ¤’", "ğŸ¤•", "ğŸ¤‘", "ğŸ¤ ", "ğŸ˜ˆ"
            ];
            
            emojis.forEach(emoji => {
                const emojiItem = document.createElement('div');
                emojiItem.className = 'emoji-item';
                emojiItem.textContent = emoji;
                
                emojiItem.addEventListener('click', function() {
                    // å°†è¡¨æƒ…æ·»åŠ åˆ°è¾“å…¥æ¡†
                    const chatInput = document.getElementById('chat-input');
                    chatInput.value += emoji;
                    
                    // å…³é—­è¡¨æƒ…é¢æ¿
                    document.getElementById('emoji-panel').classList.remove('active');
                    
                    // ç„¦ç‚¹å›åˆ°è¾“å…¥æ¡†
                    chatInput.focus();
                });
                
                emojiGrid.appendChild(emojiItem);
            });
            
            // è®¾ç½®è¡¨æƒ…æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            document.getElementById('emoji-btn').addEventListener('click', function() {
                const emojiPanel = document.getElementById('emoji-panel');
                emojiPanel.classList.toggle('active');
            });
        }

        // åˆå§‹åŒ–å…‘æ¢è®°å½•
        function initExchangeRecords() {
            const exchangeRecords = document.getElementById('exchange-records');
            exchangeRecords.innerHTML = '';
            
            // è·å–æœ€è¿‘çš„3æ¡è®°å½•
            const recentRecords = userData.exchangeRecords
                .sort((a, b) => new Date(b.date) - new Date(a.date))
                .slice(0, 3);
            
            if (recentRecords.length === 0) {
                exchangeRecords.innerHTML = '<p style="text-align: center; color: #666;">æš‚æ— å…‘æ¢è®°å½•</p>';
                return;
            }
            
            recentRecords.forEach(record => {
                const recordItem = document.createElement('div');
                recordItem.className = 'exchange-record-item';
                
                // ç¡®å®šçŠ¶æ€æ–‡æœ¬å’Œæ ·å¼
                let statusText = '';
                let statusClass = '';
                
                if (record.productType === 'virtual') {
                    statusText = 'å·²å®Œæˆ';
                    statusClass = 'status-delivered';
                } else {
                    if (record.status === 'pending') {
                        statusText = 'å¾…å‘è´§';
                        statusClass = 'status-pending';
                    } else if (record.status === 'shipped') {
                        statusText = 'å·²å‘è´§';
                        statusClass = 'status-shipped';
                    } else if (record.status === 'delivered') {
                        statusText = 'å·²å®Œæˆ';
                        statusClass = 'status-delivered';
                    }
                }
                
                recordItem.innerHTML = `
                    <div class="exchange-record-header">
                        <div class="exchange-record-title">${record.productName}</div>
                        <div class="exchange-record-status ${statusClass}">${statusText}</div>
                    </div>
                    <div class="exchange-record-date">${new Date(record.date).toLocaleDateString()}</div>
                    <div class="exchange-record-details">
                        <p>æ¶ˆè€—: ${record.price}å¿ƒç†è´§å¸</p>
                        ${record.trackingNumber ? `<p>ç‰©æµå•å·: ${record.trackingNumber}</p>` : ''}
                    </div>
                `;
                
                exchangeRecords.appendChild(recordItem);
            });
            
            // åˆå§‹åŒ–å…¨éƒ¨å…‘æ¢è®°å½•
            initAllExchangeRecords();
        }

        // åˆå§‹åŒ–å…¨éƒ¨å…‘æ¢è®°å½•
        function initAllExchangeRecords() {
            const allRecordsContainer = document.getElementById('all-exchange-records');
            allRecordsContainer.innerHTML = '';
            
            if (userData.exchangeRecords.length === 0) {
                allRecordsContainer.innerHTML = '<p style="text-align: center; color: #666; padding: 20px;">æš‚æ— å…‘æ¢è®°å½•</p>';
                return;
            }
            
            // æŒ‰æ—¶é—´æ’åºï¼ˆæœ€æ–°çš„åœ¨å‰ï¼‰
            const sortedRecords = userData.exchangeRecords.sort((a, b) => new Date(b.date) - new Date(a.date));
            
            sortedRecords.forEach(record => {
                const recordItem = document.createElement('div');
                recordItem.className = 'exchange-record-item';
                
                // ç¡®å®šçŠ¶æ€æ–‡æœ¬å’Œæ ·å¼
                let statusText = '';
                let statusClass = '';
                
                if (record.productType === 'virtual') {
                    statusText = 'å·²å®Œæˆ';
                    statusClass = 'status-delivered';
                } else {
                    if (record.status === 'pending') {
                        statusText = 'å¾…å‘è´§';
                        statusClass = 'status-pending';
                    } else if (record.status === 'shipped') {
                        statusText = 'å·²å‘è´§';
                        statusClass = 'status-shipped';
                    } else if (record.status === 'delivered') {
                        statusText = 'å·²å®Œæˆ';
                        statusClass = 'status-delivered';
                    }
                }
                
                recordItem.innerHTML = `
                    <div class="exchange-record-header">
                        <div class="exchange-record-title">${record.productName}</div>
                        <div class="exchange-record-status ${statusClass}">${statusText}</div>
                    </div>
                    <div class="exchange-record-date">${new Date(record.date).toLocaleDateString()}</div>
                    <div class="exchange-record-details">
                        <p>æ¶ˆè€—: ${record.price}å¿ƒç†è´§å¸</p>
                        ${record.trackingNumber ? `<p>ç‰©æµå•å·: ${record.trackingNumber}</p>` : ''}
                        ${record.shippingAddress ? `<p>æ”¶è´§åœ°å€: ${record.shippingAddress}</p>` : ''}
                    </div>
                `;
                
                allRecordsContainer.appendChild(recordItem);
            });
        }

        // è®¾ç½®è§†é¢‘é€šè¯åŠŸèƒ½
        function setupVideoCall() {
            const startCallButton = document.getElementById('start-call');
            const endCallButton = document.getElementById('end-call');
            const toggleAudioButton = document.getElementById('toggle-audio');
            const toggleVideoButton = document.getElementById('toggle-video');
            const userVideo = document.getElementById('user-video');
            const aiVideo = document.getElementById('ai-video');

            // å¼€å§‹è§†é¢‘é€šè¯
            startCallButton.addEventListener('click', async function() {
                try {
                    // è·å–ç”¨æˆ·åª’ä½“æµ
                    localStream = await navigator.mediaDevices.getUserMedia({ 
                        video: true, 
                        audio: true 
                    });
                    
                    userVideo.srcObject = localStream;
                    
                    // æ¨¡æ‹ŸAIä¼™ä¼´è§†é¢‘ï¼ˆå®é™…åº”ç”¨ä¸­è¿™é‡Œåº”è¯¥æ˜¯ä»æœåŠ¡å™¨è·å–çš„AIä¼™ä¼´è§†é¢‘æµï¼‰
                    aiVideo.src = "https://storage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4";
                    
                    // æ›´æ–°UI
                    startCallButton.style.display = 'none';
                    endCallButton.style.display = 'block';
                    isCallActive = true;
                    
                    // å¼€å§‹å®æ—¶åˆ†æ
                    startRealTimeAnalysis();
                    
                    // å¼€å§‹è¯­éŸ³è¯†åˆ«
                    startSpeechRecognition();
                    
                } catch (error) {
                    console.error('æ— æ³•è®¿é—®æ‘„åƒå¤´/éº¦å…‹é£:', error);
                    alert('æ— æ³•è®¿é—®æ‘„åƒå¤´/éº¦å…‹é£ï¼Œè¯·æ£€æŸ¥æƒé™è®¾ç½®');
                }
            });

            // ç»“æŸè§†é¢‘é€šè¯
            endCallButton.addEventListener('click', function() {
                endVideoCall();
            });

            // åˆ‡æ¢éŸ³é¢‘
            toggleAudioButton.addEventListener('click', function() {
                if (localStream) {
                    const audioTracks = localStream.getAudioTracks();
                    audioTracks.forEach(track => {
                        track.enabled = !track.enabled;
                    });
                    isAudioEnabled = !isAudioEnabled;
                    toggleAudioButton.textContent = isAudioEnabled ? 'ğŸ¤' : 'ğŸ”‡';
                }
            });

            // åˆ‡æ¢è§†é¢‘
            toggleVideoButton.addEventListener('click', function() {
                if (localStream) {
                    const videoTracks = localStream.getVideoTracks();
                    videoTracks.forEach(track => {
                        track.enabled = !track.enabled;
                    });
                    isVideoEnabled = !isVideoEnabled;
                    toggleVideoButton.textContent = isVideoEnabled ? 'ğŸ“¹' : 'ğŸ“·';
                }
            });
        }

        // å¼€å§‹å®æ—¶åˆ†æ
        function startRealTimeAnalysis() {
            // æ¨¡æ‹Ÿå®æ—¶é¢éƒ¨è¡¨æƒ…å’Œæƒ…ç»ªåˆ†æ
            setInterval(() => {
                if (!isCallActive) return;
                
                // æ¨¡æ‹Ÿé¢éƒ¨è¡¨æƒ…åˆ†æ
                updateFacialAnalysis();
                
                // æ¨¡æ‹Ÿæƒ…ç»ªçŠ¶æ€åˆ†æ
                updateEmotionAnalysis();
                
            }, 3000); // æ¯3ç§’æ›´æ–°ä¸€æ¬¡åˆ†æç»“æœ
        }

        // æ›´æ–°é¢éƒ¨è¡¨æƒ…åˆ†æ
        function updateFacialAnalysis() {
            const facialExpressions = [
                { expression: 'å¾®ç¬‘', confidence: Math.floor(Math.random() * 30) + 70 },
                { expression: 'çš±çœ‰', confidence: Math.floor(Math.random() * 20) },
                { expression: 'æƒŠè®¶', confidence: Math.floor(Math.random() * 15) },
                { expression: 'å¹³é™', confidence: Math.floor(Math.random() * 40) + 40 }
            ];
            
            const facialAnalysisElement = document.getElementById('facial-analysis');
            facialAnalysisElement.innerHTML = '';
            
            facialExpressions.forEach(expr => {
                if (expr.confidence > 20) {
                    const tag = document.createElement('div');
                    tag.className = 'analysis-tag';
                    tag.textContent = `${expr.expression}: ${expr.confidence}%`;
                    facialAnalysisElement.appendChild(tag);
                }
            });
        }

        // æ›´æ–°æƒ…ç»ªçŠ¶æ€åˆ†æ
        function updateEmotionAnalysis() {
            const emotions = [
                { emotion: 'å¿«ä¹', intensity: Math.floor(Math.random() * 30) + 60 },
                { emotion: 'å¹³é™', intensity: Math.floor(Math.random() * 40) + 40 },
                { emotion: 'ä¸“æ³¨', intensity: Math.floor(Math.random() * 30) + 50 },
                { emotion: 'è½»å¾®ç„¦è™‘', intensity: Math.floor(Math.random() * 20) }
            ];
            
            const emotionAnalysisElement = document.getElementById('emotion-analysis');
            emotionAnalysisElement.innerHTML = '';
            
            emotions.forEach(emotion => {
                if (emotion.intensity > 25) {
                    const tag = document.createElement('div');
                    tag.className = 'analysis-tag';
                    tag.textContent = `${emotion.emotion}: ${emotion.intensity}%`;
                    emotionAnalysisElement.appendChild(tag);
                }
            });
        }

        // å¼€å§‹è¯­éŸ³è¯†åˆ«
        function startSpeechRecognition() {
            // æ£€æŸ¥æµè§ˆå™¨æ˜¯å¦æ”¯æŒè¯­éŸ³è¯†åˆ«
            if (!('webkitSpeechRecognition' in window) && !('SpeechRecognition' in window)) {
                console.log('æµè§ˆå™¨ä¸æ”¯æŒè¯­éŸ³è¯†åˆ«');
                return;
            }
            
            // åˆ›å»ºè¯­éŸ³è¯†åˆ«å¯¹è±¡
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            speechRecognition = new SpeechRecognition();
            
            // è®¾ç½®è¯­éŸ³è¯†åˆ«å‚æ•°
            speechRecognition.continuous = true;
            speechRecognition.interimResults = true;
            speechRecognition.lang = 'zh-CN';
            
            // è¯­éŸ³è¯†åˆ«å¼€å§‹
            speechRecognition.onstart = function() {
                console.log('è¯­éŸ³è¯†åˆ«å¼€å§‹');
                speechStartTime = new Date();
                speechWordCount = 0;
            };
            
            // è¯­éŸ³è¯†åˆ«ç»“æœ
            speechRecognition.onresult = function(event) {
                let interimTranscript = '';
                let finalTranscript = '';
                
                for (let i = event.resultIndex; i < event.results.length; i++) {
                    const transcript = event.results[i][0].transcript;
                    if (event.results[i].isFinal) {
                        finalTranscript += transcript;
                        speechWordCount += transcript.split(' ').length;
                    } else {
                        interimTranscript += transcript;
                    }
                }
                
                // æ›´æ–°è¯­éŸ³æ–‡æœ¬
                document.getElementById('speech-text').textContent = finalTranscript || interimTranscript || 'ç­‰å¾…è¯­éŸ³è¾“å…¥...';
                
                // è®¡ç®—è¯­é€Ÿ
                if (speechStartTime) {
                    const currentTime = new Date();
                    const elapsedMinutes = (currentTime - speechStartTime) / 60000;
                    const speechRate = Math.round(speechWordCount / elapsedMinutes);
                    document.getElementById('speech-rate').textContent = speechRate;
                }
                
                // åˆ†æè¯­è°ƒå’Œè¯­ä¹‰
                analyzeSpeechToneAndSemantic(finalTranscript || interimTranscript);
            };
            
            // è¯­éŸ³è¯†åˆ«é”™è¯¯
            speechRecognition.onerror = function(event) {
                console.error('è¯­éŸ³è¯†åˆ«é”™è¯¯:', event.error);
            };
            
            // å¼€å§‹è¯­éŸ³è¯†åˆ«
            speechRecognition.start();
        }

        // åˆ†æè¯­è°ƒå’Œè¯­ä¹‰
        function analyzeSpeechToneAndSemantic(transcript) {
            if (!transcript) return;
            
            // æ¨¡æ‹Ÿè¯­è°ƒåˆ†æ
            const tones = ['å¹³ç¨³', 'æ¿€åŠ¨', 'ä½æ²‰', 'è½»å¿«', 'ç´§å¼ '];
            const randomTone = tones[Math.floor(Math.random() * tones.length)];
            document.getElementById('speech-tone').textContent = randomTone;
            
            // æ¨¡æ‹Ÿè¯­ä¹‰åˆ†æ
            let semantic = 'ä¸­æ€§';
            if (transcript.includes('å¼€å¿ƒ') || transcript.includes('é«˜å…´') || transcript.includes('å–œæ¬¢')) {
                semantic = 'ç§¯æ';
            } else if (transcript.includes('éš¾è¿‡') || transcript.includes('ç”Ÿæ°”') || transcript.includes('è®¨åŒ')) {
                semantic = 'æ¶ˆæ';
            }
            document.getElementById('speech-semantic').textContent = semantic;
        }

        // ç»“æŸè§†é¢‘é€šè¯
        function endVideoCall() {
            // åœæ­¢åª’ä½“æµ
            if (localStream) {
                localStream.getTracks().forEach(track => track.stop());
                localStream = null;
            }
            
            // åœæ­¢è¯­éŸ³è¯†åˆ«
            if (speechRecognition) {
                speechRecognition.stop();
                speechRecognition = null;
            }
            
            // é‡ç½®è§†é¢‘å…ƒç´ 
            document.getElementById('user-video').srcObject = null;
            document.getElementById('ai-video').src = '';
            
            // æ›´æ–°UI
            document.getElementById('start-call').style.display = 'block';
            document.getElementById('end-call').style.display = 'none';
            isCallActive = false;
            
            // æ¸…ç©ºåˆ†æç»“æœ
            document.getElementById('facial-analysis').innerHTML = '';
            document.getElementById('emotion-analysis').innerHTML = '';
            document.getElementById('speech-text').textContent = 'ç­‰å¾…è¯­éŸ³è¾“å…¥...';
            document.getElementById('speech-rate').textContent = '0';
            document.getElementById('speech-tone').textContent = 'å¹³ç¨³';
            document.getElementById('speech-semantic').textContent = 'ä¸­æ€§';
        }

        // åŠ è½½ç”¨æˆ·æ•°æ®
        function loadUserData() {
            const savedData = localStorage.getItem('mindUserData');
            if (savedData) {
                userData = JSON.parse(savedData);
            }
        }

        // ä¿å­˜ç”¨æˆ·æ•°æ®
        function saveUserData() {
            localStorage.setItem('mindUserData', JSON.stringify(userData));
        }

        // åˆå§‹åŒ–é‡è¡¨åˆ—è¡¨
        function initScalesList() {
            const scalesList = document.getElementById('scales-list');
            scalesList.innerHTML = '';
            
            scales.forEach(scale => {
                const isCompleted = userData.completedScales.includes(scale.id);
                
                const scaleCard = document.createElement('div');
                scaleCard.className = 'scale-card card';
                scaleCard.innerHTML = `
                    <div class="scale-header">
                        <div class="scale-name">${scale.name}</div>
                        <div class="scale-status ${isCompleted ? 'status-completed' : 'status-available'}">
                            ${isCompleted ? 'å·²å®Œæˆ' : 'å¯æµ‹è¯„'}
                        </div>
                    </div>
                    <div class="scale-description">${scale.description}</div>
                    <div class="scale-price">${scale.price === 0 ? 'å…è´¹' : `éœ€${scale.price}å¿ƒç†è´§å¸`}</div>
                `;
                
                scaleCard.addEventListener('click', () => {
                    if (isCompleted) {
                        showScaleResult(scale.id);
                    } else {
                        startScale(scale.id);
                    }
                });
                
                scalesList.appendChild(scaleCard);
            });
        }

        // å¼€å§‹é‡è¡¨æµ‹è¯„ï¼ˆå•é¢˜æ¨¡å¼ï¼‰
        function startScale(scaleId) {
            const scale = scales.find(s => s.id === scaleId);
            if (!scale) return;
            
            // æ£€æŸ¥æ˜¯å¦æœ‰è¶³å¤Ÿçš„å¿ƒç†è´§å¸
            if (scale.price > 0 && userData.coins < scale.price) {
                alert(`æµ‹è¯„æ­¤é‡è¡¨éœ€è¦${scale.price}å¿ƒç†è´§å¸ï¼Œæ‚¨å½“å‰åªæœ‰${userData.coins}å¿ƒç†è´§å¸`);
                return;
            }
            
            // åˆå§‹åŒ–æµ‹è¯„çŠ¶æ€
            userData.currentScale = scale;
            userData.currentQuestionIndex = 0;
            userData.scaleAnswers = new Array(scale.questions.length).fill(null);
            
            // æ˜¾ç¤ºé‡è¡¨è¯¦æƒ…
            document.getElementById('scale-detail-title').textContent = scale.name;
            
            // æ˜¾ç¤ºç¬¬ä¸€é¢˜
            showQuestion(0);
            
            // æ˜¾ç¤ºé‡è¡¨è¯¦æƒ…ï¼Œéšè—åˆ—è¡¨
            document.getElementById('scales-list').parentElement.style.display = 'none';
            document.getElementById('scale-detail').style.display = 'block';
        }

        // æ˜¾ç¤ºå•é¢˜
        function showQuestion(index) {
            const scale = userData.currentScale;
            if (!scale) return;
            
            const questionsContainer = document.getElementById('scale-questions');
            
            // è¿›åº¦æ¡
            const progress = ((index + 1) / scale.questions.length) * 100;
            const progressHTML = `
                <div class="progress-bar">
                    <div class="progress" style="width: ${progress}%"></div>
                </div>
                <div class="progress-text">${index + 1}/${scale.questions.length}</div>
            `;
            
            // é—®é¢˜
            const questionHTML = `
                <div class="question-text">${scale.questions[index]}</div>
            `;
            
            // é€‰é¡¹
            let optionsHTML = '<div class="options">';
            scale.options.forEach((option, optionIndex) => {
                const isSelected = userData.scaleAnswers[index] === optionIndex;
                optionsHTML += `
                    <div class="option ${isSelected ? 'selected' : ''}" data-index="${optionIndex}">
                        <input type="radio" name="question" value="${optionIndex}" id="option-${optionIndex}" ${isSelected ? 'checked' : ''}>
                        <label for="option-${optionIndex}" class="option-label">${option}</label>
                    </div>
                `;
            });
            optionsHTML += '</div>';
            
            // å¯¼èˆªæŒ‰é’® - æ·»åŠ è¿”å›é¦–é¡µæŒ‰é’®
            let navigationHTML = '<div class="navigation-buttons">';
            if (index > 0) {
                navigationHTML += '<button class="btn btn-outline" id="prev-question">ä¸Šä¸€é¢˜</button>';
            } else {
                navigationHTML += '<button class="btn btn-outline" id="back-to-home">è¿”å›é¦–é¡µ</button>';
            }
            
            if (index < scale.questions.length - 1) {
                navigationHTML += '<button class="btn" id="next-question">ä¸‹ä¸€é¢˜</button>';
            } else {
                navigationHTML += '<button class="btn" id="submit-scale">æäº¤æµ‹è¯„</button>';
            }
            navigationHTML += '</div>';
            
            // ç»„åˆæ‰€æœ‰HTML
            questionsContainer.innerHTML = progressHTML + questionHTML + optionsHTML + navigationHTML;
            
            // æ·»åŠ é€‰é¡¹ç‚¹å‡»äº‹ä»¶
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    // ç§»é™¤å…¶ä»–é€‰é¡¹çš„é€‰ä¸­çŠ¶æ€
                    document.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                        opt.querySelector('input').checked = false;
                    });
                    
                    // è®¾ç½®å½“å‰é€‰é¡¹ä¸ºé€‰ä¸­çŠ¶æ€
                    this.classList.add('selected');
                    this.querySelector('input').checked = true;
                    
                    // ä¿å­˜ç­”æ¡ˆ
                    const answerIndex = parseInt(this.getAttribute('data-index'));
                    userData.scaleAnswers[index] = answerIndex;
                });
            });
            
            // æ·»åŠ å¯¼èˆªæŒ‰é’®äº‹ä»¶
            if (index > 0) {
                document.getElementById('prev-question').addEventListener('click', () => {
                    showQuestion(index - 1);
                });
            } else {
                document.getElementById('back-to-home').addEventListener('click', () => {
                    // è¿”å›é¦–é¡µ
                    document.getElementById('scale-detail').style.display = 'none';
                    document.getElementById('scales-list').parentElement.style.display = 'block';
                });
            }
            
            if (index < scale.questions.length - 1) {
                document.getElementById('next-question').addEventListener('click', () => {
                    if (userData.scaleAnswers[index] === null) {
                        alert('è¯·é€‰æ‹©ç­”æ¡ˆåå†ç»§ç»­');
                        return;
                    }
                    showQuestion(index + 1);
                });
            } else {
                document.getElementById('submit-scale').addEventListener('click', () => {
                    if (userData.scaleAnswers[index] === null) {
                        alert('è¯·é€‰æ‹©ç­”æ¡ˆåå†æäº¤');
                        return;
                    }
                    submitScale();
                });
            }
        }

        // æäº¤é‡è¡¨æµ‹è¯„
        function submitScale() {
            const scale = userData.currentScale;
            if (!scale) return;
            
            // æ£€æŸ¥æ˜¯å¦æ‰€æœ‰é¢˜ç›®éƒ½å·²ä½œç­”
            if (userData.scaleAnswers.includes(null)) {
                alert('è¯·å®Œæˆæ‰€æœ‰é¢˜ç›®åå†æäº¤');
                return;
            }
            
            // è®¡ç®—å¾—åˆ†
            let totalScore = 0;
            userData.scaleAnswers.forEach(answer => {
                totalScore += (answer + 1); // é€‰é¡¹ç´¢å¼•ä»0å¼€å§‹ï¼ŒåŠ 1å¾—åˆ°å®é™…åˆ†å€¼
            });
            
            // æ‰£é™¤å¿ƒç†è´§å¸ï¼ˆå¦‚æœæ˜¯ä»˜è´¹é‡è¡¨ï¼‰
            if (scale.price > 0) {
                userData.coins -= scale.price;
            }
            
            // ä¿å­˜ç»“æœ
            if (!userData.completedScales.includes(scale.id)) {
                userData.completedScales.push(scale.id);
            }
            
            userData.scaleResults[scale.id] = {
                score: totalScore,
                answers: [...userData.scaleAnswers],
                date: new Date().toISOString()
            };
            
            // ä¿å­˜æ•°æ®å¹¶æ›´æ–°UI
            saveUserData();
            updateUI();
            
            // æ˜¾ç¤ºç»“æœ
            showScaleResult(scale.id);
        }

        // æ˜¾ç¤ºé‡è¡¨ç»“æœ
        function showScaleResult(scaleId) {
            const scale = scales.find(s => s.id === scaleId);
            if (!scale) return;
            
            const result = userData.scaleResults[scaleId];
            if (!result) return;
            
            const resultContent = document.getElementById('result-content');
            resultContent.innerHTML = '';
            
            // åˆ›å»ºç»“æœæè¿°
            const resultDesc = document.createElement('div');
            resultDesc.innerHTML = `
                <h4>æµ‹è¯„ç»“æœ</h4>
                <p>æ‚¨åœ¨${scale.name}ä¸­çš„å¾—åˆ†ä¸º: <strong>${result.score}</strong></p>
                <p>æµ‹è¯„æ—¥æœŸ: ${new Date(result.date).toLocaleDateString()}</p>
                <div style="margin-top: 15px;">
                    <h5>ç»“æœè§£è¯»</h5>
                    <p>æ ¹æ®æ‚¨çš„å¾—åˆ†ï¼Œæ‚¨çš„å¿ƒç†çŠ¶æ€å¤„äºä¸­ç­‰æ°´å¹³ã€‚å»ºè®®æ‚¨ç»§ç»­å‚ä¸å¿ƒç†é“¶è¡Œçš„å„ç§æ´»åŠ¨ï¼Œæå‡å¿ƒç†å¥åº·æ°´å¹³ã€‚</p>
                </div>
            `;
            resultContent.appendChild(resultDesc);
            
            // åˆ›å»ºå›¾è¡¨å®¹å™¨
            const chartContainer = document.createElement('div');
            chartContainer.className = 'chart-container';
            chartContainer.innerHTML = '<canvas id="result-chart"></canvas>';
            resultContent.appendChild(chartContainer);
            
            // åˆ›å»ºé›·è¾¾å›¾
            const ctx = document.getElementById('result-chart').getContext('2d');
            const chartData = {
                labels: ['è‡ªæˆ‘æ•ˆèƒ½', 'éŸ§æ€§', 'å¸Œæœ›', 'ä¹è§‚'],
                datasets: [{
                    label: 'æ‚¨çš„å¾—åˆ†',
                    data: [
                        Math.floor(Math.random() * 40) + 60, // è‡ªæˆ‘æ•ˆèƒ½
                        Math.floor(Math.random() * 40) + 60, // éŸ§æ€§
                        Math.floor(Math.random() * 40) + 60, // å¸Œæœ›
                        Math.floor(Math.random() * 40) + 60  // ä¹è§‚
                    ],
                    backgroundColor: 'rgba(26, 115, 232, 0.2)',
                    borderColor: 'rgba(26, 115, 232, 1)',
                    pointBackgroundColor: 'rgba(26, 115, 232, 1)',
                    pointBorderColor: '#fff',
                    pointHoverBackgroundColor: '#fff',
                    pointHoverBorderColor: 'rgba(26, 115, 232, 1)'
                }]
            };
            
            const chartOptions = {
                scale: {
                    ticks: {
                        beginAtZero: true,
                        max: 100
                    }
                }
            };
            
            new Chart(ctx, {
                type: 'radar',
                data: chartData,
                options: chartOptions
            });
            
            // æ˜¾ç¤ºç»“æœé¡µé¢
            document.getElementById('scales-list').parentElement.style.display = 'none';
            document.getElementById('scale-detail').style.display = 'none';
            document.getElementById('scale-result').style.display = 'block';
        }

        // åˆå§‹åŒ–å…‘æ¢å•†å“åˆ—è¡¨
        function initExchangeProducts() {
            const productsContainer = document.getElementById('exchange-products');
            productsContainer.innerHTML = '';
            
            products.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.innerHTML = `
                    <div class="product-image">${product.icon}</div>
                    <div class="product-info">
                        <div class="product-name">${product.name}</div>
                        <div class="product-price">${product.price}æš</div>
                        <button class="btn" style="width: 100%; margin-top: 10px;" data-product-id="${product.id}">ç«‹å³å…‘æ¢</button>
                    </div>
                `;
                
                productsContainer.appendChild(productCard);
            });
            
            // æ·»åŠ å…‘æ¢äº‹ä»¶
            document.querySelectorAll('[data-product-id]').forEach(button => {
                button.addEventListener('click', function() {
                    const productId = parseInt(this.getAttribute('data-product-id'));
                    exchangeProduct(productId);
                });
            });
        }

        // å…‘æ¢å•†å“
        function exchangeProduct(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            if (userData.coins < product.price) {
                alert(`å…‘æ¢æ­¤å•†å“éœ€è¦${product.price}å¿ƒç†è´§å¸ï¼Œæ‚¨å½“å‰åªæœ‰${userData.coins}å¿ƒç†è´§å¸`);
                return;
            }
            
            if (confirm(`ç¡®å®šè¦ç”¨${product.price}å¿ƒç†è´§å¸å…‘æ¢${product.name}å—ï¼Ÿ`)) {
                userData.coins -= product.price;
                
                // æ·»åŠ å…‘æ¢è®°å½•
                const exchangeRecord = {
                    productId: product.id,
                    productName: product.name,
                    productType: product.type,
                    price: product.price,
                    date: new Date().toISOString(),
                    status: product.type === 'virtual' ? 'delivered' : 'pending',
                    trackingNumber: product.type === 'physical' ? 'SF' + Date.now().toString().slice(-10) : null
                };
                
                userData.exchangeRecords.push(exchangeRecord);
                
                saveUserData();
                updateUI();
                initExchangeRecords();
                alert(`å…‘æ¢æˆåŠŸï¼æ‚¨å·²æˆåŠŸå…‘æ¢${product.name}`);
                
                // å¦‚æœæ˜¯å®ä½“å•†å“ï¼Œè·³è½¬åˆ°æ”¶è´§åœ°å€é¡µé¢
                if (product.type === 'physical') {
                    // éšè—æ‰€æœ‰é¡µé¢
                    document.querySelectorAll('.page').forEach(page => {
                        page.classList.remove('active');
                    });
                    
                    // æ˜¾ç¤ºæ”¶è´§åœ°å€é¡µé¢
                    document.getElementById('page-shipping-address').classList.add('active');
                    
                    // æ›´æ–°å¯¼èˆªçŠ¶æ€
                    document.querySelectorAll('.nav-item').forEach(nav => {
                        nav.classList.remove('active');
                    });
                }
            }
        }

        // åˆå§‹åŒ–å……å€¼é€‰é¡¹
        function initRechargeOptions() {
            const optionsContainer = document.getElementById('recharge-options');
            optionsContainer.innerHTML = '';
            
            rechargeOptions.forEach(option => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'recharge-option';
                optionDiv.innerHTML = `
                    <div class="recharge-amount">${option.amount}å…ƒ</div>
                    <div class="recharge-coins">${option.coins}å¿ƒç†è´§å¸</div>
                    ${option.bonus > 0 ? `<div class="recharge-bonus">é¢å¤–èµ é€${option.bonus}æš</div>` : ''}
                    ${option.recommended ? `<div style="margin-top: 5px; font-size: 12px; color: #ff6b00;">â­ æ¨è</div>` : ''}
                `;
                
                optionDiv.addEventListener('click', () => {
                    // ç§»é™¤å…¶ä»–é€‰é¡¹çš„é€‰ä¸­çŠ¶æ€
                    document.querySelectorAll('.recharge-option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    
                    // è®¾ç½®å½“å‰é€‰é¡¹ä¸ºé€‰ä¸­çŠ¶æ€
                    optionDiv.classList.add('selected');
                    optionDiv.setAttribute('data-option', JSON.stringify(option));
                });
                
                optionsContainer.appendChild(optionDiv);
            });
        }

        // åˆå§‹åŒ–çƒ­çº¿åˆ—è¡¨
        function initHotlines() {
            const hotlinesContainer = document.getElementById('hotline-list');
            hotlinesContainer.innerHTML = '';
            
            hotlines.forEach(hotline => {
                const hotlineCard = document.createElement('div');
                hotlineCard.className = 'hotline-card';
                hotlineCard.innerHTML = `
                    <div class="hotline-name">${hotline.name}</div>
                    <div class="hotline-number">${hotline.number}</div>
                    <div class="hotline-info">æœåŠ¡æ—¶é—´: ${hotline.hours}</div>
                    <div class="hotline-info">${hotline.description}</div>
                    <button class="btn" style="width: 100%; margin-top: 10px;" onclick="copyToClipboard('${hotline.number}')">å¤åˆ¶å·ç </button>
                `;
                
                hotlinesContainer.appendChild(hotlineCard);
            });
        }

        // åˆå§‹åŒ–æ„Ÿæ©æ—¥è®°åˆ—è¡¨
        function initGratitudeList() {
            const gratitudeList = document.getElementById('gratitude-list');
            gratitudeList.innerHTML = '';
            
            if (userData.gratitudeEntries.length === 0) {
                gratitudeList.innerHTML = '<p style="text-align: center; color: #666;">æš‚æ— æ„Ÿæ©è®°å½•</p>';
                return;
            }
            
            userData.gratitudeEntries.forEach(entry => {
                const entryDiv = document.createElement('div');
                entryDiv.className = 'activity-item';
                entryDiv.innerHTML = `
                    <div class="activity-header">
                        <div class="activity-title">æ„Ÿæ©æ—¥è®°</div>
                        <div class="activity-date">${new Date(entry.date).toLocaleDateString()}</div>
                    </div>
                    <div class="activity-content">
                        <p>ä»Šå¤©ï¼Œæˆ‘æ„Ÿè°¢çš„äººæ˜¯ï¼š${entry.person}</p>
                        <p>å› ä¸ºï¼š${entry.reason}</p>
                        <p>ä»Šå¤©ï¼Œæˆ‘æ„Ÿæ©çš„ä¸€ä»¶äº‹æ˜¯ï¼š${entry.thing}</p>
                        <p>å®ƒè®©æˆ‘æ„Ÿåˆ°ï¼š${entry.feeling}</p>
                        <p>ä»Šå¤©ï¼Œä¸€ä¸ªè®©æˆ‘æ„Ÿåˆ°æ¸©æš–/å¹¸è¿çš„ç¬é—´æ˜¯ï¼š${entry.moment}</p>
                    </div>
                `;
                
                gratitudeList.appendChild(entryDiv);
            });
        }

        // åˆå§‹åŒ–å¿ƒæµæ—¶åˆ»åˆ—è¡¨
        function initFlowList() {
            const flowList = document.getElementById('flow-list');
            flowList.innerHTML = '';
            
            if (userData.flowMoments.length === 0) {
                flowList.innerHTML = '<p style="text-align: center; color: #666;">æš‚æ— å¿ƒæµè®°å½•</p>';
                return;
            }
            
            userData.flowMoments.forEach(flow => {
                const flowDiv = document.createElement('div');
                flowDiv.className = 'activity-item';
                flowDiv.innerHTML = `
                    <div class="activity-header">
                        <div class="activity-title">å¿ƒæµæ—¶åˆ» - ${flow.activity}</div>
                        <div class="activity-date">${new Date(flow.date).toLocaleDateString()}</div>
                    </div>
                    <div class="activity-content">
                        <p>æ´»åŠ¨ç±»å‹: ${flow.activity}</p>
                        <p>æŠ•å…¥æ—¶é•¿: ${flow.duration}</p>
                        <p>ç»“æŸæ—¶é—´: ${new Date(flow.endTime).toLocaleString()}</p>
                        <p>å½“ä¸‹æ„Ÿå—: ${flow.feelings.join(', ')}</p>
                        <p>è§¦å‘æ¡ä»¶: ${flow.triggers.join(', ')}</p>
                    </div>
                `;
                
                flowList.appendChild(flowDiv);
            });
        }

        // åˆå§‹åŒ–å¸Œæœ›ç›²ç›’å†å²
        function initHopeHistory() {
            const hopeHistory = document.getElementById('hope-history');
            hopeHistory.innerHTML = '';
            
            // æ›´æ–°è¿›åº¦æ¡
            const completedTasks = userData.hopeBoxTasks.filter(task => task.completed).length;
            document.getElementById('completed-tasks').textContent = completedTasks;
            document.getElementById('hope-progress').style.width = `${(completedTasks / 30) * 100}%`;
            
            if (userData.hopeBoxTasks.length === 0) {
                hopeHistory.innerHTML = '<p style="text-align: center; color: #666;">æš‚æ— ä»»åŠ¡è®°å½•</p>';
                return;
            }
            
            userData.hopeBoxTasks.forEach(task => {
                const taskDiv = document.createElement('div');
                taskDiv.className = 'activity-item';
                taskDiv.innerHTML = `
                    <div class="activity-header">
                        <div class="activity-title">${task.title}</div>
                        <div class="activity-date">${new Date(task.date).toLocaleDateString()}</div>
                    </div>
                    <div class="activity-content">
                        <p>ä»»åŠ¡ç±»åˆ«: ${task.category}</p>
                        <p>ä»»åŠ¡çŠ¶æ€: ${task.completed ? 'å·²å®Œæˆ' : 'æœªå®Œæˆ'}</p>
                        ${task.completed ? `<p>å®Œæˆæ—¶é—´: ${new Date(task.completedDate).toLocaleString()}</p>` : ''}
                    </div>
                `;
                
                hopeHistory.appendChild(taskDiv);
            });
        }

        // åˆå§‹åŒ–ç­¾åˆ°æ—¥å†
        function initCheckinCalendar() {
            const calendar = document.getElementById('checkin-calendar');
            calendar.innerHTML = '';
            
            // è·å–å½“å‰æ—¥æœŸ
            const now = new Date();
            const year = now.getFullYear();
            const month = now.getMonth();
            const today = now.getDate();
            
            // è·å–å½“æœˆç¬¬ä¸€å¤©æ˜¯æ˜ŸæœŸå‡ 
            const firstDay = new Date(year, month, 1).getDay();
            
            // è·å–å½“æœˆå¤©æ•°
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            
            // æ·»åŠ ä¸Šä¸ªæœˆçš„ç©ºç™½æ—¥æœŸ
            for (let i = 0; i < firstDay; i++) {
                const emptyDay = document.createElement('div');
                emptyDay.className = 'calendar-day';
                calendar.appendChild(emptyDay);
            }
            
            // æ·»åŠ å½“æœˆæ—¥æœŸ
            for (let day = 1; day <= daysInMonth; day++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day';
                dayElement.textContent = day;
                
                // æ£€æŸ¥æ˜¯å¦æ˜¯ä»Šå¤©
                if (day === today) {
                    dayElement.classList.add('today');
                }
                
                // æ£€æŸ¥æ˜¯å¦å·²ç­¾åˆ°
                const checkinDate = `${year}-${month + 1}-${day}`;
                if (userData.checkinHistory.includes(checkinDate)) {
                    dayElement.classList.add('checked');
                }
                
                calendar.appendChild(dayElement);
            }
            
            // æ›´æ–°ç­¾åˆ°ç»Ÿè®¡
            updateCheckinStats();
        }

        // æ›´æ–°ç­¾åˆ°ç»Ÿè®¡
        function updateCheckinStats() {
            // è®¡ç®—è¿ç»­ç­¾åˆ°å¤©æ•°
            let currentStreak = 0;
            const today = new Date().toISOString().split('T')[0];
            
            // æ£€æŸ¥ä»Šå¤©æ˜¯å¦å·²ç­¾åˆ°
            if (userData.checkinHistory.includes(today)) {
                currentStreak = 1;
                
                // æ£€æŸ¥è¿ç»­ç­¾åˆ°
                for (let i = 1; i <= 7; i++) {
                    const prevDate = new Date();
                    prevDate.setDate(prevDate.getDate() - i);
                    const prevDateStr = prevDate.toISOString().split('T')[0];
                    
                    if (userData.checkinHistory.includes(prevDateStr)) {
                        currentStreak++;
                    } else {
                        break;
                    }
                }
            }
            
            document.getElementById('current-streak').textContent = currentStreak;
            
            // è®¡ç®—æœ¬æœˆç­¾åˆ°å¤©æ•°
            const currentMonth = new Date().getMonth();
            const currentYear = new Date().getFullYear();
            const monthCheckins = userData.checkinHistory.filter(date => {
                const dateObj = new Date(date);
                return dateObj.getMonth() === currentMonth && dateObj.getFullYear() === currentYear;
            }).length;
            
            document.getElementById('month-checkins').textContent = monthCheckins;
            
            // æ€»ç­¾åˆ°æ•°
            document.getElementById('total-checkins').textContent = userData.checkinHistory.length;
        }

        // åˆå§‹åŒ–å†å²è®°å½•
        function initActivityHistory() {
            // ç”Ÿæˆç¤ºä¾‹å†å²è®°å½•
            if (userData.activityHistory.length === 0) {
                userData.activityHistory = [
                    {
                        type: 'scale',
                        title: 'ç§¯æå¿ƒç†èµ„æœ¬é‡è¡¨æµ‹è¯„',
                        time: new Date(Date.now() - 86400000).toISOString(),
                        coins: 0,
                        icon: 'ğŸ“Š'
                    },
                    {
                        type: 'activity',
                        title: 'å®Œæˆæ„Ÿæ©æ—¥è®°',
                        time: new Date(Date.now() - 172800000).toISOString(),
                        coins: 15,
                        icon: 'ğŸ“'
                    },
                    {
                        type: 'ai',
                        title: 'ä¸AIä¼™ä¼´å¯¹è¯',
                        time: new Date(Date.now() - 259200000).toISOString(),
                        coins: 5,
                        icon: 'ğŸ¤–'
                    },
                    {
                        type: 'activity',
                        title: 'å®Œæˆå¸Œæœ›ç›²ç›’ä»»åŠ¡',
                        time: new Date(Date.now() - 345600000).toISOString(),
                        coins: 15,
                        icon: 'ğŸ'
                    },
                    {
                        type: 'scale',
                        title: 'ç”Ÿæ´»æ»¡æ„åº¦é‡è¡¨æµ‹è¯„',
                        time: new Date(Date.now() - 432000000).toISOString(),
                        coins: 99,
                        icon: 'ğŸ“Š'
                    },
                    {
                        type: 'activity',
                        title: 'è®°å½•å¿ƒæµæ—¶åˆ»',
                        time: new Date(Date.now() - 518400000).toISOString(),
                        coins: 10,
                        icon: 'âœ¨'
                    }
                ];
            }
            
            // æ˜¾ç¤ºå†å²è®°å½•
            showActivityHistory('all');
            
            // è®¾ç½®æ ‡ç­¾åˆ‡æ¢äº‹ä»¶
            document.querySelectorAll('.history-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    // ç§»é™¤æ‰€æœ‰æ´»è·ƒçŠ¶æ€
                    document.querySelectorAll('.history-tab').forEach(t => {
                        t.classList.remove('active');
                    });
                    
                    // è®¾ç½®å½“å‰æ´»è·ƒçŠ¶æ€
                    this.classList.add('active');
                    
                    // æ˜¾ç¤ºå¯¹åº”ç±»å‹çš„å†å²è®°å½•
                    const tabType = this.getAttribute('data-tab');
                    showActivityHistory(tabType);
                });
            });
        }

        // æ˜¾ç¤ºæ´»åŠ¨å†å²è®°å½•
        function showActivityHistory(type) {
            const historyList = document.getElementById('history-list');
            historyList.innerHTML = '';
            
            let filteredHistory = userData.activityHistory;
            
            if (type !== 'all') {
                filteredHistory = userData.activityHistory.filter(item => item.type === type);
            }
            
            if (filteredHistory.length === 0) {
                historyList.innerHTML = '<p style="text-align: center; color: #666; padding: 20px;">æš‚æ— è®°å½•</p>';
                return;
            }
            
            // æŒ‰æ—¶é—´æ’åºï¼ˆæœ€æ–°çš„åœ¨å‰ï¼‰
            filteredHistory.sort((a, b) => new Date(b.time) - new Date(a.time));
            
            filteredHistory.forEach(item => {
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item';
                
                historyItem.innerHTML = `
                    <div class="history-icon">${item.icon}</div>
                    <div class="history-content">
                        <div class="history-title">${item.title}</div>
                        <div class="history-time">${new Date(item.time).toLocaleString()}</div>
                    </div>
                    ${item.coins > 0 ? `<div class="history-coins">+${item.coins}</div>` : ''}
                `;
                
                historyList.appendChild(historyItem);
            });
        }

        // åˆå§‹åŒ–å¸¸ç”¨åŠŸèƒ½
        function initFavoriteFunctions() {
            const favoritesGrid = document.getElementById('favorites-grid');
            favoritesGrid.innerHTML = '';
            
            const recommendationsGrid = document.getElementById('recommendations-grid');
            recommendationsGrid.innerHTML = '';
            
            // å¸¸ç”¨åŠŸèƒ½æ•°æ®
            const favoriteFunctionsData = [
                {
                    id: 'gratitude-journal',
                    name: 'æ„Ÿæ©æ—¥è®°',
                    desc: 'è®°å½•æ¯æ—¥æ„Ÿæ©',
                    icon: 'ğŸ“'
                },
                {
                    id: 'hope-box',
                    name: 'å¸Œæœ›ç›²ç›’',
                    desc: 'æ¯æ—¥æŠ½å–å°ä»»åŠ¡',
                    icon: 'ğŸ'
                },
                {
                    id: 'mind-mailbox',
                    name: 'å¿ƒæ™ºä¿¡ç®±',
                    desc: 'æƒ…ç»ªåˆ†äº«æ¸ é“',
                    icon: 'âœ‰ï¸'
                },
                {
                    id: 'flow-moment',
                    name: 'å¿ƒæµæ—¶åˆ»',
                    desc: 'è®°å½•ä¸“æ³¨æ—¶å…‰',
                    icon: 'âœ¨'
                },
                {
                    id: 'ai-chat',
                    name: 'AIå¯¹è¯',
                    desc: 'å¿ƒç†æˆé•¿ä¼™ä¼´',
                    icon: 'ğŸ¤–'
                },
                {
                    id: 'scale-ppq',
                    name: 'å¿ƒç†èµ„æœ¬æµ‹è¯„',
                    desc: 'è¯„ä¼°å¿ƒç†èµ„æº',
                    icon: 'ğŸ“Š'
                }
            ];
            
            // æ¨èåŠŸèƒ½æ•°æ®
            const recommendedFunctionsData = [
                {
                    id: 'hotline',
                    name: 'å¿ƒç†æ´åŠ©çƒ­çº¿',
                    desc: 'ç´§æ€¥å¿ƒç†æ”¯æŒ',
                    icon: 'ğŸ“'
                },
                {
                    id: 'exchange',
                    name: 'å…‘æ¢ä¸šåŠ¡',
                    desc: 'ä½¿ç”¨å¿ƒç†è´§å¸',
                    icon: 'ğŸ”„'
                },
                {
                    id: 'reports',
                    name: 'å¿ƒç†æŠ¥å‘Š',
                    desc: 'æŸ¥çœ‹æˆé•¿åˆ†æ',
                    icon: 'ğŸ“‹'
                }
            ];
            
            // æ˜¾ç¤ºå¸¸ç”¨åŠŸèƒ½
            favoriteFunctionsData.forEach(func => {
                const isFavorite = userData.favoriteFunctions.includes(func.id);
                
                const favoriteItem = document.createElement('div');
                favoriteItem.className = 'favorite-item';
                favoriteItem.innerHTML = `
                    <div class="favorite-icon">${func.icon}</div>
                    <div class="favorite-name">${func.name}</div>
                    <div class="favorite-desc">${func.desc}</div>
                `;
                
                favoriteItem.addEventListener('click', () => {
                    // æ ¹æ®åŠŸèƒ½IDè·³è½¬åˆ°å¯¹åº”é¡µé¢
                    navigateToFunction(func.id);
                });
                
                favoritesGrid.appendChild(favoriteItem);
            });
            
            // æ˜¾ç¤ºæ¨èåŠŸèƒ½
            recommendedFunctionsData.forEach(func => {
                const favoriteItem = document.createElement('div');
                favoriteItem.className = 'favorite-item';
                favoriteItem.innerHTML = `
                    <div class="favorite-icon">${func.icon}</div>
                    <div class="favorite-name">${func.name}</div>
                    <div class="favorite-desc">${func.desc}</div>
                `;
                
                favoriteItem.addEventListener('click', () => {
                    // æ ¹æ®åŠŸèƒ½IDè·³è½¬åˆ°å¯¹åº”é¡µé¢
                    navigateToFunction(func.id);
                });
                
                recommendationsGrid.appendChild(favoriteItem);
            });
        }

        // å¯¼èˆªåˆ°åŠŸèƒ½é¡µé¢
        function navigateToFunction(funcId) {
            // éšè—æ‰€æœ‰é¡µé¢
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // æ ¹æ®åŠŸèƒ½IDè·³è½¬åˆ°å¯¹åº”é¡µé¢
            switch(funcId) {
                case 'gratitude-journal':
                    document.getElementById('function-gratitude-journal').classList.add('active');
                    break;
                case 'hope-box':
                    document.getElementById('function-hope-box').classList.add('active');
                    break;
                case 'mind-mailbox':
                    document.getElementById('function-mind-mailbox').classList.add('active');
                    break;
                case 'flow-moment':
                    document.getElementById('function-flow-moment').classList.add('active');
                    break;
                case 'ai-chat':
                    document.getElementById('page-ai-chat').classList.add('active');
                    // æ›´æ–°å¯¼èˆªçŠ¶æ€
                    document.querySelectorAll('.nav-item').forEach(nav => {
                        nav.classList.remove('active');
                    });
                    document.querySelector('.nav-item[data-page="page-ai"]').classList.add('active');
                    break;
                case 'scale-ppq':
                    startScale('ppq');
                    break;
                case 'hotline':
                    document.getElementById('page-bank').classList.add('active');
                    // æ›´æ–°å¯¼èˆªçŠ¶æ€
                    document.querySelectorAll('.nav-item').forEach(nav => {
                        nav.classList.remove('active');
                    });
                    document.querySelector('.nav-item[data-page="page-bank"]').classList.add('active');
                    break;
                case 'exchange':
                    document.getElementById('page-exchange').classList.add('active');
                    // æ›´æ–°å¯¼èˆªçŠ¶æ€
                    document.querySelectorAll('.nav-item').forEach(nav => {
                        nav.classList.remove('active');
                    });
                    document.querySelector('.nav-item[data-page="page-exchange"]').classList.add('active');
                    break;
                case 'reports':
                    document.getElementById('page-my-reports').classList.add('active');
                    // æ›´æ–°å¯¼èˆªçŠ¶æ€
                    document.querySelectorAll('.nav-item').forEach(nav => {
                        nav.classList.remove('active');
                    });
                    document.querySelector('.nav-item[data-page="page-my-reports"]').classList.add('active');
                    break;
            }
        }

        // åˆå§‹åŒ–æŠ¥å‘Šé¡µé¢
        function initReports() {
            // åˆå§‹åŒ–å›¾è¡¨
            initCharts();
            
            // åˆå§‹åŒ–æµ‹è¯„æŠ¥å‘Šåˆ—è¡¨
            initReportsList();
        }

        // åˆå§‹åŒ–å›¾è¡¨
        function initCharts() {
            // æœˆåº¦æˆé•¿å›¾è¡¨
            const monthlyGrowthCtx = document.getElementById('monthly-growth-chart').getContext('2d');
            new Chart(monthlyGrowthCtx, {
                type: 'line',
                data: {
                    labels: ['9æœˆ', '10æœˆ', '11æœˆ'],
                    datasets: [{
                        label: 'å¿ƒç†èµ„æœ¬æŒ‡æ•°',
                        data: [65, 70, 78],
                        borderColor: '#1a73e8',
                        backgroundColor: 'rgba(26, 115, 232, 0.1)',
                        tension: 0.3,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100
                        }
                    }
                }
            });
            
            // æƒ…ç»ªè¶‹åŠ¿å›¾è¡¨
            const emotionTrendCtx = document.getElementById('emotion-trend-chart').getContext('2d');
            new Chart(emotionTrendCtx, {
                type: 'bar',
                data: {
                    labels: ['ç¬¬1å‘¨', 'ç¬¬2å‘¨', 'ç¬¬3å‘¨', 'ç¬¬4å‘¨'],
                    datasets: [{
                        label: 'ç§¯ææƒ…ç»ª',
                        data: [60, 65, 70, 75],
                        backgroundColor: '#4caf50'
                    }, {
                        label: 'æ¶ˆææƒ…ç»ª',
                        data: [40, 35, 30, 25],
                        backgroundColor: '#f44336'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100
                        }
                    }
                }
            });
        }

        // åˆå§‹åŒ–æµ‹è¯„æŠ¥å‘Šåˆ—è¡¨
        function initReportsList() {
            const reportsList = document.getElementById('reports-list');
            reportsList.innerHTML = '';
            
            // ç”Ÿæˆç¤ºä¾‹æŠ¥å‘Š
            const sampleReports = [
                {
                    title: 'ç§¯æå¿ƒç†èµ„æœ¬æµ‹è¯„æŠ¥å‘Š',
                    date: new Date(Date.now() - 86400000).toISOString(),
                    summary: 'æ‚¨çš„å¿ƒç†èµ„æœ¬å¤„äºä¸­ç­‰æ°´å¹³ï¼ŒéŸ§æ€§ç»´åº¦è¡¨ç°è¾ƒå¥½ï¼Œå¸Œæœ›ç»´åº¦æœ‰æå‡ç©ºé—´ã€‚'
                },
                {
                    title: 'ç”Ÿæ´»æ»¡æ„åº¦æµ‹è¯„æŠ¥å‘Š',
                    date: new Date(Date.now() - 259200000).toISOString(),
                    summary: 'æ‚¨å¯¹å½“å‰ç”Ÿæ´»çŠ¶æ€æ»¡æ„åº¦è¾ƒé«˜ï¼Œç‰¹åˆ«æ˜¯åœ¨äººé™…å…³ç³»å’Œè‡ªæˆ‘å®ç°æ–¹é¢ã€‚'
                },
                {
                    title: 'æƒ…ç»ªè°ƒèŠ‚èƒ½åŠ›æµ‹è¯„æŠ¥å‘Š',
                    date: new Date(Date.now() - 604800000).toISOString(),
                    summary: 'æ‚¨çš„æƒ…ç»ªè°ƒèŠ‚èƒ½åŠ›è‰¯å¥½ï¼Œå–„äºä½¿ç”¨è®¤çŸ¥é‡è¯„ç­–ç•¥è°ƒèŠ‚è´Ÿé¢æƒ…ç»ªã€‚'
                }
            ];
            
            sampleReports.forEach(report => {
                const reportCard = document.createElement('div');
                reportCard.className = 'report-card';
                
                reportCard.innerHTML = `
                    <div class="report-header">
                        <div class="report-title">${report.title}</div>
                        <div class="report-date">${new Date(report.date).toLocaleDateString()}</div>
                    </div>
                    <div class="report-summary">${report.summary}</div>
                    <div class="report-actions">
                        <button class="btn btn-outline">æŸ¥çœ‹è¯¦æƒ…</button>
                        <button class="btn">ä¸‹è½½æŠ¥å‘Š</button>
                    </div>
                `;
                
                reportsList.appendChild(reportCard);
            });
        }

        // åˆå§‹åŒ–è´¦å·ä¿¡æ¯é¡µé¢
        function initAccountInfo() {
            // è®¾ç½®å¤´åƒé€‰é¡¹äº‹ä»¶
            document.querySelectorAll('.avatar-option').forEach(option => {
                option.addEventListener('click', function() {
                    // ç§»é™¤æ‰€æœ‰é€‰ä¸­çŠ¶æ€
                    document.querySelectorAll('.avatar-option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    
                    // è®¾ç½®å½“å‰é€‰ä¸­çŠ¶æ€
                    this.classList.add('selected');
                    
                    // æ›´æ–°ç”¨æˆ·å¤´åƒ
                    userData.userInfo.avatar = this.getAttribute('data-avatar');
                    userData.userInfo.avatarImage = null; // æ¸…é™¤ä¸Šä¼ çš„å›¾ç‰‡
                    
                    // æ›´æ–°å¤´åƒæ˜¾ç¤º
                    updateAvatarDisplay();
                    
                    // ä¿å­˜æ•°æ®
                    saveUserData();
                });
            });
            
            // è®¾ç½®ä¿å­˜è´¦å·ä¿¡æ¯äº‹ä»¶
            document.getElementById('save-account-info').addEventListener('click', function() {
                // è·å–è¡¨å•æ•°æ®
                userData.userInfo.name = document.getElementById('account-name').value;
                userData.userInfo.age = parseInt(document.getElementById('account-age').value);
                userData.userInfo.school = document.getElementById('account-school').value;
                userData.userInfo.grade = document.getElementById('account-grade').value;
                userData.userInfo.phone = document.getElementById('account-phone').value;
                
                // ä¿å­˜æ•°æ®
                saveUserData();
                
                // æ›´æ–°UI
                updateUI();
                
                alert('è´¦å·ä¿¡æ¯ä¿å­˜æˆåŠŸï¼');
            });
        }

        // åˆå§‹åŒ–ç•™è¨€ä¸­å¿ƒ
        function initMessageCenter() {
            // è®¾ç½®åé¦ˆç±»å‹é€‰æ‹©äº‹ä»¶
            document.querySelectorAll('.feedback-type-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    // ç§»é™¤æ‰€æœ‰é€‰ä¸­çŠ¶æ€
                    document.querySelectorAll('.feedback-type-btn').forEach(b => {
                        b.classList.remove('selected');
                    });
                    
                    // è®¾ç½®å½“å‰é€‰ä¸­çŠ¶æ€
                    this.classList.add('selected');
                });
            });
            
            // è®¾ç½®æäº¤åé¦ˆäº‹ä»¶
            document.getElementById('submit-feedback').addEventListener('click', function() {
                const selectedType = document.querySelector('.feedback-type-btn.selected').getAttribute('data-type');
                const content = document.getElementById('feedback-content').value;
                const contact = document.getElementById('feedback-contact').value;
                
                if (!content) {
                    alert('è¯·å¡«å†™åé¦ˆå†…å®¹');
                    return;
                }
                
                // ä¿å­˜åé¦ˆ
                userData.feedbackHistory.push({
                    type: selectedType,
                    content: content,
                    contact: contact,
                    date: new Date().toISOString()
                });
                
                // ä¿å­˜æ•°æ®
                saveUserData();
                
                // æ›´æ–°åé¦ˆå†å²
                updateFeedbackHistory();
                
                // æ¸…ç©ºè¡¨å•
                document.getElementById('feedback-content').value = '';
                document.getElementById('feedback-contact').value = '';
                
                alert('åé¦ˆæäº¤æˆåŠŸï¼æ„Ÿè°¢æ‚¨çš„å»ºè®®ã€‚');
            });
            
            // åˆå§‹åŒ–åé¦ˆå†å²
            updateFeedbackHistory();
        }

        // æ›´æ–°åé¦ˆå†å²
        function updateFeedbackHistory() {
            const feedbackHistory = document.getElementById('feedback-history');
            feedbackHistory.innerHTML = '';
            
            if (userData.feedbackHistory.length === 0) {
                feedbackHistory.innerHTML = '<p style="text-align: center; color: #666;">æš‚æ— åé¦ˆè®°å½•</p>';
                return;
            }
            
            // æŒ‰æ—¶é—´æ’åºï¼ˆæœ€æ–°çš„åœ¨å‰ï¼‰
            userData.feedbackHistory.sort((a, b) => new Date(b.date) - new Date(a.date));
            
            userData.feedbackHistory.forEach(feedback => {
                const feedbackItem = document.createElement('div');
                feedbackItem.className = 'activity-item';
                
                // åé¦ˆç±»å‹æ ‡ç­¾
                let typeLabel = '';
                switch(feedback.type) {
                    case 'suggestion':
                        typeLabel = 'åŠŸèƒ½å»ºè®®';
                        break;
                    case 'bug':
                        typeLabel = 'é—®é¢˜åé¦ˆ';
                        break;
                    case 'content':
                        typeLabel = 'å†…å®¹å»ºè®®';
                        break;
                    case 'other':
                        typeLabel = 'å…¶ä»–';
                        break;
                }
                
                feedbackItem.innerHTML = `
                    <div class="activity-header">
                        <div class="activity-title">${typeLabel}</div>
                        <div class="activity-date">${new Date(feedback.date).toLocaleDateString()}</div>
                    </div>
                    <div class="activity-content">
                        <p>${feedback.content}</p>
                        ${feedback.contact ? `<p style="margin-top: 10px; color: #666;">è”ç³»æ–¹å¼: ${feedback.contact}</p>` : ''}
                    </div>
                `;
                
                feedbackHistory.appendChild(feedbackItem);
            });
        }

        // åˆå§‹åŒ–è®¤è¯ä¸­å¿ƒ
        function initCertificationCenter() {
            // è®¾ç½®å­¦æ ¡é€‰æ‹©äº‹ä»¶
            document.getElementById('verification-school').addEventListener('change', function() {
                const otherSchoolContainer = document.getElementById('other-school-container');
                if (this.value === 'å…¶ä»–') {
                    otherSchoolContainer.style.display = 'block';
                } else {
                    otherSchoolContainer.style.display = 'none';
                }
            });
            
            // è®¾ç½®ä¸Šä¼ å­¦ç”Ÿè¯äº‹ä»¶
            document.getElementById('upload-student-card').addEventListener('click', function() {
                alert('ä¸Šä¼ åŠŸèƒ½å¼€å‘ä¸­...');
            });
            
            // è®¾ç½®æäº¤è®¤è¯äº‹ä»¶
            document.getElementById('submit-verification').addEventListener('click', function() {
                const realName = document.getElementById('real-name').value;
                const school = document.getElementById('verification-school').value;
                const otherSchool = document.getElementById('other-school').value;
                const studentId = document.getElementById('student-id').value;
                
                if (!realName || !school || !studentId) {
                    alert('è¯·å¡«å†™å®Œæ•´çš„è®¤è¯ä¿¡æ¯');
                    return;
                }
                
                if (school === 'å…¶ä»–' && !otherSchool) {
                    alert('è¯·å¡«å†™å­¦æ ¡åç§°');
                    return;
                }
                
                // æ¨¡æ‹Ÿè®¤è¯æäº¤
                userData.isVerified = true;
                
                // ä¿å­˜æ•°æ®
                saveUserData();
                
                // æ›´æ–°è®¤è¯çŠ¶æ€
                updateVerificationStatus();
                
                alert('è®¤è¯ä¿¡æ¯æäº¤æˆåŠŸï¼æˆ‘ä»¬å°†åœ¨1-3ä¸ªå·¥ä½œæ—¥å†…å®Œæˆå®¡æ ¸ã€‚');
            });
            
            // åˆå§‹åŒ–è®¤è¯çŠ¶æ€
            updateVerificationStatus();
        }

        // æ›´æ–°è®¤è¯çŠ¶æ€
        function updateVerificationStatus() {
            const statusElement = document.querySelector('.verification-status');
            
            if (userData.isVerified) {
                statusElement.className = 'verification-status status-verified';
                statusElement.innerHTML = `
                    <h3>å·²è®¤è¯</h3>
                    <p>æ‚¨å·²å®Œæˆæ ¡å›­è®¤è¯</p>
                `;
            } else {
                statusElement.className = 'verification-status status-unverified';
                statusElement.innerHTML = `
                    <h3>æœªè®¤è¯</h3>
                    <p>æ‚¨å°šæœªå®Œæˆæ ¡å›­è®¤è¯</p>
                `;
            }
        }

        // åˆå§‹åŒ–åœ¨çº¿å®¢æœ
        function initOnlineService() {
            // è®¾ç½®FAQå±•å¼€/æ”¶èµ·äº‹ä»¶
            document.querySelectorAll('.faq-item').forEach(item => {
                const question = item.querySelector('.faq-question');
                question.addEventListener('click', function() {
                    item.classList.toggle('active');
                });
            });
            
            // è®¾ç½®å®¢æœèŠå¤©åŠŸèƒ½
            setupServiceChat();
        }

        // è®¾ç½®å®¢æœèŠå¤©åŠŸèƒ½
        function setupServiceChat() {
            const serviceChatInput = document.getElementById('service-chat-input');
            const sendServiceMessageButton = document.getElementById('send-service-message');
            const serviceChatMessages = document.getElementById('service-chat-messages');
            
            function sendServiceMessage() {
                const message = serviceChatInput.value.trim();
                if (message === '') return;
                
                // æ·»åŠ ç”¨æˆ·æ¶ˆæ¯
                addServiceMessage(message, 'user');
                
                // æ¸…ç©ºè¾“å…¥æ¡†
                serviceChatInput.value = '';
                
                // æ¨¡æ‹Ÿå®¢æœå›å¤
                setTimeout(() => {
                    let response;
                    
                    if (message.includes('è´¦å·') || message.includes('ä¿¡æ¯') || message.includes('ä¿®æ”¹')) {
                        response = serviceResponses.account;
                    } else if (message.includes('å……å€¼') || message.includes('æ”¯ä»˜') || message.includes('è´§å¸')) {
                        response = serviceResponses.payment;
                    } else if (message.includes('åŠŸèƒ½') || message.includes('ä½¿ç”¨') || message.includes('æ€ä¹ˆ')) {
                        response = serviceResponses.function;
                    } else if (message.includes('é”™è¯¯') || message.includes('bug') || message.includes('é—®é¢˜')) {
                        response = serviceResponses.technical;
                    } else {
                        response = serviceResponses.other;
                    }
                    
                    addServiceMessage(response, 'ai');
                }, 1000);
            }
            
            function addServiceMessage(text, sender) {
                const messageDiv = document.createElement('div');
                messageDiv.className = `message ${sender}-message`;
                
                const bubbleDiv = document.createElement('div');
                bubbleDiv.className = 'message-bubble';
                bubbleDiv.textContent = text;
                
                messageDiv.appendChild(bubbleDiv);
                serviceChatMessages.appendChild(messageDiv);
                
                // æ»šåŠ¨åˆ°åº•éƒ¨
                serviceChatMessages.scrollTop = serviceChatMessages.scrollHeight;
            }
            
            sendServiceMessageButton.addEventListener('click', sendServiceMessage);
            
            serviceChatInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendServiceMessage();
                }
            });
        }

        // è®¾ç½®å¯¼èˆªäº‹ä»¶
        function setupNavigation() {
            // åº•éƒ¨å¯¼èˆª
            document.querySelectorAll('.nav-item').forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // ç§»é™¤æ‰€æœ‰æ´»è·ƒçŠ¶æ€
                    document.querySelectorAll('.nav-item').forEach(nav => {
                        nav.classList.remove('active');
                    });
                    
                    // éšè—æ‰€æœ‰é¡µé¢
                    document.querySelectorAll('.page').forEach(page => {
                        page.classList.remove('active');
                    });
                    
                    // éšè—æ‰€æœ‰åŠŸèƒ½é¡µé¢
                    document.querySelectorAll('.function-page').forEach(page => {
                        page.classList.remove('active');
                    });
                    
                    // è®¾ç½®å½“å‰æ´»è·ƒçŠ¶æ€
                    this.classList.add('active');
                    
                    // æ˜¾ç¤ºå¯¹åº”é¡µé¢
                    const pageId = this.getAttribute('data-page');
                    document.getElementById(pageId).classList.add('active');
                });
            });
            
            // è¿”å›æŒ‰é’®
            document.querySelectorAll('.back-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const pageId = this.getAttribute('data-back');
                    
                    // éšè—æ‰€æœ‰åŠŸèƒ½é¡µé¢
                    document.querySelectorAll('.function-page').forEach(page => {
                        page.classList.remove('active');
                    });
                    
                    // æ˜¾ç¤ºå¯¹åº”é¡µé¢
                    document.getElementById(pageId).classList.add('active');
                    
                    // æ›´æ–°å¯¼èˆªçŠ¶æ€
                    document.querySelectorAll('.nav-item').forEach(nav => {
                        nav.classList.remove('active');
                    });
                    document.querySelector(`.nav-item[data-page="${pageId}"]`).classList.add('active');
                });
            });
            
            // AIä¼™ä¼´åŠŸèƒ½å¡ç‰‡ç‚¹å‡»äº‹ä»¶
            document.querySelectorAll('.ai-feature-card').forEach(card => {
                card.addEventListener('click', function() {
                    const pageId = this.getAttribute('data-page');
                    
                    // éšè—æ‰€æœ‰é¡µé¢
                    document.querySelectorAll('.page').forEach(page => {
                        page.classList.remove('active');
                    });
                    
                    // æ˜¾ç¤ºå¯¹åº”é¡µé¢
                    document.getElementById(pageId).classList.add('active');
                });
            });
            
            // è¿”å›é‡è¡¨åˆ—è¡¨æŒ‰é’®
            document.getElementById('back-to-scales').addEventListener('click', function() {
                document.getElementById('scale-result').style.display = 'none';
                document.getElementById('scales-list').parentElement.style.display = 'block';
            });
            
            // æŸ¥çœ‹å…¨éƒ¨å…‘æ¢è®°å½•æŒ‰é’®
            document.getElementById('view-all-records').addEventListener('click', function() {
                // éšè—æ‰€æœ‰é¡µé¢
                document.querySelectorAll('.page').forEach(page => {
                    page.classList.remove('active');
                });
                
                // æ˜¾ç¤ºå…‘æ¢è®°å½•é¡µé¢
                document.getElementById('page-exchange-records').classList.add('active');
                
                // æ›´æ–°å¯¼èˆªçŠ¶æ€
                document.querySelectorAll('.nav-item').forEach(nav => {
                    nav.classList.remove('active');
                });
            });
            
            // æäº¤æ”¶è´§ä¿¡æ¯æŒ‰é’®
            document.getElementById('submit-shipping').addEventListener('click', function() {
                const name = document.getElementById('shipping-name').value;
                const phone = document.getElementById('shipping-phone').value;
                const province = document.getElementById('shipping-province').value;
                const city = document.getElementById('shipping-city').value;
                const address = document.getElementById('shipping-address').value;
                const zip = document.getElementById('shipping-zip').value;
                
                if (!name || !phone || !province || !city || !address) {
                    alert('è¯·å¡«å†™å®Œæ•´çš„æ”¶è´§ä¿¡æ¯');
                    return;
                }
                
                // ä¿å­˜æ”¶è´§åœ°å€
                userData.shippingAddress = {
                    name,
                    phone,
                    province,
                    city,
                    address,
                    zip
                };
                
                // æ›´æ–°å…‘æ¢è®°å½•ä¸­çš„åœ°å€ä¿¡æ¯
                const latestRecord = userData.exchangeRecords[userData.exchangeRecords.length - 1];
                if (latestRecord) {
                    latestRecord.shippingAddress = `${province}${city}${address} (${name} ${phone})`;
                }
                
                saveUserData();
                initExchangeRecords();
                
                alert('æ”¶è´§ä¿¡æ¯æäº¤æˆåŠŸï¼');
                
                // è¿”å›å…‘æ¢ä¸šåŠ¡é¡µé¢
                document.getElementById('page-shipping-address').classList.remove('active');
                document.getElementById('page-exchange').classList.add('active');
                
                // æ›´æ–°å¯¼èˆªçŠ¶æ€
                document.querySelectorAll('.nav-item').forEach(nav => {
                    nav.classList.remove('active');
                });
                document.querySelector('.nav-item[data-page="page-exchange"]').classList.add('active');
            });
        }

        // è®¾ç½®æŒ‰é’®äº‹ä»¶
        function setupButtonEvents() {
            // å……å€¼æŒ‰é’®
            document.getElementById('recharge-btn').addEventListener('click', function() {
                // éšè—æ‰€æœ‰é¡µé¢
                document.querySelectorAll('.page').forEach(page => {
                    page.classList.remove('active');
                });
                
                // æ˜¾ç¤ºå……å€¼é¡µé¢
                document.getElementById('page-recharge').classList.add('active');
            });
            
            // ç¡®è®¤å……å€¼æŒ‰é’®
            document.getElementById('confirm-recharge').addEventListener('click', function() {
                const selectedOption = document.querySelector('.recharge-option.selected');
                if (!selectedOption) {
                    alert('è¯·é€‰æ‹©å……å€¼æ¡£ä½');
                    return;
                }
                
                const option = JSON.parse(selectedOption.getAttribute('data-option'));
                
                // æ¨¡æ‹Ÿå……å€¼æˆåŠŸ
                userData.coins += option.coins;
                userData.rechargeHistory.push({
                    amount: option.amount,
                    coins: option.coins,
                    date: new Date().toISOString()
                });
                
                saveUserData();
                updateUI();
                
                alert(`å……å€¼æˆåŠŸï¼æ‚¨å·²è·å¾—${option.coins}å¿ƒç†è´§å¸`);
                
                // è¿”å›ä¸ªäººé¡µé¢
                document.getElementById('page-recharge').classList.remove('active');
                document.getElementById('page-profile').classList.add('active');
                
                // æ›´æ–°å¯¼èˆªçŠ¶æ€
                document.querySelectorAll('.nav-item').forEach(nav => {
                    nav.classList.remove('active');
                });
                document.querySelector('.nav-item[data-page="page-profile"]').classList.add('active');
            });
            
            // å¿ƒç†é“¶è¡ŒåŠŸèƒ½æŒ‰é’®
            document.getElementById('gratitude-journal').addEventListener('click', function() {
                // éšè—æ‰€æœ‰é¡µé¢
                document.querySelectorAll('.page').forEach(page => {
                    page.classList.remove('active');
                });
                
                // æ˜¾ç¤ºæ„Ÿæ©æ—¥è®°é¡µé¢
                document.getElementById('function-gratitude-journal').classList.add('active');
            });
            
            document.getElementById('flow-moment').addEventListener('click', function() {
                // éšè—æ‰€æœ‰é¡µé¢
                document.querySelectorAll('.page').forEach(page => {
                    page.classList.remove('active');
                });
                
                // æ˜¾ç¤ºå¿ƒæµæ—¶åˆ»é¡µé¢
                document.getElementById('function-flow-moment').classList.add('active');
            });
            
            document.getElementById('hope-box').addEventListener('click', function() {
                // éšè—æ‰€æœ‰é¡µé¢
                document.querySelectorAll('.page').forEach(page => {
                    page.classList.remove('active');
                });
                
                // æ˜¾ç¤ºå¸Œæœ›ç›²ç›’é¡µé¢
                document.getElementById('function-hope-box').classList.add('active');
            });
            
            document.getElementById('mind-mailbox').addEventListener('click', function() {
                // éšè—æ‰€æœ‰é¡µé¢
                document.querySelectorAll('.page').forEach(page => {
                    page.classList.remove('active');
                });
                
                // æ˜¾ç¤ºå¿ƒæ™ºä¿¡ç®±é¡µé¢
                document.getElementById('function-mind-mailbox').classList.add('active');
            });
            
            // ä¿å­˜æ„Ÿæ©æ—¥è®°
            document.getElementById('save-gratitude').addEventListener('click', function() {
                const person = document.getElementById('grateful-person').value;
                const reason = document.getElementById('grateful-reason').value;
                const thing = document.getElementById('grateful-thing').value;
                const feeling = document.getElementById('grateful-feeling').value;
                const moment = document.getElementById('grateful-moment').value;
                
                if (!person || !reason || !thing || !feeling || !moment) {
                    alert('è¯·å¡«å†™å®Œæ•´çš„æ„Ÿæ©æ—¥è®°å†…å®¹');
                    return;
                }
                
                // ä¿å­˜æ„Ÿæ©æ—¥è®°
                userData.gratitudeEntries.push({
                    person,
                    reason,
                    thing,
                    feeling,
                    moment,
                    date: new Date().toISOString()
                });
                
                // å¥–åŠ±å¿ƒç†è´§å¸
                userData.coins += 15;
                
                saveUserData();
                updateUI();
                initGratitudeList();
                
                alert('æ„Ÿæ©æ—¥è®°ä¿å­˜æˆåŠŸï¼è·å¾—15ä¸ªå¿ƒç†è´§å¸å¥–åŠ±');
                
                // æ¸…ç©ºè¡¨å•
                document.getElementById('grateful-person').value = '';
                document.getElementById('grateful-reason').value = '';
                document.getElementById('grateful-thing').value = '';
                document.getElementById('grateful-feeling').value = '';
                document.getElementById('grateful-moment').value = '';
            });
            
            // å¿ƒæµæ—¶åˆ»æ´»åŠ¨ç±»å‹é€‰æ‹©
            document.getElementById('flow-activity').addEventListener('change', function() {
                const customInput = document.getElementById('flow-custom-activity');
                if (this.value === 'custom') {
                    customInput.style.display = 'block';
                } else {
                    customInput.style.display = 'none';
                }
            });
            
            // å¿ƒæµæ—¶åˆ»æ„Ÿå—é€‰æ‹©
            document.querySelectorAll('#flow-feelings .checkbox-item').forEach(item => {
                item.addEventListener('click', function() {
                    this.classList.toggle('selected');
                });
            });
            
            // å¿ƒæµæ—¶åˆ»è§¦å‘æ¡ä»¶é€‰æ‹©
            document.querySelectorAll('#flow-triggers .checkbox-item').forEach(item => {
                item.addEventListener('click', function() {
                    this.classList.toggle('selected');
                });
            });
            
            // ä¿å­˜å¿ƒæµæ—¶åˆ»
            document.getElementById('save-flow').addEventListener('click', function() {
                const activitySelect = document.getElementById('flow-activity');
                let activity = activitySelect.value;
                
                if (activity === 'custom') {
                    activity = document.getElementById('flow-custom-activity').value;
                    if (!activity) {
                        alert('è¯·è¾“å…¥è‡ªå®šä¹‰æ´»åŠ¨ç±»å‹');
                        return;
                    }
                }
                
                if (!activity) {
                    alert('è¯·é€‰æ‹©æ´»åŠ¨ç±»å‹');
                    return;
                }
                
                const duration = document.getElementById('flow-duration').value;
                if (!duration) {
                    alert('è¯·é€‰æ‹©æŠ•å…¥æ—¶é•¿');
                    return;
                }
                
                const endTime = document.getElementById('flow-end-time').value;
                if (!endTime) {
                    alert('è¯·é€‰æ‹©ç»“æŸæ—¶é—´');
                    return;
                }
                
                const selectedFeelings = Array.from(document.querySelectorAll('#flow-feelings .checkbox-item.selected'))
                    .map(item => item.getAttribute('data-value'));
                
                if (selectedFeelings.length === 0) {
                    alert('è¯·é€‰æ‹©è‡³å°‘ä¸€ç§å½“ä¸‹æ„Ÿå—');
                    return;
                }
                
                const selectedTriggers = Array.from(document.querySelectorAll('#flow-triggers .checkbox-item.selected'))
                    .map(item => item.getAttribute('data-value'));
                
                if (selectedTriggers.length === 0) {
                    alert('è¯·é€‰æ‹©è‡³å°‘ä¸€ç§è§¦å‘æ¡ä»¶');
                    return;
                }
                
                // ä¿å­˜å¿ƒæµæ—¶åˆ»
                userData.flowMoments.push({
                    activity,
                    duration,
                    endTime,
                    feelings: selectedFeelings,
                    triggers: selectedTriggers,
                    date: new Date().toISOString()
                });
                
                // å¥–åŠ±å¿ƒç†è´§å¸
                userData.coins += 10;
                
                saveUserData();
                updateUI();
                initFlowList();
                
                alert('å¿ƒæµæ—¶åˆ»è®°å½•æˆåŠŸï¼è·å¾—10ä¸ªå¿ƒç†è´§å¸å¥–åŠ±');
                
                // æ¸…ç©ºè¡¨å•
                document.getElementById('flow-activity').value = '';
                document.getElementById('flow-custom-activity').value = '';
                document.getElementById('flow-custom-activity').style.display = 'none';
                document.getElementById('flow-duration').value = '';
                document.getElementById('flow-end-time').value = '';
                document.querySelectorAll('#flow-feelings .checkbox-item.selected').forEach(item => {
                    item.classList.remove('selected');
                });
                document.querySelectorAll('#flow-triggers .checkbox-item.selected').forEach(item => {
                    item.classList.remove('selected');
                });
            });
            
            // å¸Œæœ›ç›²ç›’å¼€å¯
            document.getElementById('hope-box-open').addEventListener('click', function() {
                // æ£€æŸ¥ä»Šå¤©æ˜¯å¦å·²ç»å¼€å¯è¿‡ç›²ç›’
                const today = new Date().toDateString();
                const todayTask = userData.hopeBoxTasks.find(task => 
                    new Date(task.date).toDateString() === today && !task.completed
                );
                
                if (todayTask) {
                    alert('ä»Šå¤©å·²ç»å¼€å¯è¿‡å¸Œæœ›ç›²ç›’äº†ï¼Œè¯·å…ˆå®Œæˆå½“å‰ä»»åŠ¡');
                    return;
                }
                
                // æ·»åŠ åŠ¨ç”»æ•ˆæœ
                this.classList.add('opening');
                
                // æ¨¡æ‹Ÿå¼€å¯è¿‡ç¨‹
                setTimeout(() => {
                    this.classList.remove('opening');
                    
                    // éšæœºé€‰æ‹©ä¸€ä¸ªä»»åŠ¡
                    const randomTask = hopeTasks[Math.floor(Math.random() * hopeTasks.length)];
                    
                    // ä¿å­˜ä»»åŠ¡
                    userData.hopeBoxTasks.push({
                        ...randomTask,
                        date: new Date().toISOString(),
                        completed: false
                    });
                    
                    saveUserData();
                    
                    // æ˜¾ç¤ºä»»åŠ¡
                    document.getElementById('task-title').textContent = randomTask.title;
                    document.getElementById('task-description').textContent = randomTask.description;
                    document.getElementById('task-tip').textContent = randomTask.tip;
                    document.getElementById('hope-task').style.display = 'block';
                    
                    // æ›´æ–°å†å²è®°å½•
                    initHopeHistory();
                    
                }, 1000);
            });
            
            // å®Œæˆä»»åŠ¡
            document.getElementById('complete-task').addEventListener('click', function() {
                const today = new Date().toDateString();
                const todayTaskIndex = userData.hopeBoxTasks.findIndex(task => 
                    new Date(task.date).toDateString() === today && !task.completed
                );
                
                if (todayTaskIndex === -1) {
                    alert('æ²¡æœ‰æ‰¾åˆ°ä»Šå¤©çš„ä»»åŠ¡');
                    return;
                }
                
                // æ ‡è®°ä»»åŠ¡ä¸ºå·²å®Œæˆ
                userData.hopeBoxTasks[todayTaskIndex].completed = true;
                userData.hopeBoxTasks[todayTaskIndex].completedDate = new Date().toISOString();
                
                // å¥–åŠ±å¿ƒç†è´§å¸
                userData.coins += userData.hopeBoxTasks[todayTaskIndex].coins;
                
                saveUserData();
                updateUI();
                initHopeHistory();
                
                alert('ä»»åŠ¡å®Œæˆï¼è·å¾—15ä¸ªå¿ƒç†è´§å¸å¥–åŠ±');
                
                // éšè—ä»»åŠ¡å¡ç‰‡
                document.getElementById('hope-task').style.display = 'none';
            });
            
            // å¤åˆ¶é‚®ç®±åœ°å€
            document.getElementById('copy-email').addEventListener('click', function() {
                copyToClipboard('xinzhixinxiang525@126.com');
                alert('é‚®ç®±åœ°å€å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
            });
            
            // æˆ‘çš„é¡µé¢åŠŸèƒ½æŒ‰é’®
            document.getElementById('checkin-history').addEventListener('click', function() {
                // éšè—æ‰€æœ‰é¡µé¢
                document.querySelectorAll('.page').forEach(page => {
                    page.classList.remove('active');
                });
                
                // æ˜¾ç¤ºç­¾åˆ°è®°å½•é¡µé¢
                document.getElementById('page-checkin-history').classList.add('active');
            });
            
            document.getElementById('activity-history').addEventListener('click', function() {
                // éšè—æ‰€æœ‰é¡µé¢
                document.querySelectorAll('.page').forEach(page => {
                    page.classList.remove('active');
                });
                
                // æ˜¾ç¤ºå†å²è®°å½•é¡µé¢
                document.getElementById('page-activity-history').classList.add('active');
            });
            
            document.getElementById('favorite-functions').addEventListener('click', function() {
                // éšè—æ‰€æœ‰é¡µé¢
                document.querySelectorAll('.page').forEach(page => {
                    page.classList.remove('active');
                });
                
                // æ˜¾ç¤ºå¸¸ç”¨åŠŸèƒ½é¡µé¢
                document.getElementById('page-favorite-functions').classList.add('active');
            });
            
            document.getElementById('my-reports').addEventListener('click', function() {
                // éšè—æ‰€æœ‰é¡µé¢
                document.querySelectorAll('.page').forEach(page => {
                    page.classList.remove('active');
                });
                
                // æ˜¾ç¤ºæˆ‘çš„æŠ¥å‘Šé¡µé¢
                document.getElementById('page-my-reports').classList.add('active');
            });
            
            // è´¦å·ä¿¡æ¯æŒ‰é’®
            document.getElementById('account-info').addEventListener('click', function() {
                // éšè—æ‰€æœ‰é¡µé¢
                document.querySelectorAll('.page').forEach(page => {
                    page.classList.remove('active');
                });
                
                // æ˜¾ç¤ºè´¦å·ä¿¡æ¯é¡µé¢
                document.getElementById('page-account-info').classList.add('active');
            });
            
            // ç•™è¨€ä¸­å¿ƒæŒ‰é’®
            document.getElementById('message-center').addEventListener('click', function() {
                // éšè—æ‰€æœ‰é¡µé¢
                document.querySelectorAll('.page').forEach(page => {
                    page.classList.remove('active');
                });
                
                // æ˜¾ç¤ºç•™è¨€ä¸­å¿ƒé¡µé¢
                document.getElementById('page-message-center').classList.add('active');
            });
            
            // è®¤è¯ä¸­å¿ƒæŒ‰é’®
            document.getElementById('certification-center').addEventListener('click', function() {
                // éšè—æ‰€æœ‰é¡µé¢
                document.querySelectorAll('.page').forEach(page => {
                    page.classList.remove('active');
                });
                
                // æ˜¾ç¤ºè®¤è¯ä¸­å¿ƒé¡µé¢
                document.getElementById('page-certification-center').classList.add('active');
            });
            
            // åœ¨çº¿å®¢æœæŒ‰é’®
            document.getElementById('online-service').addEventListener('click', function() {
                // éšè—æ‰€æœ‰é¡µé¢
                document.querySelectorAll('.page').forEach(page => {
                    page.classList.remove('active');
                });
                
                // æ˜¾ç¤ºåœ¨çº¿å®¢æœé¡µé¢
                document.getElementById('page-online-service').classList.add('active');
            });
            
            // ä»Šæ—¥ç­¾åˆ°æŒ‰é’®
            document.getElementById('daily-checkin').addEventListener('click', function() {
                const today = new Date().toISOString().split('T')[0];
                
                // æ£€æŸ¥ä»Šå¤©æ˜¯å¦å·²ç­¾åˆ°
                if (userData.checkinHistory.includes(today)) {
                    alert('ä»Šå¤©å·²ç»ç­¾åˆ°è¿‡äº†ï¼');
                    return;
                }
                
                // è®¡ç®—è¿ç»­ç­¾åˆ°å¤©æ•°
                let streak = 0;
                for (let i = 1; i <= 7; i++) {
                    const prevDate = new Date();
                    prevDate.setDate(prevDate.getDate() - i);
                    const prevDateStr = prevDate.toISOString().split('T')[0];
                    
                    if (userData.checkinHistory.includes(prevDateStr)) {
                        streak++;
                    } else {
                        break;
                    }
                }
                
                // è®¡ç®—ç­¾åˆ°å¥–åŠ±
                let coinsEarned = 15; // é»˜è®¤å¥–åŠ±
                
                // æ ¹æ®è¿ç»­ç­¾åˆ°å¤©æ•°è°ƒæ•´å¥–åŠ±
                if (streak === 2) {
                    coinsEarned = 15;
                } else if (streak === 3) {
                    coinsEarned = 20;
                } else if (streak === 4) {
                    coinsEarned = 15;
                } else if (streak === 5) {
                    coinsEarned = 30;
                } else if (streak === 6) {
                    coinsEarned = 15;
                } else if (streak === 7) {
                    coinsEarned = 15;
                    // è¿ç»­ç­¾åˆ°7å¤©é¢å¤–å¥–åŠ±
                    coinsEarned += 50;
                    alert('æ­å–œæ‚¨è¿ç»­ç­¾åˆ°7å¤©ï¼Œè·å¾—é¢å¤–50å¿ƒç†è´§å¸å¥–åŠ±ï¼');
                }
                
                // æ·»åŠ ç­¾åˆ°è®°å½•
                userData.checkinHistory.push(today);
                
                // å¥–åŠ±å¿ƒç†è´§å¸
                userData.coins += coinsEarned;
                
                // æ·»åŠ æ´»åŠ¨è®°å½•
                userData.activityHistory.unshift({
                    type: 'checkin',
                    title: 'æ¯æ—¥ç­¾åˆ°',
                    time: new Date().toISOString(),
                    coins: coinsEarned,
                    icon: 'âœ…'
                });
                
                saveUserData();
                updateUI();
                initCheckinCalendar();
                
                alert(`ç­¾åˆ°æˆåŠŸï¼è·å¾—${coinsEarned}å¿ƒç†è´§å¸å¥–åŠ±`);
            });
        }

        // è®¾ç½®èŠå¤©åŠŸèƒ½
        function setupChat() {
            const chatInput = document.getElementById('chat-input');
            const sendButton = document.getElementById('send-message');
            const chatMessages = document.getElementById('chat-messages');
            
            function sendMessage() {
                const message = chatInput.value.trim();
                if (message === '') return;
                
                // æ·»åŠ ç”¨æˆ·æ¶ˆæ¯
                addMessage(message, 'user');
                
                // æ¸…ç©ºè¾“å…¥æ¡†
                chatInput.value = '';
                
                // æ¨¡æ‹ŸAIå›å¤
                setTimeout(() => {
                    let response;
                    
                    if (message.includes('ä¸å¼€å¿ƒ') || message.includes('éš¾è¿‡') || message.includes('å‹åŠ›') || 
                        message.includes('ç„¦è™‘') || message.includes('éƒé—·') || message.includes('çƒ¦æ¼')) {
                        response = aiResponses.negative[Math.floor(Math.random() * aiResponses.negative.length)];
                    } else if (message.includes('ä¸è¡Œ') || message.includes('ä¸å¥½') || message.includes('å¤±è´¥') ||
                               message.includes('è‡ªå‘') || message.includes('æ€€ç–‘') || message.includes('å¦å®š')) {
                        response = aiResponses.selfDoubt[Math.floor(Math.random() * aiResponses.selfDoubt.length)];
                    } else if (message.includes('è¿·èŒ«') || message.includes('å›°æƒ‘') || message.includes('ä¸çŸ¥æ‰€æª') ||
                               message.includes('é€‰æ‹©') || message.includes('æ–¹å‘')) {
                        response = aiResponses.confused[Math.floor(Math.random() * aiResponses.confused.length)];
                    } else if (message.includes('é¼“åŠ±') || message.includes('æ”¯æŒ') || message.includes('åŠ æ²¹') ||
                               message.includes('åšæŒ') || message.includes('åŠªåŠ›')) {
                        response = aiResponses.encouragement[Math.floor(Math.random() * aiResponses.encouragement.length)];
                    } else if (message.includes('å¼€å¿ƒ') || message.includes('é«˜å…´') || message.includes('å–œæ‚¦') ||
                               message.includes('æˆåŠŸ') || message.includes('æˆå°±') || message.includes('è·å¥–')) {
                        response = aiResponses.positive[Math.floor(Math.random() * aiResponses.positive.length)];
                    } else {
                        response = aiResponses.listening[Math.floor(Math.random() * aiResponses.listening.length)];
                    }
                    
                    addMessage(response, 'ai');
                }, 1000);
            }
            
            function addMessage(text, sender) {
                const messageDiv = document.createElement('div');
                messageDiv.className = `message ${sender}-message`;
                
                const bubbleDiv = document.createElement('div');
                bubbleDiv.className = 'message-bubble';
                bubbleDiv.textContent = text;
                
                messageDiv.appendChild(bubbleDiv);
                chatMessages.appendChild(messageDiv);
                
                // æ»šåŠ¨åˆ°åº•éƒ¨
                chatMessages.scrollTop = chatMessages.scrollHeight;
                
                // ä¿å­˜åˆ°èŠå¤©å†å²
                userData.chatHistory.push({
                    sender: sender,
                    text: text,
                    timestamp: new Date().toISOString()
                });
                
                saveUserData();
            }
            
            sendButton.addEventListener('click', sendMessage);
            
            chatInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });
        }

        // æ›´æ–°UIæ˜¾ç¤º
        function updateUI() {
            // æ›´æ–°å¿ƒç†è´§å¸æ˜¾ç¤º
            document.getElementById('current-coins').textContent = `æˆ‘çš„è´§å¸: ${userData.coins}æš`;
            document.getElementById('profile-coins').textContent = userData.coins;
            
            // æ›´æ–°ç”¨æˆ·ä¿¡æ¯æ˜¾ç¤º
            document.querySelector('.user-name').textContent = userData.userInfo.name;
            
            // æ›´æ–°å¤´åƒæ˜¾ç¤º
            updateAvatarDisplay();
            
            // æ›´æ–°é‡è¡¨åˆ—è¡¨
            initScalesList();
        }

        // å¤åˆ¶åˆ°å‰ªè´´æ¿
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert('å·ç å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
            }).catch(err => {
                console.error('å¤åˆ¶å¤±è´¥: ', err);
            });
        }
    </script>
</body>
</html>